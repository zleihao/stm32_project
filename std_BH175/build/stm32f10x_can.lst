ARM GAS  /tmp/ccMTgD8N.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32f10x_can.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.CAN_DeInit,"ax",%progbits
  16              		.align	1
  17              		.global	CAN_DeInit
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	CAN_DeInit:
  25              	.LFB29:
  26              		.file 1 "./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c"
   1:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
   2:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ******************************************************************************
   3:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @file    stm32f10x_can.c
   4:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @author  MCD Application Team
   5:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @version V3.5.0
   6:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @date    11-March-2011
   7:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief   This file provides all the CAN firmware functions.
   8:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ******************************************************************************
   9:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @attention
  10:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *
  11:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *
  18:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ******************************************************************************
  20:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  21:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  22:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Includes ------------------------------------------------------------------*/
  23:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #include "stm32f10x_can.h"
  24:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #include "stm32f10x_rcc.h"
  25:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  26:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  27:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  28:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  29:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  30:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN 
  31:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief CAN driver modules
  32:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
ARM GAS  /tmp/ccMTgD8N.s 			page 2


  33:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */ 
  34:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  35:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_TypesDefinitions
  36:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  37:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  38:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  39:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
  40:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
  41:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  42:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  43:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Defines
  44:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  45:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  46:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  47:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* CAN Master Control Register bits */
  48:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  49:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define MCR_DBF      ((uint32_t)0x00010000) /* software master reset */
  50:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  51:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* CAN Mailbox Transmit Request */
  52:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define TMIDxR_TXRQ  ((uint32_t)0x00000001) /* Transmit mailbox request */
  53:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  54:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* CAN Filter Master Register bits */
  55:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define FMR_FINIT    ((uint32_t)0x00000001) /* Filter init mode */
  56:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  57:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Time out for INAK bit */
  58:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define INAK_TIMEOUT        ((uint32_t)0x0000FFFF)
  59:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Time out for SLAK bit */
  60:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define SLAK_TIMEOUT        ((uint32_t)0x0000FFFF)
  61:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  62:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  63:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  64:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in TSR register */
  65:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_TSR              ((uint32_t)0x08000000) 
  66:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in RF1R register */
  67:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_RF1R             ((uint32_t)0x04000000) 
  68:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in RF0R register */
  69:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_RF0R             ((uint32_t)0x02000000) 
  70:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in MSR register */
  71:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_MSR              ((uint32_t)0x01000000) 
  72:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in ESR register */
  73:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_ESR              ((uint32_t)0x00F00000) 
  74:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  75:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Mailboxes definition */
  76:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_0                   ((uint8_t)0x00)
  77:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_1                   ((uint8_t)0x01)
  78:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_2                   ((uint8_t)0x02) 
  79:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  80:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  81:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  82:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_MODE_MASK              ((uint32_t) 0x00000003)
  83:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
  84:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
  85:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  86:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  87:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Macros
  88:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  89:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
ARM GAS  /tmp/ccMTgD8N.s 			page 3


  90:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  91:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
  92:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
  93:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  94:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  95:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Variables
  96:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  97:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  98:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  99:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 100:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
 101:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 102:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 103:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_FunctionPrototypes
 104:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
 105:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 106:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 107:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit);
 108:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 109:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 110:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
 111:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 112:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 113:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Functions
 114:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
 115:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 116:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 117:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 118:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Deinitializes the CAN peripheral registers to their default reset values.
 119:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx: where x can be 1 or 2 to select the CAN peripheral.
 120:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 121:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 122:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_DeInit(CAN_TypeDef* CANx)
 123:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
  27              		.loc 1 123 1
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 80B5     		push	{r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 7, -8
  35              		.cfi_offset 14, -4
  36 0002 82B0     		sub	sp, sp, #8
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 16
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 7860     		str	r0, [r7, #4]
 124:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 125:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 126:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  
 127:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CANx == CAN1)
  43              		.loc 1 127 6
  44 0008 7B68     		ldr	r3, [r7, #4]
  45 000a 0E4A     		ldr	r2, .L5
ARM GAS  /tmp/ccMTgD8N.s 			page 4


  46 000c 9342     		cmp	r3, r2
  47 000e 0AD1     		bne	.L2
 128:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 129:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable CAN1 reset state */
 130:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, ENABLE);
  48              		.loc 1 130 5
  49 0010 0121     		movs	r1, #1
  50 0012 4FF00070 		mov	r0, #33554432
  51 0016 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 131:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Release CAN1 from reset state */
 132:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, DISABLE);
  52              		.loc 1 132 5
  53 001a 0021     		movs	r1, #0
  54 001c 4FF00070 		mov	r0, #33554432
  55 0020 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 133:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 134:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 135:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {  
 136:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable CAN2 reset state */
 137:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, ENABLE);
 138:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Release CAN2 from reset state */
 139:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, DISABLE);
 140:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 141:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
  56              		.loc 1 141 1
  57 0024 09E0     		b	.L4
  58              	.L2:
 137:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Release CAN2 from reset state */
  59              		.loc 1 137 5
  60 0026 0121     		movs	r1, #1
  61 0028 4FF08060 		mov	r0, #67108864
  62 002c FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 139:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
  63              		.loc 1 139 5
  64 0030 0021     		movs	r1, #0
  65 0032 4FF08060 		mov	r0, #67108864
  66 0036 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  67              	.L4:
  68              		.loc 1 141 1
  69 003a 00BF     		nop
  70 003c 0837     		adds	r7, r7, #8
  71              	.LCFI3:
  72              		.cfi_def_cfa_offset 8
  73 003e BD46     		mov	sp, r7
  74              	.LCFI4:
  75              		.cfi_def_cfa_register 13
  76              		@ sp needed
  77 0040 80BD     		pop	{r7, pc}
  78              	.L6:
  79 0042 00BF     		.align	2
  80              	.L5:
  81 0044 00640040 		.word	1073767424
  82              		.cfi_endproc
  83              	.LFE29:
  85              		.section	.text.CAN_Init,"ax",%progbits
  86              		.align	1
  87              		.global	CAN_Init
ARM GAS  /tmp/ccMTgD8N.s 			page 5


  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu softvfp
  93              	CAN_Init:
  94              	.LFB30:
 142:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 143:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 144:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Initializes the CAN peripheral according to the specified
 145:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         parameters in the CAN_InitStruct.
 146:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:           where x can be 1 or 2 to to select the CAN 
 147:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         peripheral.
 148:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure that
 149:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         contains the configuration information for the 
 150:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         CAN peripheral.
 151:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval Constant indicates initialization succeed which will be 
 152:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         CAN_InitStatus_Failed or CAN_InitStatus_Success.
 153:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 154:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_Init(CAN_TypeDef* CANx, CAN_InitTypeDef* CAN_InitStruct)
 155:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
  95              		.loc 1 155 1
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 16
  98              		@ frame_needed = 1, uses_anonymous_args = 0
  99              		@ link register save eliminated.
 100 0000 80B4     		push	{r7}
 101              	.LCFI5:
 102              		.cfi_def_cfa_offset 4
 103              		.cfi_offset 7, -4
 104 0002 85B0     		sub	sp, sp, #20
 105              	.LCFI6:
 106              		.cfi_def_cfa_offset 24
 107 0004 00AF     		add	r7, sp, #0
 108              	.LCFI7:
 109              		.cfi_def_cfa_register 7
 110 0006 7860     		str	r0, [r7, #4]
 111 0008 3960     		str	r1, [r7]
 156:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t InitStatus = CAN_InitStatus_Failed;
 112              		.loc 1 156 11
 113 000a 0023     		movs	r3, #0
 114 000c FB73     		strb	r3, [r7, #15]
 157:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t wait_ack = 0x00000000;
 115              		.loc 1 157 12
 116 000e 0023     		movs	r3, #0
 117 0010 BB60     		str	r3, [r7, #8]
 158:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 159:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 160:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TTCM));
 161:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_ABOM));
 162:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_AWUM));
 163:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_NART));
 164:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_RFLM));
 165:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TXFP));
 166:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_MODE(CAN_InitStruct->CAN_Mode));
 167:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_SJW(CAN_InitStruct->CAN_SJW));
 168:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BS1(CAN_InitStruct->CAN_BS1));
 169:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BS2(CAN_InitStruct->CAN_BS2));
ARM GAS  /tmp/ccMTgD8N.s 			page 6


 170:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_PRESCALER(CAN_InitStruct->CAN_Prescaler));
 171:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 172:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Exit from sleep mode */
 173:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CANx->MCR &= (~(uint32_t)CAN_MCR_SLEEP);
 118              		.loc 1 173 13
 119 0012 7B68     		ldr	r3, [r7, #4]
 120 0014 1B68     		ldr	r3, [r3]
 121 0016 23F00202 		bic	r2, r3, #2
 122 001a 7B68     		ldr	r3, [r7, #4]
 123 001c 1A60     		str	r2, [r3]
 174:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 175:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Request initialisation */
 176:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CANx->MCR |= CAN_MCR_INRQ ;
 124              		.loc 1 176 13
 125 001e 7B68     		ldr	r3, [r7, #4]
 126 0020 1B68     		ldr	r3, [r3]
 127 0022 43F00102 		orr	r2, r3, #1
 128 0026 7B68     		ldr	r3, [r7, #4]
 129 0028 1A60     		str	r2, [r3]
 177:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 178:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Wait the acknowledge */
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   while (((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 130              		.loc 1 179 9
 131 002a 02E0     		b	.L8
 132              	.L10:
 180:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 181:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     wait_ack++;
 133              		.loc 1 181 13
 134 002c BB68     		ldr	r3, [r7, #8]
 135 002e 0133     		adds	r3, r3, #1
 136 0030 BB60     		str	r3, [r7, #8]
 137              	.L8:
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 138              		.loc 1 179 16
 139 0032 7B68     		ldr	r3, [r7, #4]
 140 0034 5B68     		ldr	r3, [r3, #4]
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 141              		.loc 1 179 22
 142 0036 03F00103 		and	r3, r3, #1
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 143              		.loc 1 179 9
 144 003a 012B     		cmp	r3, #1
 145 003c 04D0     		beq	.L9
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 146              		.loc 1 179 55 discriminator 1
 147 003e BB68     		ldr	r3, [r7, #8]
 148 0040 4FF6FF72 		movw	r2, #65535
 149 0044 9342     		cmp	r3, r2
 150 0046 F1D1     		bne	.L10
 151              	.L9:
 182:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 183:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 184:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check acknowledge */
 185:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK)
 152              		.loc 1 185 12
 153 0048 7B68     		ldr	r3, [r7, #4]
 154 004a 5B68     		ldr	r3, [r3, #4]
ARM GAS  /tmp/ccMTgD8N.s 			page 7


 155              		.loc 1 185 18
 156 004c 03F00103 		and	r3, r3, #1
 157              		.loc 1 185 6
 158 0050 012B     		cmp	r3, #1
 159 0052 02D0     		beq	.L11
 186:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 187:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     InitStatus = CAN_InitStatus_Failed;
 160              		.loc 1 187 16
 161 0054 0023     		movs	r3, #0
 162 0056 FB73     		strb	r3, [r7, #15]
 163 0058 9CE0     		b	.L12
 164              	.L11:
 188:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 189:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else 
 190:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 191:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the time triggered communication mode */
 192:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TTCM == ENABLE)
 165              		.loc 1 192 23
 166 005a 3B68     		ldr	r3, [r7]
 167 005c 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 168              		.loc 1 192 8
 169 005e 012B     		cmp	r3, #1
 170 0060 06D1     		bne	.L13
 193:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 194:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_TTCM;
 171              		.loc 1 194 17
 172 0062 7B68     		ldr	r3, [r7, #4]
 173 0064 1B68     		ldr	r3, [r3]
 174 0066 43F08002 		orr	r2, r3, #128
 175 006a 7B68     		ldr	r3, [r7, #4]
 176 006c 1A60     		str	r2, [r3]
 177 006e 05E0     		b	.L14
 178              	.L13:
 195:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 196:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 197:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 198:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TTCM;
 179              		.loc 1 198 17
 180 0070 7B68     		ldr	r3, [r7, #4]
 181 0072 1B68     		ldr	r3, [r3]
 182 0074 23F08002 		bic	r2, r3, #128
 183 0078 7B68     		ldr	r3, [r7, #4]
 184 007a 1A60     		str	r2, [r3]
 185              	.L14:
 199:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 200:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 201:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the automatic bus-off management */
 202:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_ABOM == ENABLE)
 186              		.loc 1 202 23
 187 007c 3B68     		ldr	r3, [r7]
 188 007e DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 189              		.loc 1 202 8
 190 0080 012B     		cmp	r3, #1
 191 0082 06D1     		bne	.L15
 203:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 204:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_ABOM;
 192              		.loc 1 204 17
ARM GAS  /tmp/ccMTgD8N.s 			page 8


 193 0084 7B68     		ldr	r3, [r7, #4]
 194 0086 1B68     		ldr	r3, [r3]
 195 0088 43F04002 		orr	r2, r3, #64
 196 008c 7B68     		ldr	r3, [r7, #4]
 197 008e 1A60     		str	r2, [r3]
 198 0090 05E0     		b	.L16
 199              	.L15:
 205:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 206:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 207:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 208:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_ABOM;
 200              		.loc 1 208 17
 201 0092 7B68     		ldr	r3, [r7, #4]
 202 0094 1B68     		ldr	r3, [r3]
 203 0096 23F04002 		bic	r2, r3, #64
 204 009a 7B68     		ldr	r3, [r7, #4]
 205 009c 1A60     		str	r2, [r3]
 206              	.L16:
 209:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 210:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 211:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the automatic wake-up mode */
 212:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_AWUM == ENABLE)
 207              		.loc 1 212 23
 208 009e 3B68     		ldr	r3, [r7]
 209 00a0 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 210              		.loc 1 212 8
 211 00a2 012B     		cmp	r3, #1
 212 00a4 06D1     		bne	.L17
 213:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 214:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_AWUM;
 213              		.loc 1 214 17
 214 00a6 7B68     		ldr	r3, [r7, #4]
 215 00a8 1B68     		ldr	r3, [r3]
 216 00aa 43F02002 		orr	r2, r3, #32
 217 00ae 7B68     		ldr	r3, [r7, #4]
 218 00b0 1A60     		str	r2, [r3]
 219 00b2 05E0     		b	.L18
 220              	.L17:
 215:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 216:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 217:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 218:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_AWUM;
 221              		.loc 1 218 17
 222 00b4 7B68     		ldr	r3, [r7, #4]
 223 00b6 1B68     		ldr	r3, [r3]
 224 00b8 23F02002 		bic	r2, r3, #32
 225 00bc 7B68     		ldr	r3, [r7, #4]
 226 00be 1A60     		str	r2, [r3]
 227              	.L18:
 219:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 220:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 221:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the no automatic retransmission */
 222:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_NART == ENABLE)
 228              		.loc 1 222 23
 229 00c0 3B68     		ldr	r3, [r7]
 230 00c2 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 231              		.loc 1 222 8
ARM GAS  /tmp/ccMTgD8N.s 			page 9


 232 00c4 012B     		cmp	r3, #1
 233 00c6 06D1     		bne	.L19
 223:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 224:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_NART;
 234              		.loc 1 224 17
 235 00c8 7B68     		ldr	r3, [r7, #4]
 236 00ca 1B68     		ldr	r3, [r3]
 237 00cc 43F01002 		orr	r2, r3, #16
 238 00d0 7B68     		ldr	r3, [r7, #4]
 239 00d2 1A60     		str	r2, [r3]
 240 00d4 05E0     		b	.L20
 241              	.L19:
 225:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 226:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 227:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 228:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_NART;
 242              		.loc 1 228 17
 243 00d6 7B68     		ldr	r3, [r7, #4]
 244 00d8 1B68     		ldr	r3, [r3]
 245 00da 23F01002 		bic	r2, r3, #16
 246 00de 7B68     		ldr	r3, [r7, #4]
 247 00e0 1A60     		str	r2, [r3]
 248              	.L20:
 229:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 230:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 231:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the receive FIFO locked mode */
 232:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_RFLM == ENABLE)
 249              		.loc 1 232 23
 250 00e2 3B68     		ldr	r3, [r7]
 251 00e4 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 252              		.loc 1 232 8
 253 00e6 012B     		cmp	r3, #1
 254 00e8 06D1     		bne	.L21
 233:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 234:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_RFLM;
 255              		.loc 1 234 17
 256 00ea 7B68     		ldr	r3, [r7, #4]
 257 00ec 1B68     		ldr	r3, [r3]
 258 00ee 43F00802 		orr	r2, r3, #8
 259 00f2 7B68     		ldr	r3, [r7, #4]
 260 00f4 1A60     		str	r2, [r3]
 261 00f6 05E0     		b	.L22
 262              	.L21:
 235:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 236:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 237:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 238:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_RFLM;
 263              		.loc 1 238 17
 264 00f8 7B68     		ldr	r3, [r7, #4]
 265 00fa 1B68     		ldr	r3, [r3]
 266 00fc 23F00802 		bic	r2, r3, #8
 267 0100 7B68     		ldr	r3, [r7, #4]
 268 0102 1A60     		str	r2, [r3]
 269              	.L22:
 239:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 240:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 241:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the transmit FIFO priority */
ARM GAS  /tmp/ccMTgD8N.s 			page 10


 242:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TXFP == ENABLE)
 270              		.loc 1 242 23
 271 0104 3B68     		ldr	r3, [r7]
 272 0106 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 273              		.loc 1 242 8
 274 0108 012B     		cmp	r3, #1
 275 010a 06D1     		bne	.L23
 243:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 244:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_TXFP;
 276              		.loc 1 244 17
 277 010c 7B68     		ldr	r3, [r7, #4]
 278 010e 1B68     		ldr	r3, [r3]
 279 0110 43F00402 		orr	r2, r3, #4
 280 0114 7B68     		ldr	r3, [r7, #4]
 281 0116 1A60     		str	r2, [r3]
 282 0118 05E0     		b	.L24
 283              	.L23:
 245:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 246:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 247:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 248:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TXFP;
 284              		.loc 1 248 17
 285 011a 7B68     		ldr	r3, [r7, #4]
 286 011c 1B68     		ldr	r3, [r3]
 287 011e 23F00402 		bic	r2, r3, #4
 288 0122 7B68     		ldr	r3, [r7, #4]
 289 0124 1A60     		str	r2, [r3]
 290              	.L24:
 249:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 250:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 251:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the bit timing register */
 252:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->BTR = (uint32_t)((uint32_t)CAN_InitStruct->CAN_Mode << 30) | \
 291              		.loc 1 252 52
 292 0126 3B68     		ldr	r3, [r7]
 293 0128 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 294              		.loc 1 252 17
 295 012a 9A07     		lsls	r2, r3, #30
 253:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 296              		.loc 1 253 42
 297 012c 3B68     		ldr	r3, [r7]
 298 012e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 299              		.loc 1 253 52
 300 0130 1B06     		lsls	r3, r3, #24
 252:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 301              		.loc 1 252 70
 302 0132 1A43     		orrs	r2, r2, r3
 254:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS1 << 16) | \
 303              		.loc 1 254 42
 304 0134 3B68     		ldr	r3, [r7]
 305 0136 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 306              		.loc 1 254 52
 307 0138 1B04     		lsls	r3, r3, #16
 253:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 308              		.loc 1 253 59
 309 013a 1A43     		orrs	r2, r2, r3
 255:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS2 << 20) | \
 310              		.loc 1 255 42
ARM GAS  /tmp/ccMTgD8N.s 			page 11


 311 013c 3B68     		ldr	r3, [r7]
 312 013e 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 313              		.loc 1 255 52
 314 0140 1B05     		lsls	r3, r3, #20
 254:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS1 << 16) | \
 315              		.loc 1 254 59
 316 0142 1A43     		orrs	r2, r2, r3
 256:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                ((uint32_t)CAN_InitStruct->CAN_Prescaler - 1);
 317              		.loc 1 256 41
 318 0144 3B68     		ldr	r3, [r7]
 319 0146 1B88     		ldrh	r3, [r3]
 320              		.loc 1 256 57
 321 0148 013B     		subs	r3, r3, #1
 255:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS2 << 20) | \
 322              		.loc 1 255 59
 323 014a 1A43     		orrs	r2, r2, r3
 252:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 324              		.loc 1 252 15
 325 014c 7B68     		ldr	r3, [r7, #4]
 326 014e DA61     		str	r2, [r3, #28]
 257:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 258:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request leave initialisation */
 259:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= ~(uint32_t)CAN_MCR_INRQ;
 327              		.loc 1 259 15
 328 0150 7B68     		ldr	r3, [r7, #4]
 329 0152 1B68     		ldr	r3, [r3]
 330 0154 23F00102 		bic	r2, r3, #1
 331 0158 7B68     		ldr	r3, [r7, #4]
 332 015a 1A60     		str	r2, [r3]
 260:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 261:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* Wait the acknowledge */
 262:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    wait_ack = 0;
 333              		.loc 1 262 13
 334 015c 0023     		movs	r3, #0
 335 015e BB60     		str	r3, [r7, #8]
 263:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    while (((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 336              		.loc 1 264 10
 337 0160 02E0     		b	.L25
 338              	.L27:
 265:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 266:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      wait_ack++;
 339              		.loc 1 266 14
 340 0162 BB68     		ldr	r3, [r7, #8]
 341 0164 0133     		adds	r3, r3, #1
 342 0166 BB60     		str	r3, [r7, #8]
 343              	.L25:
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 344              		.loc 1 264 17
 345 0168 7B68     		ldr	r3, [r7, #4]
 346 016a 5B68     		ldr	r3, [r3, #4]
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 347              		.loc 1 264 23
 348 016c 03F00103 		and	r3, r3, #1
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 349              		.loc 1 264 10
 350 0170 012B     		cmp	r3, #1
ARM GAS  /tmp/ccMTgD8N.s 			page 12


 351 0172 04D1     		bne	.L26
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 352              		.loc 1 264 56 discriminator 1
 353 0174 BB68     		ldr	r3, [r7, #8]
 354 0176 4FF6FF72 		movw	r2, #65535
 355 017a 9342     		cmp	r3, r2
 356 017c F1D1     		bne	.L27
 357              	.L26:
 267:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    }
 268:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 269:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* ...and check acknowledged */
 270:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK)
 358              		.loc 1 270 14
 359 017e 7B68     		ldr	r3, [r7, #4]
 360 0180 5B68     		ldr	r3, [r3, #4]
 361              		.loc 1 270 20
 362 0182 03F00103 		and	r3, r3, #1
 363              		.loc 1 270 8
 364 0186 012B     		cmp	r3, #1
 365 0188 02D1     		bne	.L28
 271:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 272:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       InitStatus = CAN_InitStatus_Failed;
 366              		.loc 1 272 18
 367 018a 0023     		movs	r3, #0
 368 018c FB73     		strb	r3, [r7, #15]
 369 018e 01E0     		b	.L12
 370              	.L28:
 273:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 274:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 275:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 276:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       InitStatus = CAN_InitStatus_Success ;
 371              		.loc 1 276 18
 372 0190 0123     		movs	r3, #1
 373 0192 FB73     		strb	r3, [r7, #15]
 374              	.L12:
 277:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 278:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 279:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 280:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* At this step, return the status of initialization */
 281:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return InitStatus;
 375              		.loc 1 281 10
 376 0194 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 282:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 377              		.loc 1 282 1
 378 0196 1846     		mov	r0, r3
 379 0198 1437     		adds	r7, r7, #20
 380              	.LCFI8:
 381              		.cfi_def_cfa_offset 4
 382 019a BD46     		mov	sp, r7
 383              	.LCFI9:
 384              		.cfi_def_cfa_register 13
 385              		@ sp needed
 386 019c 80BC     		pop	{r7}
 387              	.LCFI10:
 388              		.cfi_restore 7
 389              		.cfi_def_cfa_offset 0
 390 019e 7047     		bx	lr
ARM GAS  /tmp/ccMTgD8N.s 			page 13


 391              		.cfi_endproc
 392              	.LFE30:
 394              		.section	.text.CAN_FilterInit,"ax",%progbits
 395              		.align	1
 396              		.global	CAN_FilterInit
 397              		.syntax unified
 398              		.thumb
 399              		.thumb_func
 400              		.fpu softvfp
 402              	CAN_FilterInit:
 403              	.LFB31:
 283:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 284:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 285:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Initializes the CAN peripheral according to the specified
 286:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         parameters in the CAN_FilterInitStruct.
 287:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_FilterInitStruct: pointer to a CAN_FilterInitTypeDef
 288:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                               structure that contains the configuration 
 289:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                               information.
 290:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 291:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 292:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_FilterInit(CAN_FilterInitTypeDef* CAN_FilterInitStruct)
 293:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 404              		.loc 1 293 1
 405              		.cfi_startproc
 406              		@ args = 0, pretend = 0, frame = 16
 407              		@ frame_needed = 1, uses_anonymous_args = 0
 408              		@ link register save eliminated.
 409 0000 90B4     		push	{r4, r7}
 410              	.LCFI11:
 411              		.cfi_def_cfa_offset 8
 412              		.cfi_offset 4, -8
 413              		.cfi_offset 7, -4
 414 0002 84B0     		sub	sp, sp, #16
 415              	.LCFI12:
 416              		.cfi_def_cfa_offset 24
 417 0004 00AF     		add	r7, sp, #0
 418              	.LCFI13:
 419              		.cfi_def_cfa_register 7
 420 0006 7860     		str	r0, [r7, #4]
 294:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t filter_number_bit_pos = 0;
 421              		.loc 1 294 12
 422 0008 0023     		movs	r3, #0
 423 000a FB60     		str	r3, [r7, #12]
 295:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 296:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_NUMBER(CAN_FilterInitStruct->CAN_FilterNumber));
 297:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_MODE(CAN_FilterInitStruct->CAN_FilterMode));
 298:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_SCALE(CAN_FilterInitStruct->CAN_FilterScale));
 299:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_FIFO(CAN_FilterInitStruct->CAN_FilterFIFOAssignment));
 300:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_FilterInitStruct->CAN_FilterActivation));
 301:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 302:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   filter_number_bit_pos = ((uint32_t)1) << CAN_FilterInitStruct->CAN_FilterNumber;
 424              		.loc 1 302 64
 425 000c 7B68     		ldr	r3, [r7, #4]
 426 000e 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 427 0010 1A46     		mov	r2, r3
 428              		.loc 1 302 25
 429 0012 0123     		movs	r3, #1
ARM GAS  /tmp/ccMTgD8N.s 			page 14


 430 0014 9340     		lsls	r3, r3, r2
 431 0016 FB60     		str	r3, [r7, #12]
 303:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 304:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialisation mode for the filter */
 305:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR |= FMR_FINIT;
 432              		.loc 1 305 13
 433 0018 594B     		ldr	r3, .L38
 434 001a D3F80032 		ldr	r3, [r3, #512]
 435 001e 584A     		ldr	r2, .L38
 436 0020 43F00103 		orr	r3, r3, #1
 437 0024 C2F80032 		str	r3, [r2, #512]
 306:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 307:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter Deactivation */
 308:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FA1R &= ~(uint32_t)filter_number_bit_pos;
 438              		.loc 1 308 14
 439 0028 554B     		ldr	r3, .L38
 440 002a D3F81C22 		ldr	r2, [r3, #540]
 441              		.loc 1 308 17
 442 002e FB68     		ldr	r3, [r7, #12]
 443 0030 DB43     		mvns	r3, r3
 444              		.loc 1 308 14
 445 0032 5349     		ldr	r1, .L38
 446 0034 1340     		ands	r3, r3, r2
 447 0036 C1F81C32 		str	r3, [r1, #540]
 309:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 310:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter Scale */
 311:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_16bit)
 448              		.loc 1 311 27
 449 003a 7B68     		ldr	r3, [r7, #4]
 450 003c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 451              		.loc 1 311 6
 452 003e 002B     		cmp	r3, #0
 453 0040 29D1     		bne	.L31
 312:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 313:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 16-bit scale for the filter */
 314:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FS1R &= ~(uint32_t)filter_number_bit_pos;
 454              		.loc 1 314 16
 455 0042 4F4B     		ldr	r3, .L38
 456 0044 D3F80C22 		ldr	r2, [r3, #524]
 457              		.loc 1 314 19
 458 0048 FB68     		ldr	r3, [r7, #12]
 459 004a DB43     		mvns	r3, r3
 460              		.loc 1 314 16
 461 004c 4C49     		ldr	r1, .L38
 462 004e 1340     		ands	r3, r3, r2
 463 0050 C1F80C32 		str	r3, [r1, #524]
 315:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 316:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* First 16-bit identifier and First 16-bit mask */
 317:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Or First 16-bit identifier and Second 16-bit identifier */
 318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 319:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 464              		.loc 1 319 50
 465 0054 7B68     		ldr	r3, [r7, #4]
 466 0056 DB88     		ldrh	r3, [r3, #6]
 467              		.loc 1 319 73
 468 0058 1B04     		lsls	r3, r3, #16
 320:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
ARM GAS  /tmp/ccMTgD8N.s 			page 15


 469              		.loc 1 320 53
 470 005a 7A68     		ldr	r2, [r7, #4]
 471 005c 5288     		ldrh	r2, [r2, #2]
 472              		.loc 1 320 21
 473 005e 1446     		mov	r4, r2
 318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 474              		.loc 1 318 9
 475 0060 4749     		ldr	r1, .L38
 318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 476              		.loc 1 318 47
 477 0062 7A68     		ldr	r2, [r7, #4]
 478 0064 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 479 0066 1046     		mov	r0, r2
 319:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 480              		.loc 1 319 80
 481 0068 43EA0402 		orr	r2, r3, r4
 318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 482              		.loc 1 318 71
 483 006c 00F14803 		add	r3, r0, #72
 484 0070 41F83320 		str	r2, [r1, r3, lsl #3]
 321:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 322:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Second 16-bit identifier and Second 16-bit mask */
 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Or Third 16-bit identifier and Fourth 16-bit identifier */
 324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 325:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 485              		.loc 1 325 50
 486 0074 7B68     		ldr	r3, [r7, #4]
 487 0076 9B88     		ldrh	r3, [r3, #4]
 488              		.loc 1 325 74
 489 0078 1B04     		lsls	r3, r3, #16
 326:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh);
 490              		.loc 1 326 53
 491 007a 7A68     		ldr	r2, [r7, #4]
 492 007c 1288     		ldrh	r2, [r2]
 493              		.loc 1 326 21
 494 007e 1446     		mov	r4, r2
 324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 495              		.loc 1 324 9
 496 0080 3F49     		ldr	r1, .L38
 324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 497              		.loc 1 324 47
 498 0082 7A68     		ldr	r2, [r7, #4]
 499 0084 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 500 0086 1046     		mov	r0, r2
 325:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh);
 501              		.loc 1 325 81
 502 0088 43EA0402 		orr	r2, r3, r4
 324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 503              		.loc 1 324 71
 504 008c 00F14803 		add	r3, r0, #72
 505 0090 DB00     		lsls	r3, r3, #3
 506 0092 0B44     		add	r3, r3, r1
 507 0094 5A60     		str	r2, [r3, #4]
 508              	.L31:
 327:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 328:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 329:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_32bit)
ARM GAS  /tmp/ccMTgD8N.s 			page 16


 509              		.loc 1 329 27
 510 0096 7B68     		ldr	r3, [r7, #4]
 511 0098 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 512              		.loc 1 329 6
 513 009a 012B     		cmp	r3, #1
 514 009c 28D1     		bne	.L32
 330:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 331:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit scale for the filter */
 332:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FS1R |= filter_number_bit_pos;
 515              		.loc 1 332 16
 516 009e 384B     		ldr	r3, .L38
 517 00a0 D3F80C22 		ldr	r2, [r3, #524]
 518 00a4 3649     		ldr	r1, .L38
 519 00a6 FB68     		ldr	r3, [r7, #12]
 520 00a8 1343     		orrs	r3, r3, r2
 521 00aa C1F80C32 		str	r3, [r1, #524]
 333:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit identifier or First 32-bit identifier */
 334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 335:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 522              		.loc 1 335 50
 523 00ae 7B68     		ldr	r3, [r7, #4]
 524 00b0 1B88     		ldrh	r3, [r3]
 525              		.loc 1 335 70
 526 00b2 1B04     		lsls	r3, r3, #16
 336:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 527              		.loc 1 336 53
 528 00b4 7A68     		ldr	r2, [r7, #4]
 529 00b6 5288     		ldrh	r2, [r2, #2]
 530              		.loc 1 336 21
 531 00b8 1446     		mov	r4, r2
 334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 532              		.loc 1 334 9
 533 00ba 3149     		ldr	r1, .L38
 334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 534              		.loc 1 334 47
 535 00bc 7A68     		ldr	r2, [r7, #4]
 536 00be 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 537 00c0 1046     		mov	r0, r2
 335:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 538              		.loc 1 335 77
 539 00c2 43EA0402 		orr	r2, r3, r4
 334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 540              		.loc 1 334 71
 541 00c6 00F14803 		add	r3, r0, #72
 542 00ca 41F83320 		str	r2, [r1, r3, lsl #3]
 337:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit mask or Second 32-bit identifier */
 338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 339:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 543              		.loc 1 339 50
 544 00ce 7B68     		ldr	r3, [r7, #4]
 545 00d0 9B88     		ldrh	r3, [r3, #4]
 546              		.loc 1 339 74
 547 00d2 1B04     		lsls	r3, r3, #16
 340:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 548              		.loc 1 340 53
 549 00d4 7A68     		ldr	r2, [r7, #4]
 550 00d6 D288     		ldrh	r2, [r2, #6]
ARM GAS  /tmp/ccMTgD8N.s 			page 17


 551              		.loc 1 340 21
 552 00d8 1446     		mov	r4, r2
 338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 553              		.loc 1 338 9
 554 00da 2949     		ldr	r1, .L38
 338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 555              		.loc 1 338 47
 556 00dc 7A68     		ldr	r2, [r7, #4]
 557 00de 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 558 00e0 1046     		mov	r0, r2
 339:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 559              		.loc 1 339 81
 560 00e2 43EA0402 		orr	r2, r3, r4
 338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 561              		.loc 1 338 71
 562 00e6 00F14803 		add	r3, r0, #72
 563 00ea DB00     		lsls	r3, r3, #3
 564 00ec 0B44     		add	r3, r3, r1
 565 00ee 5A60     		str	r2, [r3, #4]
 566              	.L32:
 341:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 342:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 343:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter Mode */
 344:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdMask)
 567              		.loc 1 344 27
 568 00f0 7B68     		ldr	r3, [r7, #4]
 569 00f2 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 570              		.loc 1 344 6
 571 00f4 002B     		cmp	r3, #0
 572 00f6 09D1     		bne	.L33
 345:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 346:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /*Id/Mask mode for the filter*/
 347:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FM1R &= ~(uint32_t)filter_number_bit_pos;
 573              		.loc 1 347 16
 574 00f8 214B     		ldr	r3, .L38
 575 00fa D3F80422 		ldr	r2, [r3, #516]
 576              		.loc 1 347 19
 577 00fe FB68     		ldr	r3, [r7, #12]
 578 0100 DB43     		mvns	r3, r3
 579              		.loc 1 347 16
 580 0102 1F49     		ldr	r1, .L38
 581 0104 1340     		ands	r3, r3, r2
 582 0106 C1F80432 		str	r3, [r1, #516]
 583 010a 07E0     		b	.L34
 584              	.L33:
 348:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 349:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdList */
 350:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 351:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /*Identifier list mode for the filter*/
 352:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FM1R |= (uint32_t)filter_number_bit_pos;
 585              		.loc 1 352 16
 586 010c 1C4B     		ldr	r3, .L38
 587 010e D3F80422 		ldr	r2, [r3, #516]
 588 0112 1B49     		ldr	r1, .L38
 589 0114 FB68     		ldr	r3, [r7, #12]
 590 0116 1343     		orrs	r3, r3, r2
 591 0118 C1F80432 		str	r3, [r1, #516]
ARM GAS  /tmp/ccMTgD8N.s 			page 18


 592              	.L34:
 353:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 354:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 355:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter FIFO assignment */
 356:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO0)
 593              		.loc 1 356 27
 594 011c 7B68     		ldr	r3, [r7, #4]
 595 011e 1B89     		ldrh	r3, [r3, #8]
 596              		.loc 1 356 6
 597 0120 002B     		cmp	r3, #0
 598 0122 08D1     		bne	.L35
 357:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 358:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* FIFO 0 assignation for the filter */
 359:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FFA1R &= ~(uint32_t)filter_number_bit_pos;
 599              		.loc 1 359 17
 600 0124 164B     		ldr	r3, .L38
 601 0126 D3F81422 		ldr	r2, [r3, #532]
 602              		.loc 1 359 20
 603 012a FB68     		ldr	r3, [r7, #12]
 604 012c DB43     		mvns	r3, r3
 605              		.loc 1 359 17
 606 012e 1449     		ldr	r1, .L38
 607 0130 1340     		ands	r3, r3, r2
 608 0132 C1F81432 		str	r3, [r1, #532]
 609              	.L35:
 360:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 361:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 362:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO1)
 610              		.loc 1 362 27
 611 0136 7B68     		ldr	r3, [r7, #4]
 612 0138 1B89     		ldrh	r3, [r3, #8]
 613              		.loc 1 362 6
 614 013a 012B     		cmp	r3, #1
 615 013c 07D1     		bne	.L36
 363:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 364:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* FIFO 1 assignation for the filter */
 365:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FFA1R |= (uint32_t)filter_number_bit_pos;
 616              		.loc 1 365 17
 617 013e 104B     		ldr	r3, .L38
 618 0140 D3F81422 		ldr	r2, [r3, #532]
 619 0144 0E49     		ldr	r1, .L38
 620 0146 FB68     		ldr	r3, [r7, #12]
 621 0148 1343     		orrs	r3, r3, r2
 622 014a C1F81432 		str	r3, [r1, #532]
 623              	.L36:
 366:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 367:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 368:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter activation */
 369:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterActivation == ENABLE)
 624              		.loc 1 369 27
 625 014e 7B68     		ldr	r3, [r7, #4]
 626 0150 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 627              		.loc 1 369 6
 628 0152 012B     		cmp	r3, #1
 629 0154 07D1     		bne	.L37
 370:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 371:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FA1R |= filter_number_bit_pos;
ARM GAS  /tmp/ccMTgD8N.s 			page 19


 630              		.loc 1 371 16
 631 0156 0A4B     		ldr	r3, .L38
 632 0158 D3F81C22 		ldr	r2, [r3, #540]
 633 015c 0849     		ldr	r1, .L38
 634 015e FB68     		ldr	r3, [r7, #12]
 635 0160 1343     		orrs	r3, r3, r2
 636 0162 C1F81C32 		str	r3, [r1, #540]
 637              	.L37:
 372:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 373:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 374:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Leave the initialisation mode for the filter */
 375:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 638              		.loc 1 375 13
 639 0166 064B     		ldr	r3, .L38
 640 0168 D3F80032 		ldr	r3, [r3, #512]
 641 016c 044A     		ldr	r2, .L38
 642 016e 23F00103 		bic	r3, r3, #1
 643 0172 C2F80032 		str	r3, [r2, #512]
 376:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 644              		.loc 1 376 1
 645 0176 00BF     		nop
 646 0178 1037     		adds	r7, r7, #16
 647              	.LCFI14:
 648              		.cfi_def_cfa_offset 8
 649 017a BD46     		mov	sp, r7
 650              	.LCFI15:
 651              		.cfi_def_cfa_register 13
 652              		@ sp needed
 653 017c 90BC     		pop	{r4, r7}
 654              	.LCFI16:
 655              		.cfi_restore 7
 656              		.cfi_restore 4
 657              		.cfi_def_cfa_offset 0
 658 017e 7047     		bx	lr
 659              	.L39:
 660              		.align	2
 661              	.L38:
 662 0180 00640040 		.word	1073767424
 663              		.cfi_endproc
 664              	.LFE31:
 666              		.section	.text.CAN_StructInit,"ax",%progbits
 667              		.align	1
 668              		.global	CAN_StructInit
 669              		.syntax unified
 670              		.thumb
 671              		.thumb_func
 672              		.fpu softvfp
 674              	CAN_StructInit:
 675              	.LFB32:
 377:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 378:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 379:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Fills each CAN_InitStruct member with its default value.
 380:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure which
 381:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         will be initialized.
 382:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 383:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 384:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_StructInit(CAN_InitTypeDef* CAN_InitStruct)
ARM GAS  /tmp/ccMTgD8N.s 			page 20


 385:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 676              		.loc 1 385 1
 677              		.cfi_startproc
 678              		@ args = 0, pretend = 0, frame = 8
 679              		@ frame_needed = 1, uses_anonymous_args = 0
 680              		@ link register save eliminated.
 681 0000 80B4     		push	{r7}
 682              	.LCFI17:
 683              		.cfi_def_cfa_offset 4
 684              		.cfi_offset 7, -4
 685 0002 83B0     		sub	sp, sp, #12
 686              	.LCFI18:
 687              		.cfi_def_cfa_offset 16
 688 0004 00AF     		add	r7, sp, #0
 689              	.LCFI19:
 690              		.cfi_def_cfa_register 7
 691 0006 7860     		str	r0, [r7, #4]
 386:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Reset CAN init structure parameters values */
 387:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 388:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the time triggered communication mode */
 389:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_TTCM = DISABLE;
 692              		.loc 1 389 28
 693 0008 7B68     		ldr	r3, [r7, #4]
 694 000a 0022     		movs	r2, #0
 695 000c 9A71     		strb	r2, [r3, #6]
 390:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 391:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the automatic bus-off management */
 392:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_ABOM = DISABLE;
 696              		.loc 1 392 28
 697 000e 7B68     		ldr	r3, [r7, #4]
 698 0010 0022     		movs	r2, #0
 699 0012 DA71     		strb	r2, [r3, #7]
 393:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 394:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the automatic wake-up mode */
 395:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_AWUM = DISABLE;
 700              		.loc 1 395 28
 701 0014 7B68     		ldr	r3, [r7, #4]
 702 0016 0022     		movs	r2, #0
 703 0018 1A72     		strb	r2, [r3, #8]
 396:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 397:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the no automatic retransmission */
 398:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_NART = DISABLE;
 704              		.loc 1 398 28
 705 001a 7B68     		ldr	r3, [r7, #4]
 706 001c 0022     		movs	r2, #0
 707 001e 5A72     		strb	r2, [r3, #9]
 399:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 400:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the receive FIFO locked mode */
 401:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_RFLM = DISABLE;
 708              		.loc 1 401 28
 709 0020 7B68     		ldr	r3, [r7, #4]
 710 0022 0022     		movs	r2, #0
 711 0024 9A72     		strb	r2, [r3, #10]
 402:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 403:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the transmit FIFO priority */
 404:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_TXFP = DISABLE;
 712              		.loc 1 404 28
ARM GAS  /tmp/ccMTgD8N.s 			page 21


 713 0026 7B68     		ldr	r3, [r7, #4]
 714 0028 0022     		movs	r2, #0
 715 002a DA72     		strb	r2, [r3, #11]
 405:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 406:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_Mode member */
 407:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_Mode = CAN_Mode_Normal;
 716              		.loc 1 407 28
 717 002c 7B68     		ldr	r3, [r7, #4]
 718 002e 0022     		movs	r2, #0
 719 0030 9A70     		strb	r2, [r3, #2]
 408:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 409:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_SJW member */
 410:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_SJW = CAN_SJW_1tq;
 720              		.loc 1 410 27
 721 0032 7B68     		ldr	r3, [r7, #4]
 722 0034 0022     		movs	r2, #0
 723 0036 DA70     		strb	r2, [r3, #3]
 411:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 412:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_BS1 member */
 413:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS1 = CAN_BS1_4tq;
 724              		.loc 1 413 27
 725 0038 7B68     		ldr	r3, [r7, #4]
 726 003a 0322     		movs	r2, #3
 727 003c 1A71     		strb	r2, [r3, #4]
 414:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 415:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_BS2 member */
 416:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS2 = CAN_BS2_3tq;
 728              		.loc 1 416 27
 729 003e 7B68     		ldr	r3, [r7, #4]
 730 0040 0222     		movs	r2, #2
 731 0042 5A71     		strb	r2, [r3, #5]
 417:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 418:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_Prescaler member */
 419:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_Prescaler = 1;
 732              		.loc 1 419 33
 733 0044 7B68     		ldr	r3, [r7, #4]
 734 0046 0122     		movs	r2, #1
 735 0048 1A80     		strh	r2, [r3]	@ movhi
 420:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 736              		.loc 1 420 1
 737 004a 00BF     		nop
 738 004c 0C37     		adds	r7, r7, #12
 739              	.LCFI20:
 740              		.cfi_def_cfa_offset 4
 741 004e BD46     		mov	sp, r7
 742              	.LCFI21:
 743              		.cfi_def_cfa_register 13
 744              		@ sp needed
 745 0050 80BC     		pop	{r7}
 746              	.LCFI22:
 747              		.cfi_restore 7
 748              		.cfi_def_cfa_offset 0
 749 0052 7047     		bx	lr
 750              		.cfi_endproc
 751              	.LFE32:
 753              		.section	.text.CAN_SlaveStartBank,"ax",%progbits
 754              		.align	1
ARM GAS  /tmp/ccMTgD8N.s 			page 22


 755              		.global	CAN_SlaveStartBank
 756              		.syntax unified
 757              		.thumb
 758              		.thumb_func
 759              		.fpu softvfp
 761              	CAN_SlaveStartBank:
 762              	.LFB33:
 421:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 422:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 423:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Select the start bank filter for slave CAN.
 424:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   This function applies only to STM32 Connectivity line devices.
 425:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_BankNumber: Select the start slave bank filter from 1..27.
 426:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 427:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 428:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_SlaveStartBank(uint8_t CAN_BankNumber) 
 429:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 763              		.loc 1 429 1
 764              		.cfi_startproc
 765              		@ args = 0, pretend = 0, frame = 8
 766              		@ frame_needed = 1, uses_anonymous_args = 0
 767              		@ link register save eliminated.
 768 0000 80B4     		push	{r7}
 769              	.LCFI23:
 770              		.cfi_def_cfa_offset 4
 771              		.cfi_offset 7, -4
 772 0002 83B0     		sub	sp, sp, #12
 773              	.LCFI24:
 774              		.cfi_def_cfa_offset 16
 775 0004 00AF     		add	r7, sp, #0
 776              	.LCFI25:
 777              		.cfi_def_cfa_register 7
 778 0006 0346     		mov	r3, r0
 779 0008 FB71     		strb	r3, [r7, #7]
 430:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 431:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BANKNUMBER(CAN_BankNumber));
 432:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 433:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Enter Initialisation mode for the filter */
 434:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR |= FMR_FINIT;
 780              		.loc 1 434 13
 781 000a 144B     		ldr	r3, .L42
 782 000c D3F80032 		ldr	r3, [r3, #512]
 783 0010 124A     		ldr	r2, .L42
 784 0012 43F00103 		orr	r3, r3, #1
 785 0016 C2F80032 		str	r3, [r2, #512]
 435:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 436:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Select the start slave bank */
 437:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR &= (uint32_t)0xFFFFC0F1 ;
 786              		.loc 1 437 13
 787 001a 104B     		ldr	r3, .L42
 788 001c D3F80032 		ldr	r3, [r3, #512]
 789 0020 0E4A     		ldr	r2, .L42
 790 0022 23F47C53 		bic	r3, r3, #16128
 791 0026 23F00E03 		bic	r3, r3, #14
 792 002a C2F80032 		str	r3, [r2, #512]
 438:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR |= (uint32_t)(CAN_BankNumber)<<8;
 793              		.loc 1 438 13
 794 002e 0B4B     		ldr	r3, .L42
ARM GAS  /tmp/ccMTgD8N.s 			page 23


 795 0030 D3F80022 		ldr	r2, [r3, #512]
 796              		.loc 1 438 16
 797 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 798              		.loc 1 438 42
 799 0036 1B02     		lsls	r3, r3, #8
 800              		.loc 1 438 13
 801 0038 0849     		ldr	r1, .L42
 802 003a 1343     		orrs	r3, r3, r2
 803 003c C1F80032 		str	r3, [r1, #512]
 439:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 440:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Leave Initialisation mode for the filter */
 441:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 804              		.loc 1 441 13
 805 0040 064B     		ldr	r3, .L42
 806 0042 D3F80032 		ldr	r3, [r3, #512]
 807 0046 054A     		ldr	r2, .L42
 808 0048 23F00103 		bic	r3, r3, #1
 809 004c C2F80032 		str	r3, [r2, #512]
 442:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 810              		.loc 1 442 1
 811 0050 00BF     		nop
 812 0052 0C37     		adds	r7, r7, #12
 813              	.LCFI26:
 814              		.cfi_def_cfa_offset 4
 815 0054 BD46     		mov	sp, r7
 816              	.LCFI27:
 817              		.cfi_def_cfa_register 13
 818              		@ sp needed
 819 0056 80BC     		pop	{r7}
 820              	.LCFI28:
 821              		.cfi_restore 7
 822              		.cfi_def_cfa_offset 0
 823 0058 7047     		bx	lr
 824              	.L43:
 825 005a 00BF     		.align	2
 826              	.L42:
 827 005c 00640040 		.word	1073767424
 828              		.cfi_endproc
 829              	.LFE33:
 831              		.section	.text.CAN_DBGFreeze,"ax",%progbits
 832              		.align	1
 833              		.global	CAN_DBGFreeze
 834              		.syntax unified
 835              		.thumb
 836              		.thumb_func
 837              		.fpu softvfp
 839              	CAN_DBGFreeze:
 840              	.LFB34:
 443:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 444:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 445:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enables or disables the DBG Freeze for CAN.
 446:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
 447:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  NewState: new state of the CAN peripheral. This parameter can 
 448:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   be: ENABLE or DISABLE.
 449:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 450:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 451:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_DBGFreeze(CAN_TypeDef* CANx, FunctionalState NewState)
ARM GAS  /tmp/ccMTgD8N.s 			page 24


 452:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 841              		.loc 1 452 1
 842              		.cfi_startproc
 843              		@ args = 0, pretend = 0, frame = 8
 844              		@ frame_needed = 1, uses_anonymous_args = 0
 845              		@ link register save eliminated.
 846 0000 80B4     		push	{r7}
 847              	.LCFI29:
 848              		.cfi_def_cfa_offset 4
 849              		.cfi_offset 7, -4
 850 0002 83B0     		sub	sp, sp, #12
 851              	.LCFI30:
 852              		.cfi_def_cfa_offset 16
 853 0004 00AF     		add	r7, sp, #0
 854              	.LCFI31:
 855              		.cfi_def_cfa_register 7
 856 0006 7860     		str	r0, [r7, #4]
 857 0008 0B46     		mov	r3, r1
 858 000a FB70     		strb	r3, [r7, #3]
 453:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 454:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 455:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 456:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 457:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 859              		.loc 1 457 6
 860 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 861 000e 002B     		cmp	r3, #0
 862 0010 06D0     		beq	.L45
 458:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 459:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable Debug Freeze  */
 460:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR |= MCR_DBF;
 863              		.loc 1 460 15
 864 0012 7B68     		ldr	r3, [r7, #4]
 865 0014 1B68     		ldr	r3, [r3]
 866 0016 43F48032 		orr	r2, r3, #65536
 867 001a 7B68     		ldr	r3, [r7, #4]
 868 001c 1A60     		str	r2, [r3]
 461:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 462:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 463:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 464:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Disable Debug Freeze */
 465:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= ~MCR_DBF;
 466:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 467:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 869              		.loc 1 467 1
 870 001e 05E0     		b	.L47
 871              	.L45:
 465:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 872              		.loc 1 465 15
 873 0020 7B68     		ldr	r3, [r7, #4]
 874 0022 1B68     		ldr	r3, [r3]
 875 0024 23F48032 		bic	r2, r3, #65536
 876 0028 7B68     		ldr	r3, [r7, #4]
 877 002a 1A60     		str	r2, [r3]
 878              	.L47:
 879              		.loc 1 467 1
 880 002c 00BF     		nop
ARM GAS  /tmp/ccMTgD8N.s 			page 25


 881 002e 0C37     		adds	r7, r7, #12
 882              	.LCFI32:
 883              		.cfi_def_cfa_offset 4
 884 0030 BD46     		mov	sp, r7
 885              	.LCFI33:
 886              		.cfi_def_cfa_register 13
 887              		@ sp needed
 888 0032 80BC     		pop	{r7}
 889              	.LCFI34:
 890              		.cfi_restore 7
 891              		.cfi_def_cfa_offset 0
 892 0034 7047     		bx	lr
 893              		.cfi_endproc
 894              	.LFE34:
 896              		.section	.text.CAN_TTComModeCmd,"ax",%progbits
 897              		.align	1
 898              		.global	CAN_TTComModeCmd
 899              		.syntax unified
 900              		.thumb
 901              		.thumb_func
 902              		.fpu softvfp
 904              	CAN_TTComModeCmd:
 905              	.LFB35:
 468:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 469:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 470:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 471:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enables or disabes the CAN Time TriggerOperation communication mode.
 472:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:      where x can be 1 or 2 to to select the CAN peripheral.
 473:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  NewState : Mode new state , can be one of @ref FunctionalState.
 474:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   when enabled, Time stamp (TIME[15:0]) value is sent in the last 
 475:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         two data bytes of the 8-byte message: TIME[7:0] in data byte 6 
 476:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         and TIME[15:8] in data byte 7 
 477:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   DLC must be programmed as 8 in order Time Stamp (2 bytes) to be 
 478:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         sent over the CAN bus.  
 479:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None
 480:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 481:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_TTComModeCmd(CAN_TypeDef* CANx, FunctionalState NewState)
 482:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 906              		.loc 1 482 1
 907              		.cfi_startproc
 908              		@ args = 0, pretend = 0, frame = 8
 909              		@ frame_needed = 1, uses_anonymous_args = 0
 910              		@ link register save eliminated.
 911 0000 80B4     		push	{r7}
 912              	.LCFI35:
 913              		.cfi_def_cfa_offset 4
 914              		.cfi_offset 7, -4
 915 0002 83B0     		sub	sp, sp, #12
 916              	.LCFI36:
 917              		.cfi_def_cfa_offset 16
 918 0004 00AF     		add	r7, sp, #0
 919              	.LCFI37:
 920              		.cfi_def_cfa_register 7
 921 0006 7860     		str	r0, [r7, #4]
 922 0008 0B46     		mov	r3, r1
 923 000a FB70     		strb	r3, [r7, #3]
 483:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
ARM GAS  /tmp/ccMTgD8N.s 			page 26


 484:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 485:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 486:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 924              		.loc 1 486 6
 925 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 926 000e 002B     		cmp	r3, #0
 927 0010 1ED0     		beq	.L49
 487:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 488:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable the TTCM mode */
 489:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR |= CAN_MCR_TTCM;
 928              		.loc 1 489 15
 929 0012 7B68     		ldr	r3, [r7, #4]
 930 0014 1B68     		ldr	r3, [r3]
 931 0016 43F08002 		orr	r2, r3, #128
 932 001a 7B68     		ldr	r3, [r7, #4]
 933 001c 1A60     		str	r2, [r3]
 490:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 491:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set TGT bits */
 492:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[0].TDTR |= ((uint32_t)CAN_TDT0R_TGT);
 934              		.loc 1 492 30
 935 001e 7B68     		ldr	r3, [r7, #4]
 936 0020 D3F88431 		ldr	r3, [r3, #388]
 937 0024 43F48072 		orr	r2, r3, #256
 938 0028 7B68     		ldr	r3, [r7, #4]
 939 002a C3F88421 		str	r2, [r3, #388]
 493:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR |= ((uint32_t)CAN_TDT1R_TGT);
 940              		.loc 1 493 30
 941 002e 7B68     		ldr	r3, [r7, #4]
 942 0030 D3F89431 		ldr	r3, [r3, #404]
 943 0034 43F48072 		orr	r2, r3, #256
 944 0038 7B68     		ldr	r3, [r7, #4]
 945 003a C3F89421 		str	r2, [r3, #404]
 494:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR |= ((uint32_t)CAN_TDT2R_TGT);
 946              		.loc 1 494 30
 947 003e 7B68     		ldr	r3, [r7, #4]
 948 0040 D3F8A431 		ldr	r3, [r3, #420]
 949 0044 43F48072 		orr	r2, r3, #256
 950 0048 7B68     		ldr	r3, [r7, #4]
 951 004a C3F8A421 		str	r2, [r3, #420]
 495:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 496:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 497:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 498:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Disable the TTCM mode */
 499:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= (uint32_t)(~(uint32_t)CAN_MCR_TTCM);
 500:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 501:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Reset TGT bits */
 502:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[0].TDTR &= ((uint32_t)~CAN_TDT0R_TGT);
 503:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR &= ((uint32_t)~CAN_TDT1R_TGT);
 504:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR &= ((uint32_t)~CAN_TDT2R_TGT);
 505:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 506:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 952              		.loc 1 506 1
 953 004e 1DE0     		b	.L51
 954              	.L49:
 499:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 955              		.loc 1 499 15
 956 0050 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccMTgD8N.s 			page 27


 957 0052 1B68     		ldr	r3, [r3]
 958 0054 23F08002 		bic	r2, r3, #128
 959 0058 7B68     		ldr	r3, [r7, #4]
 960 005a 1A60     		str	r2, [r3]
 502:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR &= ((uint32_t)~CAN_TDT1R_TGT);
 961              		.loc 1 502 30
 962 005c 7B68     		ldr	r3, [r7, #4]
 963 005e D3F88431 		ldr	r3, [r3, #388]
 964 0062 23F48072 		bic	r2, r3, #256
 965 0066 7B68     		ldr	r3, [r7, #4]
 966 0068 C3F88421 		str	r2, [r3, #388]
 503:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR &= ((uint32_t)~CAN_TDT2R_TGT);
 967              		.loc 1 503 30
 968 006c 7B68     		ldr	r3, [r7, #4]
 969 006e D3F89431 		ldr	r3, [r3, #404]
 970 0072 23F48072 		bic	r2, r3, #256
 971 0076 7B68     		ldr	r3, [r7, #4]
 972 0078 C3F89421 		str	r2, [r3, #404]
 504:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 973              		.loc 1 504 30
 974 007c 7B68     		ldr	r3, [r7, #4]
 975 007e D3F8A431 		ldr	r3, [r3, #420]
 976 0082 23F48072 		bic	r2, r3, #256
 977 0086 7B68     		ldr	r3, [r7, #4]
 978 0088 C3F8A421 		str	r2, [r3, #420]
 979              	.L51:
 980              		.loc 1 506 1
 981 008c 00BF     		nop
 982 008e 0C37     		adds	r7, r7, #12
 983              	.LCFI38:
 984              		.cfi_def_cfa_offset 4
 985 0090 BD46     		mov	sp, r7
 986              	.LCFI39:
 987              		.cfi_def_cfa_register 13
 988              		@ sp needed
 989 0092 80BC     		pop	{r7}
 990              	.LCFI40:
 991              		.cfi_restore 7
 992              		.cfi_def_cfa_offset 0
 993 0094 7047     		bx	lr
 994              		.cfi_endproc
 995              	.LFE35:
 997              		.section	.text.CAN_Transmit,"ax",%progbits
 998              		.align	1
 999              		.global	CAN_Transmit
 1000              		.syntax unified
 1001              		.thumb
 1002              		.thumb_func
 1003              		.fpu softvfp
 1005              	CAN_Transmit:
 1006              	.LFB36:
 507:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 508:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Initiates the transmission of a message.
 509:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:      where x can be 1 or 2 to to select the CAN peripheral.
 510:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  TxMessage: pointer to a structure which contains CAN Id, CAN
 511:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    DLC and CAN data.
 512:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The number of the mailbox that is used for transmission
ARM GAS  /tmp/ccMTgD8N.s 			page 28


 513:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    or CAN_TxStatus_NoMailBox if there is no empty mailbox.
 514:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 515:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_Transmit(CAN_TypeDef* CANx, CanTxMsg* TxMessage)
 516:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1007              		.loc 1 516 1
 1008              		.cfi_startproc
 1009              		@ args = 0, pretend = 0, frame = 16
 1010              		@ frame_needed = 1, uses_anonymous_args = 0
 1011              		@ link register save eliminated.
 1012 0000 80B4     		push	{r7}
 1013              	.LCFI41:
 1014              		.cfi_def_cfa_offset 4
 1015              		.cfi_offset 7, -4
 1016 0002 85B0     		sub	sp, sp, #20
 1017              	.LCFI42:
 1018              		.cfi_def_cfa_offset 24
 1019 0004 00AF     		add	r7, sp, #0
 1020              	.LCFI43:
 1021              		.cfi_def_cfa_register 7
 1022 0006 7860     		str	r0, [r7, #4]
 1023 0008 3960     		str	r1, [r7]
 517:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t transmit_mailbox = 0;
 1024              		.loc 1 517 11
 1025 000a 0023     		movs	r3, #0
 1026 000c FB73     		strb	r3, [r7, #15]
 518:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 519:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 520:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IDTYPE(TxMessage->IDE));
 521:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_RTR(TxMessage->RTR));
 522:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_DLC(TxMessage->DLC));
 523:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 524:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Select one empty transmit mailbox */
 525:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CANx->TSR&CAN_TSR_TME0) == CAN_TSR_TME0)
 1027              		.loc 1 525 12
 1028 000e 7B68     		ldr	r3, [r7, #4]
 1029 0010 9B68     		ldr	r3, [r3, #8]
 1030              		.loc 1 525 17
 1031 0012 03F08063 		and	r3, r3, #67108864
 1032              		.loc 1 525 6
 1033 0016 B3F1806F 		cmp	r3, #67108864
 1034 001a 02D1     		bne	.L53
 526:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 527:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = 0;
 1035              		.loc 1 527 22
 1036 001c 0023     		movs	r3, #0
 1037 001e FB73     		strb	r3, [r7, #15]
 1038 0020 15E0     		b	.L54
 1039              	.L53:
 528:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 529:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if ((CANx->TSR&CAN_TSR_TME1) == CAN_TSR_TME1)
 1040              		.loc 1 529 17
 1041 0022 7B68     		ldr	r3, [r7, #4]
 1042 0024 9B68     		ldr	r3, [r3, #8]
 1043              		.loc 1 529 22
 1044 0026 03F00063 		and	r3, r3, #134217728
 1045              		.loc 1 529 11
 1046 002a B3F1006F 		cmp	r3, #134217728
ARM GAS  /tmp/ccMTgD8N.s 			page 29


 1047 002e 02D1     		bne	.L55
 530:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 531:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = 1;
 1048              		.loc 1 531 22
 1049 0030 0123     		movs	r3, #1
 1050 0032 FB73     		strb	r3, [r7, #15]
 1051 0034 0BE0     		b	.L54
 1052              	.L55:
 532:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 533:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if ((CANx->TSR&CAN_TSR_TME2) == CAN_TSR_TME2)
 1053              		.loc 1 533 17
 1054 0036 7B68     		ldr	r3, [r7, #4]
 1055 0038 9B68     		ldr	r3, [r3, #8]
 1056              		.loc 1 533 22
 1057 003a 03F08053 		and	r3, r3, #268435456
 1058              		.loc 1 533 11
 1059 003e B3F1805F 		cmp	r3, #268435456
 1060 0042 02D1     		bne	.L56
 534:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 535:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = 2;
 1061              		.loc 1 535 22
 1062 0044 0223     		movs	r3, #2
 1063 0046 FB73     		strb	r3, [r7, #15]
 1064 0048 01E0     		b	.L54
 1065              	.L56:
 536:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 537:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 538:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 539:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = CAN_TxStatus_NoMailBox;
 1066              		.loc 1 539 22
 1067 004a 0423     		movs	r3, #4
 1068 004c FB73     		strb	r3, [r7, #15]
 1069              	.L54:
 540:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 541:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 542:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (transmit_mailbox != CAN_TxStatus_NoMailBox)
 1070              		.loc 1 542 6
 1071 004e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1072 0050 042B     		cmp	r3, #4
 1073 0052 00F09F80 		beq	.L57
 543:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 544:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set up the Id */
 545:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR &= TMIDxR_TXRQ;
 1074              		.loc 1 545 44
 1075 0056 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1076 0058 7A68     		ldr	r2, [r7, #4]
 1077 005a 1833     		adds	r3, r3, #24
 1078 005c 1B01     		lsls	r3, r3, #4
 1079 005e 1344     		add	r3, r3, r2
 1080 0060 1A68     		ldr	r2, [r3]
 1081 0062 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1082 0064 02F00102 		and	r2, r2, #1
 1083 0068 7968     		ldr	r1, [r7, #4]
 1084 006a 1833     		adds	r3, r3, #24
 1085 006c 1B01     		lsls	r3, r3, #4
 1086 006e 0B44     		add	r3, r3, r1
 1087 0070 1A60     		str	r2, [r3]
ARM GAS  /tmp/ccMTgD8N.s 			page 30


 546:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (TxMessage->IDE == CAN_Id_Standard)
 1088              		.loc 1 546 18
 1089 0072 3B68     		ldr	r3, [r7]
 1090 0074 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1091              		.loc 1 546 8
 1092 0076 002B     		cmp	r3, #0
 1093 0078 13D1     		bne	.L58
 547:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 548:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       assert_param(IS_CAN_STDID(TxMessage->StdId));  
 549:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->StdId << 21) | \
 1094              		.loc 1 549 46
 1095 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1096 007c 7A68     		ldr	r2, [r7, #4]
 1097 007e 1833     		adds	r3, r3, #24
 1098 0080 1B01     		lsls	r3, r3, #4
 1099 0082 1344     		add	r3, r3, r2
 1100 0084 1968     		ldr	r1, [r3]
 1101              		.loc 1 549 60
 1102 0086 3B68     		ldr	r3, [r7]
 1103 0088 1B68     		ldr	r3, [r3]
 1104              		.loc 1 549 68
 1105 008a 5B05     		lsls	r3, r3, #21
 550:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 1106              		.loc 1 550 60
 1107 008c 3A68     		ldr	r2, [r7]
 1108 008e 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 549:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 1109              		.loc 1 549 75
 1110 0090 1A43     		orrs	r2, r2, r3
 549:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 1111              		.loc 1 549 46
 1112 0092 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1113 0094 0A43     		orrs	r2, r2, r1
 1114 0096 7968     		ldr	r1, [r7, #4]
 1115 0098 1833     		adds	r3, r3, #24
 1116 009a 1B01     		lsls	r3, r3, #4
 1117 009c 0B44     		add	r3, r3, r1
 1118 009e 1A60     		str	r2, [r3]
 1119 00a0 15E0     		b	.L59
 1120              	.L58:
 551:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 552:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 553:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 554:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       assert_param(IS_CAN_EXTID(TxMessage->ExtId));
 555:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->ExtId << 3) | \
 1121              		.loc 1 555 46
 1122 00a2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1123 00a4 7A68     		ldr	r2, [r7, #4]
 1124 00a6 1833     		adds	r3, r3, #24
 1125 00a8 1B01     		lsls	r3, r3, #4
 1126 00aa 1344     		add	r3, r3, r2
 1127 00ac 1968     		ldr	r1, [r3]
 1128              		.loc 1 555 60
 1129 00ae 3B68     		ldr	r3, [r7]
 1130 00b0 5B68     		ldr	r3, [r3, #4]
 1131              		.loc 1 555 68
 1132 00b2 DB00     		lsls	r3, r3, #3
ARM GAS  /tmp/ccMTgD8N.s 			page 31


 556:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1133              		.loc 1 556 60
 1134 00b4 3A68     		ldr	r2, [r7]
 1135 00b6 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 555:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1136              		.loc 1 555 74
 1137 00b8 1343     		orrs	r3, r3, r2
 557:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 1138              		.loc 1 557 60
 1139 00ba 3A68     		ldr	r2, [r7]
 1140 00bc 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 556:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1141              		.loc 1 556 66
 1142 00be 1A43     		orrs	r2, r2, r3
 555:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1143              		.loc 1 555 46
 1144 00c0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1145 00c2 0A43     		orrs	r2, r2, r1
 1146 00c4 7968     		ldr	r1, [r7, #4]
 1147 00c6 1833     		adds	r3, r3, #24
 1148 00c8 1B01     		lsls	r3, r3, #4
 1149 00ca 0B44     		add	r3, r3, r1
 1150 00cc 1A60     		str	r2, [r3]
 1151              	.L59:
 558:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 559:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 560:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set up the DLC */
 561:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     TxMessage->DLC &= (uint8_t)0x0000000F;
 1152              		.loc 1 561 20
 1153 00ce 3B68     		ldr	r3, [r7]
 1154 00d0 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1155 00d2 03F00F03 		and	r3, r3, #15
 1156 00d6 DAB2     		uxtb	r2, r3
 1157 00d8 3B68     		ldr	r3, [r7]
 1158 00da 9A72     		strb	r2, [r3, #10]
 562:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR &= (uint32_t)0xFFFFFFF0;
 1159              		.loc 1 562 45
 1160 00dc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1161 00de 7A68     		ldr	r2, [r7, #4]
 1162 00e0 1833     		adds	r3, r3, #24
 1163 00e2 1B01     		lsls	r3, r3, #4
 1164 00e4 1344     		add	r3, r3, r2
 1165 00e6 0433     		adds	r3, r3, #4
 1166 00e8 1A68     		ldr	r2, [r3]
 1167 00ea FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1168 00ec 22F00F02 		bic	r2, r2, #15
 1169 00f0 7968     		ldr	r1, [r7, #4]
 1170 00f2 1833     		adds	r3, r3, #24
 1171 00f4 1B01     		lsls	r3, r3, #4
 1172 00f6 0B44     		add	r3, r3, r1
 1173 00f8 0433     		adds	r3, r3, #4
 1174 00fa 1A60     		str	r2, [r3]
 563:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR |= TxMessage->DLC;
 1175              		.loc 1 563 45
 1176 00fc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1177 00fe 7A68     		ldr	r2, [r7, #4]
 1178 0100 1833     		adds	r3, r3, #24
ARM GAS  /tmp/ccMTgD8N.s 			page 32


 1179 0102 1B01     		lsls	r3, r3, #4
 1180 0104 1344     		add	r3, r3, r2
 1181 0106 0433     		adds	r3, r3, #4
 1182 0108 1A68     		ldr	r2, [r3]
 1183              		.loc 1 563 57
 1184 010a 3B68     		ldr	r3, [r7]
 1185 010c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1186 010e 1946     		mov	r1, r3
 1187              		.loc 1 563 45
 1188 0110 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1189 0112 0A43     		orrs	r2, r2, r1
 1190 0114 7968     		ldr	r1, [r7, #4]
 1191 0116 1833     		adds	r3, r3, #24
 1192 0118 1B01     		lsls	r3, r3, #4
 1193 011a 0B44     		add	r3, r3, r1
 1194 011c 0433     		adds	r3, r3, #4
 1195 011e 1A60     		str	r2, [r3]
 564:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 565:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set up the data field */
 566:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDLR = (((uint32_t)TxMessage->Data[3] << 24) | 
 1196              		.loc 1 566 74
 1197 0120 3B68     		ldr	r3, [r7]
 1198 0122 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 1199              		.loc 1 566 78
 1200 0124 1A06     		lsls	r2, r3, #24
 567:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1201              		.loc 1 567 72
 1202 0126 3B68     		ldr	r3, [r7]
 1203 0128 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 1204              		.loc 1 567 76
 1205 012a 1B04     		lsls	r3, r3, #16
 566:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1206              		.loc 1 566 85
 1207 012c 1A43     		orrs	r2, r2, r3
 568:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[1] << 8) | 
 1208              		.loc 1 568 72
 1209 012e 3B68     		ldr	r3, [r7]
 1210 0130 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1211              		.loc 1 568 76
 1212 0132 1B02     		lsls	r3, r3, #8
 567:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1213              		.loc 1 567 83
 1214 0134 1A43     		orrs	r2, r2, r3
 569:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[0]));
 1215              		.loc 1 569 72
 1216 0136 3B68     		ldr	r3, [r7]
 1217 0138 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1218              		.loc 1 569 47
 1219 013a 1946     		mov	r1, r3
 566:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1220              		.loc 1 566 39
 1221 013c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 568:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[1] << 8) | 
 1222              		.loc 1 568 82
 1223 013e 0A43     		orrs	r2, r2, r1
 566:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1224              		.loc 1 566 45
ARM GAS  /tmp/ccMTgD8N.s 			page 33


 1225 0140 7968     		ldr	r1, [r7, #4]
 1226 0142 1B01     		lsls	r3, r3, #4
 1227 0144 0B44     		add	r3, r3, r1
 1228 0146 03F5C473 		add	r3, r3, #392
 1229 014a 1A60     		str	r2, [r3]
 570:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 1230              		.loc 1 570 74
 1231 014c 3B68     		ldr	r3, [r7]
 1232 014e 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 1233              		.loc 1 570 78
 1234 0150 1A06     		lsls	r2, r3, #24
 571:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1235              		.loc 1 571 72
 1236 0152 3B68     		ldr	r3, [r7]
 1237 0154 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 1238              		.loc 1 571 76
 1239 0156 1B04     		lsls	r3, r3, #16
 570:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 1240              		.loc 1 570 85
 1241 0158 1A43     		orrs	r2, r2, r3
 572:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[5] << 8) |
 1242              		.loc 1 572 72
 1243 015a 3B68     		ldr	r3, [r7]
 1244 015c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 1245              		.loc 1 572 76
 1246 015e 1B02     		lsls	r3, r3, #8
 571:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1247              		.loc 1 571 83
 1248 0160 1A43     		orrs	r2, r2, r3
 573:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[4]));
 1249              		.loc 1 573 72
 1250 0162 3B68     		ldr	r3, [r7]
 1251 0164 DB7B     		ldrb	r3, [r3, #15]	@ zero_extendqisi2
 1252              		.loc 1 573 47
 1253 0166 1946     		mov	r1, r3
 570:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1254              		.loc 1 570 39
 1255 0168 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 572:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[5] << 8) |
 1256              		.loc 1 572 82
 1257 016a 0A43     		orrs	r2, r2, r1
 570:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1258              		.loc 1 570 45
 1259 016c 7968     		ldr	r1, [r7, #4]
 1260 016e 1B01     		lsls	r3, r3, #4
 1261 0170 0B44     		add	r3, r3, r1
 1262 0172 03F5C673 		add	r3, r3, #396
 1263 0176 1A60     		str	r2, [r3]
 574:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request transmission */
 575:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR |= TMIDxR_TXRQ;
 1264              		.loc 1 575 44
 1265 0178 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1266 017a 7A68     		ldr	r2, [r7, #4]
 1267 017c 1833     		adds	r3, r3, #24
 1268 017e 1B01     		lsls	r3, r3, #4
 1269 0180 1344     		add	r3, r3, r2
 1270 0182 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccMTgD8N.s 			page 34


 1271 0184 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1272 0186 42F00102 		orr	r2, r2, #1
 1273 018a 7968     		ldr	r1, [r7, #4]
 1274 018c 1833     		adds	r3, r3, #24
 1275 018e 1B01     		lsls	r3, r3, #4
 1276 0190 0B44     		add	r3, r3, r1
 1277 0192 1A60     		str	r2, [r3]
 1278              	.L57:
 576:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 577:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return transmit_mailbox;
 1279              		.loc 1 577 10
 1280 0194 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 578:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1281              		.loc 1 578 1
 1282 0196 1846     		mov	r0, r3
 1283 0198 1437     		adds	r7, r7, #20
 1284              	.LCFI44:
 1285              		.cfi_def_cfa_offset 4
 1286 019a BD46     		mov	sp, r7
 1287              	.LCFI45:
 1288              		.cfi_def_cfa_register 13
 1289              		@ sp needed
 1290 019c 80BC     		pop	{r7}
 1291              	.LCFI46:
 1292              		.cfi_restore 7
 1293              		.cfi_def_cfa_offset 0
 1294 019e 7047     		bx	lr
 1295              		.cfi_endproc
 1296              	.LFE36:
 1298              		.section	.text.CAN_TransmitStatus,"ax",%progbits
 1299              		.align	1
 1300              		.global	CAN_TransmitStatus
 1301              		.syntax unified
 1302              		.thumb
 1303              		.thumb_func
 1304              		.fpu softvfp
 1306              	CAN_TransmitStatus:
 1307              	.LFB37:
 579:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 580:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 581:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks the transmission of a message.
 582:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:            where x can be 1 or 2 to to select the 
 583:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                          CAN peripheral.
 584:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  TransmitMailbox: the number of the mailbox that is used for 
 585:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                          transmission.
 586:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval CAN_TxStatus_Ok if the CAN driver transmits the message, CAN_TxStatus_Failed 
 587:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         in an other case.
 588:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 589:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_TransmitStatus(CAN_TypeDef* CANx, uint8_t TransmitMailbox)
 590:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1308              		.loc 1 590 1
 1309              		.cfi_startproc
 1310              		@ args = 0, pretend = 0, frame = 16
 1311              		@ frame_needed = 1, uses_anonymous_args = 0
 1312              		@ link register save eliminated.
 1313 0000 80B4     		push	{r7}
 1314              	.LCFI47:
ARM GAS  /tmp/ccMTgD8N.s 			page 35


 1315              		.cfi_def_cfa_offset 4
 1316              		.cfi_offset 7, -4
 1317 0002 85B0     		sub	sp, sp, #20
 1318              	.LCFI48:
 1319              		.cfi_def_cfa_offset 24
 1320 0004 00AF     		add	r7, sp, #0
 1321              	.LCFI49:
 1322              		.cfi_def_cfa_register 7
 1323 0006 7860     		str	r0, [r7, #4]
 1324 0008 0B46     		mov	r3, r1
 1325 000a FB70     		strb	r3, [r7, #3]
 591:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t state = 0;
 1326              		.loc 1 591 12
 1327 000c 0023     		movs	r3, #0
 1328 000e FB60     		str	r3, [r7, #12]
 592:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 593:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 594:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 595:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(TransmitMailbox));
 596:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  
 597:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (TransmitMailbox)
 1329              		.loc 1 597 3
 1330 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1331 0012 022B     		cmp	r3, #2
 1332 0014 12D0     		beq	.L62
 1333 0016 022B     		cmp	r3, #2
 1334 0018 16DC     		bgt	.L63
 1335 001a 002B     		cmp	r3, #0
 1336 001c 02D0     		beq	.L64
 1337 001e 012B     		cmp	r3, #1
 1338 0020 06D0     		beq	.L65
 1339 0022 11E0     		b	.L63
 1340              	.L64:
 598:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 599:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_0): 
 600:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0);
 1341              		.loc 1 600 21
 1342 0024 7B68     		ldr	r3, [r7, #4]
 1343 0026 9A68     		ldr	r2, [r3, #8]
 1344              		.loc 1 600 13
 1345 0028 304B     		ldr	r3, .L77
 1346 002a 1340     		ands	r3, r3, r2
 1347 002c FB60     		str	r3, [r7, #12]
 601:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1348              		.loc 1 601 7
 1349 002e 0EE0     		b	.L66
 1350              	.L65:
 602:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): 
 603:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1);
 1351              		.loc 1 603 21
 1352 0030 7B68     		ldr	r3, [r7, #4]
 1353 0032 9A68     		ldr	r2, [r3, #8]
 1354              		.loc 1 603 13
 1355 0034 2E4B     		ldr	r3, .L77+4
 1356 0036 1340     		ands	r3, r3, r2
 1357 0038 FB60     		str	r3, [r7, #12]
 604:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
ARM GAS  /tmp/ccMTgD8N.s 			page 36


 1358              		.loc 1 604 7
 1359 003a 08E0     		b	.L66
 1360              	.L62:
 605:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): 
 606:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2);
 1361              		.loc 1 606 21
 1362 003c 7B68     		ldr	r3, [r7, #4]
 1363 003e 9A68     		ldr	r2, [r3, #8]
 1364              		.loc 1 606 13
 1365 0040 2C4B     		ldr	r3, .L77+8
 1366 0042 1340     		ands	r3, r3, r2
 1367 0044 FB60     		str	r3, [r7, #12]
 607:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1368              		.loc 1 607 7
 1369 0046 02E0     		b	.L66
 1370              	.L63:
 608:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default:
 609:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state = CAN_TxStatus_Failed;
 1371              		.loc 1 609 13
 1372 0048 0023     		movs	r3, #0
 1373 004a FB60     		str	r3, [r7, #12]
 610:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1374              		.loc 1 610 7
 1375 004c 00BF     		nop
 1376              	.L66:
 611:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 612:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (state)
 1377              		.loc 1 612 3
 1378 004e FB68     		ldr	r3, [r7, #12]
 1379 0050 284A     		ldr	r2, .L77+8
 1380 0052 9342     		cmp	r3, r2
 1381 0054 3DD0     		beq	.L67
 1382 0056 FB68     		ldr	r3, [r7, #12]
 1383 0058 264A     		ldr	r2, .L77+8
 1384 005a 9342     		cmp	r3, r2
 1385 005c 3CD8     		bhi	.L68
 1386 005e FB68     		ldr	r3, [r7, #12]
 1387 0060 254A     		ldr	r2, .L77+12
 1388 0062 9342     		cmp	r3, r2
 1389 0064 2CD0     		beq	.L69
 1390 0066 FB68     		ldr	r3, [r7, #12]
 1391 0068 234A     		ldr	r2, .L77+12
 1392 006a 9342     		cmp	r3, r2
 1393 006c 34D8     		bhi	.L68
 1394 006e FB68     		ldr	r3, [r7, #12]
 1395 0070 1F4A     		ldr	r2, .L77+4
 1396 0072 9342     		cmp	r3, r2
 1397 0074 2AD0     		beq	.L70
 1398 0076 FB68     		ldr	r3, [r7, #12]
 1399 0078 1D4A     		ldr	r2, .L77+4
 1400 007a 9342     		cmp	r3, r2
 1401 007c 2CD8     		bhi	.L68
 1402 007e FB68     		ldr	r3, [r7, #12]
 1403 0080 1E4A     		ldr	r2, .L77+16
 1404 0082 9342     		cmp	r3, r2
 1405 0084 19D0     		beq	.L71
 1406 0086 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccMTgD8N.s 			page 37


 1407 0088 1C4A     		ldr	r2, .L77+16
 1408 008a 9342     		cmp	r3, r2
 1409 008c 24D8     		bhi	.L68
 1410 008e FB68     		ldr	r3, [r7, #12]
 1411 0090 164A     		ldr	r2, .L77
 1412 0092 9342     		cmp	r3, r2
 1413 0094 17D0     		beq	.L72
 1414 0096 FB68     		ldr	r3, [r7, #12]
 1415 0098 144A     		ldr	r2, .L77
 1416 009a 9342     		cmp	r3, r2
 1417 009c 1CD8     		bhi	.L68
 1418 009e FB68     		ldr	r3, [r7, #12]
 1419 00a0 002B     		cmp	r3, #0
 1420 00a2 04D0     		beq	.L73
 1421 00a4 FB68     		ldr	r3, [r7, #12]
 1422 00a6 164A     		ldr	r2, .L77+20
 1423 00a8 9342     		cmp	r3, r2
 1424 00aa 03D0     		beq	.L74
 1425 00ac 14E0     		b	.L68
 1426              	.L73:
 613:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 614:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* transmit pending  */
 615:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (0x0): state = CAN_TxStatus_Pending;
 1427              		.loc 1 615 23
 1428 00ae 0223     		movs	r3, #2
 1429 00b0 FB60     		str	r3, [r7, #12]
 616:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1430              		.loc 1 616 7
 1431 00b2 14E0     		b	.L75
 1432              	.L74:
 617:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* transmit failed  */
 618:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP0 | CAN_TSR_TME0): state = CAN_TxStatus_Failed;
 1433              		.loc 1 618 49
 1434 00b4 0023     		movs	r3, #0
 1435 00b6 FB60     		str	r3, [r7, #12]
 619:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1436              		.loc 1 619 7
 1437 00b8 11E0     		b	.L75
 1438              	.L71:
 620:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP1 | CAN_TSR_TME1): state = CAN_TxStatus_Failed;
 1439              		.loc 1 620 49
 1440 00ba 0023     		movs	r3, #0
 1441 00bc FB60     		str	r3, [r7, #12]
 621:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1442              		.loc 1 621 7
 1443 00be 0EE0     		b	.L75
 1444              	.L69:
 622:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP2 | CAN_TSR_TME2): state = CAN_TxStatus_Failed;
 1445              		.loc 1 622 49
 1446 00c0 0023     		movs	r3, #0
 1447 00c2 FB60     		str	r3, [r7, #12]
 623:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1448              		.loc 1 623 7
 1449 00c4 0BE0     		b	.L75
 1450              	.L72:
 624:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* transmit succeeded  */
 625:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0):state = CAN_TxStatus_Ok;
ARM GAS  /tmp/ccMTgD8N.s 			page 38


 1451              		.loc 1 625 63
 1452 00c6 0123     		movs	r3, #1
 1453 00c8 FB60     		str	r3, [r7, #12]
 626:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1454              		.loc 1 626 7
 1455 00ca 08E0     		b	.L75
 1456              	.L70:
 627:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1):state = CAN_TxStatus_Ok;
 1457              		.loc 1 627 63
 1458 00cc 0123     		movs	r3, #1
 1459 00ce FB60     		str	r3, [r7, #12]
 628:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1460              		.loc 1 628 7
 1461 00d0 05E0     		b	.L75
 1462              	.L67:
 629:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2):state = CAN_TxStatus_Ok;
 1463              		.loc 1 629 63
 1464 00d2 0123     		movs	r3, #1
 1465 00d4 FB60     		str	r3, [r7, #12]
 630:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1466              		.loc 1 630 7
 1467 00d6 02E0     		b	.L75
 1468              	.L68:
 631:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default: state = CAN_TxStatus_Failed;
 1469              		.loc 1 631 20
 1470 00d8 0023     		movs	r3, #0
 1471 00da FB60     		str	r3, [r7, #12]
 632:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1472              		.loc 1 632 7
 1473 00dc 00BF     		nop
 1474              	.L75:
 633:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 634:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return (uint8_t) state;
 1475              		.loc 1 634 10
 1476 00de FB68     		ldr	r3, [r7, #12]
 1477 00e0 DBB2     		uxtb	r3, r3
 635:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1478              		.loc 1 635 1
 1479 00e2 1846     		mov	r0, r3
 1480 00e4 1437     		adds	r7, r7, #20
 1481              	.LCFI50:
 1482              		.cfi_def_cfa_offset 4
 1483 00e6 BD46     		mov	sp, r7
 1484              	.LCFI51:
 1485              		.cfi_def_cfa_register 13
 1486              		@ sp needed
 1487 00e8 80BC     		pop	{r7}
 1488              	.LCFI52:
 1489              		.cfi_restore 7
 1490              		.cfi_def_cfa_offset 0
 1491 00ea 7047     		bx	lr
 1492              	.L78:
 1493              		.align	2
 1494              	.L77:
 1495 00ec 03000004 		.word	67108867
 1496 00f0 00030008 		.word	134218496
 1497 00f4 00000310 		.word	268632064
ARM GAS  /tmp/ccMTgD8N.s 			page 39


 1498 00f8 00000110 		.word	268500992
 1499 00fc 00010008 		.word	134217984
 1500 0100 01000004 		.word	67108865
 1501              		.cfi_endproc
 1502              	.LFE37:
 1504              		.section	.text.CAN_CancelTransmit,"ax",%progbits
 1505              		.align	1
 1506              		.global	CAN_CancelTransmit
 1507              		.syntax unified
 1508              		.thumb
 1509              		.thumb_func
 1510              		.fpu softvfp
 1512              	CAN_CancelTransmit:
 1513              	.LFB38:
 636:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 637:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 638:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Cancels a transmit request.
 639:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral. 
 640:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  Mailbox:  Mailbox number.
 641:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 642:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 643:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_CancelTransmit(CAN_TypeDef* CANx, uint8_t Mailbox)
 644:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1514              		.loc 1 644 1
 1515              		.cfi_startproc
 1516              		@ args = 0, pretend = 0, frame = 8
 1517              		@ frame_needed = 1, uses_anonymous_args = 0
 1518              		@ link register save eliminated.
 1519 0000 80B4     		push	{r7}
 1520              	.LCFI53:
 1521              		.cfi_def_cfa_offset 4
 1522              		.cfi_offset 7, -4
 1523 0002 83B0     		sub	sp, sp, #12
 1524              	.LCFI54:
 1525              		.cfi_def_cfa_offset 16
 1526 0004 00AF     		add	r7, sp, #0
 1527              	.LCFI55:
 1528              		.cfi_def_cfa_register 7
 1529 0006 7860     		str	r0, [r7, #4]
 1530 0008 0B46     		mov	r3, r1
 1531 000a FB70     		strb	r3, [r7, #3]
 645:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 646:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 647:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(Mailbox));
 648:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* abort transmission */
 649:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (Mailbox)
 1532              		.loc 1 649 3
 1533 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1534 000e 022B     		cmp	r3, #2
 1535 0010 14D0     		beq	.L80
 1536 0012 022B     		cmp	r3, #2
 1537 0014 19DC     		bgt	.L85
 1538 0016 002B     		cmp	r3, #0
 1539 0018 02D0     		beq	.L82
 1540 001a 012B     		cmp	r3, #1
 1541 001c 07D0     		beq	.L83
 650:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
ARM GAS  /tmp/ccMTgD8N.s 			page 40


 651:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_0): CANx->TSR |= CAN_TSR_ABRQ0;
 652:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 653:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): CANx->TSR |= CAN_TSR_ABRQ1;
 654:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 655:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): CANx->TSR |= CAN_TSR_ABRQ2;
 656:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 657:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default:
 658:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1542              		.loc 1 658 7
 1543 001e 14E0     		b	.L85
 1544              	.L82:
 651:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1545              		.loc 1 651 39
 1546 0020 7B68     		ldr	r3, [r7, #4]
 1547 0022 9B68     		ldr	r3, [r3, #8]
 1548 0024 43F08002 		orr	r2, r3, #128
 1549 0028 7B68     		ldr	r3, [r7, #4]
 1550 002a 9A60     		str	r2, [r3, #8]
 652:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): CANx->TSR |= CAN_TSR_ABRQ1;
 1551              		.loc 1 652 7
 1552 002c 0EE0     		b	.L84
 1553              	.L83:
 653:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1554              		.loc 1 653 39
 1555 002e 7B68     		ldr	r3, [r7, #4]
 1556 0030 9B68     		ldr	r3, [r3, #8]
 1557 0032 43F40042 		orr	r2, r3, #32768
 1558 0036 7B68     		ldr	r3, [r7, #4]
 1559 0038 9A60     		str	r2, [r3, #8]
 654:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): CANx->TSR |= CAN_TSR_ABRQ2;
 1560              		.loc 1 654 7
 1561 003a 07E0     		b	.L84
 1562              	.L80:
 655:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1563              		.loc 1 655 39
 1564 003c 7B68     		ldr	r3, [r7, #4]
 1565 003e 9B68     		ldr	r3, [r3, #8]
 1566 0040 43F40002 		orr	r2, r3, #8388608
 1567 0044 7B68     		ldr	r3, [r7, #4]
 1568 0046 9A60     		str	r2, [r3, #8]
 656:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default:
 1569              		.loc 1 656 7
 1570 0048 00E0     		b	.L84
 1571              	.L85:
 1572              		.loc 1 658 7
 1573 004a 00BF     		nop
 1574              	.L84:
 659:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 660:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1575              		.loc 1 660 1
 1576 004c 00BF     		nop
 1577 004e 0C37     		adds	r7, r7, #12
 1578              	.LCFI56:
 1579              		.cfi_def_cfa_offset 4
 1580 0050 BD46     		mov	sp, r7
 1581              	.LCFI57:
 1582              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccMTgD8N.s 			page 41


 1583              		@ sp needed
 1584 0052 80BC     		pop	{r7}
 1585              	.LCFI58:
 1586              		.cfi_restore 7
 1587              		.cfi_def_cfa_offset 0
 1588 0054 7047     		bx	lr
 1589              		.cfi_endproc
 1590              	.LFE38:
 1592              		.section	.text.CAN_Receive,"ax",%progbits
 1593              		.align	1
 1594              		.global	CAN_Receive
 1595              		.syntax unified
 1596              		.thumb
 1597              		.thumb_func
 1598              		.fpu softvfp
 1600              	CAN_Receive:
 1601              	.LFB39:
 661:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 662:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 663:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 664:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Receives a message.
 665:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral.
 666:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 667:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  RxMessage:  pointer to a structure receive message which contains 
 668:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                     CAN Id, CAN DLC, CAN datas and FMI number.
 669:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 670:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 671:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_Receive(CAN_TypeDef* CANx, uint8_t FIFONumber, CanRxMsg* RxMessage)
 672:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1602              		.loc 1 672 1
 1603              		.cfi_startproc
 1604              		@ args = 0, pretend = 0, frame = 16
 1605              		@ frame_needed = 1, uses_anonymous_args = 0
 1606              		@ link register save eliminated.
 1607 0000 80B4     		push	{r7}
 1608              	.LCFI59:
 1609              		.cfi_def_cfa_offset 4
 1610              		.cfi_offset 7, -4
 1611 0002 85B0     		sub	sp, sp, #20
 1612              	.LCFI60:
 1613              		.cfi_def_cfa_offset 24
 1614 0004 00AF     		add	r7, sp, #0
 1615              	.LCFI61:
 1616              		.cfi_def_cfa_register 7
 1617 0006 F860     		str	r0, [r7, #12]
 1618 0008 0B46     		mov	r3, r1
 1619 000a 7A60     		str	r2, [r7, #4]
 1620 000c FB72     		strb	r3, [r7, #11]
 673:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 674:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 675:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 676:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the Id */
 677:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->IDE = (uint8_t)0x04 & CANx->sFIFOMailBox[FIFONumber].RIR;
 1621              		.loc 1 677 66
 1622 000e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1623 0010 FA68     		ldr	r2, [r7, #12]
 1624 0012 1B33     		adds	r3, r3, #27
ARM GAS  /tmp/ccMTgD8N.s 			page 42


 1625 0014 1B01     		lsls	r3, r3, #4
 1626 0016 1344     		add	r3, r3, r2
 1627 0018 1B68     		ldr	r3, [r3]
 1628              		.loc 1 677 34
 1629 001a DBB2     		uxtb	r3, r3
 1630 001c 03F00403 		and	r3, r3, #4
 1631 0020 DAB2     		uxtb	r2, r3
 1632              		.loc 1 677 18
 1633 0022 7B68     		ldr	r3, [r7, #4]
 1634 0024 1A72     		strb	r2, [r3, #8]
 678:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (RxMessage->IDE == CAN_Id_Standard)
 1635              		.loc 1 678 16
 1636 0026 7B68     		ldr	r3, [r7, #4]
 1637 0028 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1638              		.loc 1 678 6
 1639 002a 002B     		cmp	r3, #0
 1640 002c 0BD1     		bne	.L87
 679:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 680:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RxMessage->StdId = (uint32_t)0x000007FF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 21);
 1641              		.loc 1 680 78
 1642 002e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1643 0030 FA68     		ldr	r2, [r7, #12]
 1644 0032 1B33     		adds	r3, r3, #27
 1645 0034 1B01     		lsls	r3, r3, #4
 1646 0036 1344     		add	r3, r3, r2
 1647 0038 1B68     		ldr	r3, [r3]
 1648              		.loc 1 680 83
 1649 003a 5B0D     		lsrs	r3, r3, #21
 1650              		.loc 1 680 45
 1651 003c C3F30A02 		ubfx	r2, r3, #0, #11
 1652              		.loc 1 680 22
 1653 0040 7B68     		ldr	r3, [r7, #4]
 1654 0042 1A60     		str	r2, [r3]
 1655 0044 0AE0     		b	.L88
 1656              	.L87:
 681:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 682:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 683:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 684:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RxMessage->ExtId = (uint32_t)0x1FFFFFFF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 3);
 1657              		.loc 1 684 78
 1658 0046 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1659 0048 FA68     		ldr	r2, [r7, #12]
 1660 004a 1B33     		adds	r3, r3, #27
 1661 004c 1B01     		lsls	r3, r3, #4
 1662 004e 1344     		add	r3, r3, r2
 1663 0050 1B68     		ldr	r3, [r3]
 1664              		.loc 1 684 83
 1665 0052 DB08     		lsrs	r3, r3, #3
 1666              		.loc 1 684 45
 1667 0054 23F06042 		bic	r2, r3, #-536870912
 1668              		.loc 1 684 22
 1669 0058 7B68     		ldr	r3, [r7, #4]
 1670 005a 5A60     		str	r2, [r3, #4]
 1671              	.L88:
 685:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 686:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 687:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->RTR = (uint8_t)0x02 & CANx->sFIFOMailBox[FIFONumber].RIR;
ARM GAS  /tmp/ccMTgD8N.s 			page 43


 1672              		.loc 1 687 66
 1673 005c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1674 005e FA68     		ldr	r2, [r7, #12]
 1675 0060 1B33     		adds	r3, r3, #27
 1676 0062 1B01     		lsls	r3, r3, #4
 1677 0064 1344     		add	r3, r3, r2
 1678 0066 1B68     		ldr	r3, [r3]
 1679              		.loc 1 687 34
 1680 0068 DBB2     		uxtb	r3, r3
 1681 006a 03F00203 		and	r3, r3, #2
 1682 006e DAB2     		uxtb	r2, r3
 1683              		.loc 1 687 18
 1684 0070 7B68     		ldr	r3, [r7, #4]
 1685 0072 5A72     		strb	r2, [r3, #9]
 688:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the DLC */
 689:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->DLC = (uint8_t)0x0F & CANx->sFIFOMailBox[FIFONumber].RDTR;
 1686              		.loc 1 689 66
 1687 0074 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1688 0076 FA68     		ldr	r2, [r7, #12]
 1689 0078 1B33     		adds	r3, r3, #27
 1690 007a 1B01     		lsls	r3, r3, #4
 1691 007c 1344     		add	r3, r3, r2
 1692 007e 0433     		adds	r3, r3, #4
 1693 0080 1B68     		ldr	r3, [r3]
 1694              		.loc 1 689 34
 1695 0082 DBB2     		uxtb	r3, r3
 1696 0084 03F00F03 		and	r3, r3, #15
 1697 0088 DAB2     		uxtb	r2, r3
 1698              		.loc 1 689 18
 1699 008a 7B68     		ldr	r3, [r7, #4]
 1700 008c 9A72     		strb	r2, [r3, #10]
 690:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the FMI */
 691:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->FMI = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDTR >> 8);
 1701              		.loc 1 691 67
 1702 008e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1703 0090 FA68     		ldr	r2, [r7, #12]
 1704 0092 1B33     		adds	r3, r3, #27
 1705 0094 1B01     		lsls	r3, r3, #4
 1706 0096 1344     		add	r3, r3, r2
 1707 0098 0433     		adds	r3, r3, #4
 1708 009a 1B68     		ldr	r3, [r3]
 1709              		.loc 1 691 73
 1710 009c 1B0A     		lsrs	r3, r3, #8
 1711              		.loc 1 691 18
 1712 009e DAB2     		uxtb	r2, r3
 1713 00a0 7B68     		ldr	r3, [r7, #4]
 1714 00a2 DA74     		strb	r2, [r3, #19]
 692:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the data field */
 693:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[0] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDLR;
 1715              		.loc 1 693 70
 1716 00a4 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1717 00a6 FA68     		ldr	r2, [r7, #12]
 1718 00a8 1B01     		lsls	r3, r3, #4
 1719 00aa 1344     		add	r3, r3, r2
 1720 00ac 03F5DC73 		add	r3, r3, #440
 1721 00b0 1B68     		ldr	r3, [r3]
 1722              		.loc 1 693 22
ARM GAS  /tmp/ccMTgD8N.s 			page 44


 1723 00b2 DAB2     		uxtb	r2, r3
 1724 00b4 7B68     		ldr	r3, [r7, #4]
 1725 00b6 DA72     		strb	r2, [r3, #11]
 694:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[1] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 8);
 1726              		.loc 1 694 71
 1727 00b8 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1728 00ba FA68     		ldr	r2, [r7, #12]
 1729 00bc 1B01     		lsls	r3, r3, #4
 1730 00be 1344     		add	r3, r3, r2
 1731 00c0 03F5DC73 		add	r3, r3, #440
 1732 00c4 1B68     		ldr	r3, [r3]
 1733              		.loc 1 694 77
 1734 00c6 1B0A     		lsrs	r3, r3, #8
 1735              		.loc 1 694 22
 1736 00c8 DAB2     		uxtb	r2, r3
 1737 00ca 7B68     		ldr	r3, [r7, #4]
 1738 00cc 1A73     		strb	r2, [r3, #12]
 695:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[2] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 16);
 1739              		.loc 1 695 71
 1740 00ce FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1741 00d0 FA68     		ldr	r2, [r7, #12]
 1742 00d2 1B01     		lsls	r3, r3, #4
 1743 00d4 1344     		add	r3, r3, r2
 1744 00d6 03F5DC73 		add	r3, r3, #440
 1745 00da 1B68     		ldr	r3, [r3]
 1746              		.loc 1 695 77
 1747 00dc 1B0C     		lsrs	r3, r3, #16
 1748              		.loc 1 695 22
 1749 00de DAB2     		uxtb	r2, r3
 1750 00e0 7B68     		ldr	r3, [r7, #4]
 1751 00e2 5A73     		strb	r2, [r3, #13]
 696:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[3] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 24);
 1752              		.loc 1 696 71
 1753 00e4 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1754 00e6 FA68     		ldr	r2, [r7, #12]
 1755 00e8 1B01     		lsls	r3, r3, #4
 1756 00ea 1344     		add	r3, r3, r2
 1757 00ec 03F5DC73 		add	r3, r3, #440
 1758 00f0 1B68     		ldr	r3, [r3]
 1759              		.loc 1 696 77
 1760 00f2 1B0E     		lsrs	r3, r3, #24
 1761              		.loc 1 696 22
 1762 00f4 DAB2     		uxtb	r2, r3
 1763 00f6 7B68     		ldr	r3, [r7, #4]
 1764 00f8 9A73     		strb	r2, [r3, #14]
 697:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[4] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDHR;
 1765              		.loc 1 697 70
 1766 00fa FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1767 00fc FA68     		ldr	r2, [r7, #12]
 1768 00fe 1B01     		lsls	r3, r3, #4
 1769 0100 1344     		add	r3, r3, r2
 1770 0102 03F5DE73 		add	r3, r3, #444
 1771 0106 1B68     		ldr	r3, [r3]
 1772              		.loc 1 697 22
 1773 0108 DAB2     		uxtb	r2, r3
 1774 010a 7B68     		ldr	r3, [r7, #4]
 1775 010c DA73     		strb	r2, [r3, #15]
ARM GAS  /tmp/ccMTgD8N.s 			page 45


 698:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[5] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 8);
 1776              		.loc 1 698 71
 1777 010e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1778 0110 FA68     		ldr	r2, [r7, #12]
 1779 0112 1B01     		lsls	r3, r3, #4
 1780 0114 1344     		add	r3, r3, r2
 1781 0116 03F5DE73 		add	r3, r3, #444
 1782 011a 1B68     		ldr	r3, [r3]
 1783              		.loc 1 698 77
 1784 011c 1B0A     		lsrs	r3, r3, #8
 1785              		.loc 1 698 22
 1786 011e DAB2     		uxtb	r2, r3
 1787 0120 7B68     		ldr	r3, [r7, #4]
 1788 0122 1A74     		strb	r2, [r3, #16]
 699:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[6] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 16);
 1789              		.loc 1 699 71
 1790 0124 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1791 0126 FA68     		ldr	r2, [r7, #12]
 1792 0128 1B01     		lsls	r3, r3, #4
 1793 012a 1344     		add	r3, r3, r2
 1794 012c 03F5DE73 		add	r3, r3, #444
 1795 0130 1B68     		ldr	r3, [r3]
 1796              		.loc 1 699 77
 1797 0132 1B0C     		lsrs	r3, r3, #16
 1798              		.loc 1 699 22
 1799 0134 DAB2     		uxtb	r2, r3
 1800 0136 7B68     		ldr	r3, [r7, #4]
 1801 0138 5A74     		strb	r2, [r3, #17]
 700:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[7] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 24);
 1802              		.loc 1 700 71
 1803 013a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1804 013c FA68     		ldr	r2, [r7, #12]
 1805 013e 1B01     		lsls	r3, r3, #4
 1806 0140 1344     		add	r3, r3, r2
 1807 0142 03F5DE73 		add	r3, r3, #444
 1808 0146 1B68     		ldr	r3, [r3]
 1809              		.loc 1 700 77
 1810 0148 1B0E     		lsrs	r3, r3, #24
 1811              		.loc 1 700 22
 1812 014a DAB2     		uxtb	r2, r3
 1813 014c 7B68     		ldr	r3, [r7, #4]
 1814 014e 9A74     		strb	r2, [r3, #18]
 701:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release the FIFO */
 702:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO0 */
 703:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1815              		.loc 1 703 6
 1816 0150 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1817 0152 002B     		cmp	r3, #0
 1818 0154 06D1     		bne	.L89
 704:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 705:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 1819              		.loc 1 705 16
 1820 0156 FB68     		ldr	r3, [r7, #12]
 1821 0158 DB68     		ldr	r3, [r3, #12]
 1822 015a 43F02002 		orr	r2, r3, #32
 1823 015e FB68     		ldr	r3, [r7, #12]
 1824 0160 DA60     		str	r2, [r3, #12]
ARM GAS  /tmp/ccMTgD8N.s 			page 46


 706:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 707:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO1 */
 708:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 709:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 710:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 711:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 712:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1825              		.loc 1 712 1
 1826 0162 05E0     		b	.L91
 1827              	.L89:
 710:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 1828              		.loc 1 710 16
 1829 0164 FB68     		ldr	r3, [r7, #12]
 1830 0166 1B69     		ldr	r3, [r3, #16]
 1831 0168 43F02002 		orr	r2, r3, #32
 1832 016c FB68     		ldr	r3, [r7, #12]
 1833 016e 1A61     		str	r2, [r3, #16]
 1834              	.L91:
 1835              		.loc 1 712 1
 1836 0170 00BF     		nop
 1837 0172 1437     		adds	r7, r7, #20
 1838              	.LCFI62:
 1839              		.cfi_def_cfa_offset 4
 1840 0174 BD46     		mov	sp, r7
 1841              	.LCFI63:
 1842              		.cfi_def_cfa_register 13
 1843              		@ sp needed
 1844 0176 80BC     		pop	{r7}
 1845              	.LCFI64:
 1846              		.cfi_restore 7
 1847              		.cfi_def_cfa_offset 0
 1848 0178 7047     		bx	lr
 1849              		.cfi_endproc
 1850              	.LFE39:
 1852              		.section	.text.CAN_FIFORelease,"ax",%progbits
 1853              		.align	1
 1854              		.global	CAN_FIFORelease
 1855              		.syntax unified
 1856              		.thumb
 1857              		.thumb_func
 1858              		.fpu softvfp
 1860              	CAN_FIFORelease:
 1861              	.LFB40:
 713:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 714:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 715:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Releases the specified FIFO.
 716:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral. 
 717:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  FIFONumber: FIFO to release, CAN_FIFO0 or CAN_FIFO1.
 718:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 719:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 720:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_FIFORelease(CAN_TypeDef* CANx, uint8_t FIFONumber)
 721:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1862              		.loc 1 721 1
 1863              		.cfi_startproc
 1864              		@ args = 0, pretend = 0, frame = 8
 1865              		@ frame_needed = 1, uses_anonymous_args = 0
 1866              		@ link register save eliminated.
ARM GAS  /tmp/ccMTgD8N.s 			page 47


 1867 0000 80B4     		push	{r7}
 1868              	.LCFI65:
 1869              		.cfi_def_cfa_offset 4
 1870              		.cfi_offset 7, -4
 1871 0002 83B0     		sub	sp, sp, #12
 1872              	.LCFI66:
 1873              		.cfi_def_cfa_offset 16
 1874 0004 00AF     		add	r7, sp, #0
 1875              	.LCFI67:
 1876              		.cfi_def_cfa_register 7
 1877 0006 7860     		str	r0, [r7, #4]
 1878 0008 0B46     		mov	r3, r1
 1879 000a FB70     		strb	r3, [r7, #3]
 722:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 723:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 724:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 725:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO0 */
 726:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1880              		.loc 1 726 6
 1881 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1882 000e 002B     		cmp	r3, #0
 1883 0010 06D1     		bne	.L93
 727:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 728:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 1884              		.loc 1 728 16
 1885 0012 7B68     		ldr	r3, [r7, #4]
 1886 0014 DB68     		ldr	r3, [r3, #12]
 1887 0016 43F02002 		orr	r2, r3, #32
 1888 001a 7B68     		ldr	r3, [r7, #4]
 1889 001c DA60     		str	r2, [r3, #12]
 729:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 730:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO1 */
 731:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 732:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 733:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 734:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 735:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1890              		.loc 1 735 1
 1891 001e 05E0     		b	.L95
 1892              	.L93:
 733:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 1893              		.loc 1 733 16
 1894 0020 7B68     		ldr	r3, [r7, #4]
 1895 0022 1B69     		ldr	r3, [r3, #16]
 1896 0024 43F02002 		orr	r2, r3, #32
 1897 0028 7B68     		ldr	r3, [r7, #4]
 1898 002a 1A61     		str	r2, [r3, #16]
 1899              	.L95:
 1900              		.loc 1 735 1
 1901 002c 00BF     		nop
 1902 002e 0C37     		adds	r7, r7, #12
 1903              	.LCFI68:
 1904              		.cfi_def_cfa_offset 4
 1905 0030 BD46     		mov	sp, r7
 1906              	.LCFI69:
 1907              		.cfi_def_cfa_register 13
 1908              		@ sp needed
ARM GAS  /tmp/ccMTgD8N.s 			page 48


 1909 0032 80BC     		pop	{r7}
 1910              	.LCFI70:
 1911              		.cfi_restore 7
 1912              		.cfi_def_cfa_offset 0
 1913 0034 7047     		bx	lr
 1914              		.cfi_endproc
 1915              	.LFE40:
 1917              		.section	.text.CAN_MessagePending,"ax",%progbits
 1918              		.align	1
 1919              		.global	CAN_MessagePending
 1920              		.syntax unified
 1921              		.thumb
 1922              		.thumb_func
 1923              		.fpu softvfp
 1925              	CAN_MessagePending:
 1926              	.LFB41:
 736:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 737:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 738:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the number of pending messages.
 739:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral.
 740:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 741:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval NbMessage : which is the number of pending message.
 742:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 743:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_MessagePending(CAN_TypeDef* CANx, uint8_t FIFONumber)
 744:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1927              		.loc 1 744 1
 1928              		.cfi_startproc
 1929              		@ args = 0, pretend = 0, frame = 16
 1930              		@ frame_needed = 1, uses_anonymous_args = 0
 1931              		@ link register save eliminated.
 1932 0000 80B4     		push	{r7}
 1933              	.LCFI71:
 1934              		.cfi_def_cfa_offset 4
 1935              		.cfi_offset 7, -4
 1936 0002 85B0     		sub	sp, sp, #20
 1937              	.LCFI72:
 1938              		.cfi_def_cfa_offset 24
 1939 0004 00AF     		add	r7, sp, #0
 1940              	.LCFI73:
 1941              		.cfi_def_cfa_register 7
 1942 0006 7860     		str	r0, [r7, #4]
 1943 0008 0B46     		mov	r3, r1
 1944 000a FB70     		strb	r3, [r7, #3]
 745:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t message_pending=0;
 1945              		.loc 1 745 11
 1946 000c 0023     		movs	r3, #0
 1947 000e FB73     		strb	r3, [r7, #15]
 746:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 747:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 748:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 749:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1948              		.loc 1 749 6
 1949 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1950 0012 002B     		cmp	r3, #0
 1951 0014 06D1     		bne	.L97
 750:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 751:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     message_pending = (uint8_t)(CANx->RF0R&(uint32_t)0x03);
ARM GAS  /tmp/ccMTgD8N.s 			page 49


 1952              		.loc 1 751 37
 1953 0016 7B68     		ldr	r3, [r7, #4]
 1954 0018 DB68     		ldr	r3, [r3, #12]
 1955              		.loc 1 751 23
 1956 001a DBB2     		uxtb	r3, r3
 1957              		.loc 1 751 21
 1958 001c 03F00303 		and	r3, r3, #3
 1959 0020 FB73     		strb	r3, [r7, #15]
 1960 0022 0BE0     		b	.L98
 1961              	.L97:
 752:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 753:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if (FIFONumber == CAN_FIFO1)
 1962              		.loc 1 753 11
 1963 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1964 0026 012B     		cmp	r3, #1
 1965 0028 06D1     		bne	.L99
 754:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 755:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     message_pending = (uint8_t)(CANx->RF1R&(uint32_t)0x03);
 1966              		.loc 1 755 37
 1967 002a 7B68     		ldr	r3, [r7, #4]
 1968 002c 1B69     		ldr	r3, [r3, #16]
 1969              		.loc 1 755 23
 1970 002e DBB2     		uxtb	r3, r3
 1971              		.loc 1 755 21
 1972 0030 03F00303 		and	r3, r3, #3
 1973 0034 FB73     		strb	r3, [r7, #15]
 1974 0036 01E0     		b	.L98
 1975              	.L99:
 756:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 757:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 758:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 759:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     message_pending = 0;
 1976              		.loc 1 759 21
 1977 0038 0023     		movs	r3, #0
 1978 003a FB73     		strb	r3, [r7, #15]
 1979              	.L98:
 760:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 761:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return message_pending;
 1980              		.loc 1 761 10
 1981 003c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 762:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1982              		.loc 1 762 1
 1983 003e 1846     		mov	r0, r3
 1984 0040 1437     		adds	r7, r7, #20
 1985              	.LCFI74:
 1986              		.cfi_def_cfa_offset 4
 1987 0042 BD46     		mov	sp, r7
 1988              	.LCFI75:
 1989              		.cfi_def_cfa_register 13
 1990              		@ sp needed
 1991 0044 80BC     		pop	{r7}
 1992              	.LCFI76:
 1993              		.cfi_restore 7
 1994              		.cfi_def_cfa_offset 0
 1995 0046 7047     		bx	lr
 1996              		.cfi_endproc
 1997              	.LFE41:
ARM GAS  /tmp/ccMTgD8N.s 			page 50


 1999              		.section	.text.CAN_OperatingModeRequest,"ax",%progbits
 2000              		.align	1
 2001              		.global	CAN_OperatingModeRequest
 2002              		.syntax unified
 2003              		.thumb
 2004              		.thumb_func
 2005              		.fpu softvfp
 2007              	CAN_OperatingModeRequest:
 2008              	.LFB42:
 763:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 764:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 765:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 766:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief   Select the CAN Operation mode.
 767:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param CAN_OperatingMode : CAN Operating Mode. This parameter can be one 
 768:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                            of @ref CAN_OperatingMode_TypeDef enumeration.
 769:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval status of the requested mode which can be 
 770:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         - CAN_ModeStatus_Failed    CAN failed entering the specific mode 
 771:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         - CAN_ModeStatus_Success   CAN Succeed entering the specific mode 
 772:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 773:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 774:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_OperatingModeRequest(CAN_TypeDef* CANx, uint8_t CAN_OperatingMode)
 775:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2009              		.loc 1 775 1
 2010              		.cfi_startproc
 2011              		@ args = 0, pretend = 0, frame = 16
 2012              		@ frame_needed = 1, uses_anonymous_args = 0
 2013              		@ link register save eliminated.
 2014 0000 80B4     		push	{r7}
 2015              	.LCFI77:
 2016              		.cfi_def_cfa_offset 4
 2017              		.cfi_offset 7, -4
 2018 0002 85B0     		sub	sp, sp, #20
 2019              	.LCFI78:
 2020              		.cfi_def_cfa_offset 24
 2021 0004 00AF     		add	r7, sp, #0
 2022              	.LCFI79:
 2023              		.cfi_def_cfa_register 7
 2024 0006 7860     		str	r0, [r7, #4]
 2025 0008 0B46     		mov	r3, r1
 2026 000a FB70     		strb	r3, [r7, #3]
 776:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t status = CAN_ModeStatus_Failed;
 2027              		.loc 1 776 11
 2028 000c 0023     		movs	r3, #0
 2029 000e FB73     		strb	r3, [r7, #15]
 777:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 778:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Timeout for INAK or also for SLAK bits*/
 779:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t timeout = INAK_TIMEOUT; 
 2030              		.loc 1 779 12
 2031 0010 4FF6FF73 		movw	r3, #65535
 2032 0014 BB60     		str	r3, [r7, #8]
 780:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 781:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 782:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 783:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_OPERATING_MODE(CAN_OperatingMode));
 784:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 785:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_OperatingMode == CAN_OperatingMode_Initialization)
 2033              		.loc 1 785 6
ARM GAS  /tmp/ccMTgD8N.s 			page 51


 2034 0016 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2035 0018 002B     		cmp	r3, #0
 2036 001a 20D1     		bne	.L102
 786:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 787:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request initialisation */
 788:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_SLEEP)) | CAN_MCR_INRQ);
 2037              		.loc 1 788 33
 2038 001c 7B68     		ldr	r3, [r7, #4]
 2039 001e 1B68     		ldr	r3, [r3]
 2040              		.loc 1 788 17
 2041 0020 23F00303 		bic	r3, r3, #3
 2042 0024 43F00102 		orr	r2, r3, #1
 2043              		.loc 1 788 15
 2044 0028 7B68     		ldr	r3, [r7, #4]
 2045 002a 1A60     		str	r2, [r3]
 789:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 790:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK) && (timeout != 0))
 2046              		.loc 1 791 11
 2047 002c 02E0     		b	.L103
 2048              	.L105:
 792:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 793:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       timeout--;
 2049              		.loc 1 793 14
 2050 002e BB68     		ldr	r3, [r7, #8]
 2051 0030 013B     		subs	r3, r3, #1
 2052 0032 BB60     		str	r3, [r7, #8]
 2053              	.L103:
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2054              		.loc 1 791 18
 2055 0034 7B68     		ldr	r3, [r7, #4]
 2056 0036 5B68     		ldr	r3, [r3, #4]
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2057              		.loc 1 791 24
 2058 0038 03F00303 		and	r3, r3, #3
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2059              		.loc 1 791 11
 2060 003c 012B     		cmp	r3, #1
 2061 003e 02D0     		beq	.L104
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2062              		.loc 1 791 58 discriminator 1
 2063 0040 BB68     		ldr	r3, [r7, #8]
 2064 0042 002B     		cmp	r3, #0
 2065 0044 F3D1     		bne	.L105
 2066              	.L104:
 794:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 795:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK)
 2067              		.loc 1 795 14
 2068 0046 7B68     		ldr	r3, [r7, #4]
 2069 0048 5B68     		ldr	r3, [r3, #4]
 2070              		.loc 1 795 20
 2071 004a 03F00303 		and	r3, r3, #3
 2072              		.loc 1 795 8
 2073 004e 012B     		cmp	r3, #1
 2074 0050 02D0     		beq	.L106
 796:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 797:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
ARM GAS  /tmp/ccMTgD8N.s 			page 52


 2075              		.loc 1 797 14
 2076 0052 0023     		movs	r3, #0
 2077 0054 FB73     		strb	r3, [r7, #15]
 2078 0056 4AE0     		b	.L107
 2079              	.L106:
 798:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 799:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 800:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 801:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 2080              		.loc 1 801 14
 2081 0058 0123     		movs	r3, #1
 2082 005a FB73     		strb	r3, [r7, #15]
 2083 005c 47E0     		b	.L107
 2084              	.L102:
 802:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 803:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 804:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Normal)
 2085              		.loc 1 804 12
 2086 005e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2087 0060 012B     		cmp	r3, #1
 2088 0062 1ED1     		bne	.L108
 805:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 806:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request leave initialisation and sleep mode  and enter Normal mode */
 807:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= (uint32_t)(~(CAN_MCR_SLEEP|CAN_MCR_INRQ));
 2089              		.loc 1 807 15
 2090 0064 7B68     		ldr	r3, [r7, #4]
 2091 0066 1B68     		ldr	r3, [r3]
 2092 0068 23F00302 		bic	r2, r3, #3
 2093 006c 7B68     		ldr	r3, [r7, #4]
 2094 006e 1A60     		str	r2, [r3]
 808:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 809:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != 0) && (timeout!=0))
 2095              		.loc 1 810 11
 2096 0070 02E0     		b	.L109
 2097              	.L111:
 811:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 812:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       timeout--;
 2098              		.loc 1 812 14
 2099 0072 BB68     		ldr	r3, [r7, #8]
 2100 0074 013B     		subs	r3, r3, #1
 2101 0076 BB60     		str	r3, [r7, #8]
 2102              	.L109:
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2103              		.loc 1 810 18
 2104 0078 7B68     		ldr	r3, [r7, #4]
 2105 007a 5B68     		ldr	r3, [r3, #4]
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2106              		.loc 1 810 24
 2107 007c 03F00303 		and	r3, r3, #3
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2108              		.loc 1 810 11
 2109 0080 002B     		cmp	r3, #0
 2110 0082 02D0     		beq	.L110
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2111              		.loc 1 810 47 discriminator 1
 2112 0084 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccMTgD8N.s 			page 53


 2113 0086 002B     		cmp	r3, #0
 2114 0088 F3D1     		bne	.L111
 2115              	.L110:
 813:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 814:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != 0)
 2116              		.loc 1 814 14
 2117 008a 7B68     		ldr	r3, [r7, #4]
 2118 008c 5B68     		ldr	r3, [r3, #4]
 2119              		.loc 1 814 20
 2120 008e 03F00303 		and	r3, r3, #3
 2121              		.loc 1 814 8
 2122 0092 002B     		cmp	r3, #0
 2123 0094 02D0     		beq	.L112
 815:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 816:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 2124              		.loc 1 816 14
 2125 0096 0023     		movs	r3, #0
 2126 0098 FB73     		strb	r3, [r7, #15]
 2127 009a 28E0     		b	.L107
 2128              	.L112:
 817:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 818:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 819:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 820:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 2129              		.loc 1 820 14
 2130 009c 0123     		movs	r3, #1
 2131 009e FB73     		strb	r3, [r7, #15]
 2132 00a0 25E0     		b	.L107
 2133              	.L108:
 821:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 822:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 823:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Sleep)
 2134              		.loc 1 823 12
 2135 00a2 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2136 00a4 022B     		cmp	r3, #2
 2137 00a6 20D1     		bne	.L113
 824:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 825:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request Sleep mode */
 826:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 2138              		.loc 1 826 33
 2139 00a8 7B68     		ldr	r3, [r7, #4]
 2140 00aa 1B68     		ldr	r3, [r3]
 2141              		.loc 1 826 17
 2142 00ac 23F00303 		bic	r3, r3, #3
 2143 00b0 43F00202 		orr	r2, r3, #2
 2144              		.loc 1 826 15
 2145 00b4 7B68     		ldr	r3, [r7, #4]
 2146 00b6 1A60     		str	r2, [r3]
 827:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 828:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK) && (timeout!=0))
 2147              		.loc 1 829 11
 2148 00b8 02E0     		b	.L114
 2149              	.L116:
 830:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 831:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       timeout--;
 2150              		.loc 1 831 14
ARM GAS  /tmp/ccMTgD8N.s 			page 54


 2151 00ba BB68     		ldr	r3, [r7, #8]
 2152 00bc 013B     		subs	r3, r3, #1
 2153 00be BB60     		str	r3, [r7, #8]
 2154              	.L114:
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2155              		.loc 1 829 18
 2156 00c0 7B68     		ldr	r3, [r7, #4]
 2157 00c2 5B68     		ldr	r3, [r3, #4]
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2158              		.loc 1 829 24
 2159 00c4 03F00303 		and	r3, r3, #3
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2160              		.loc 1 829 11
 2161 00c8 022B     		cmp	r3, #2
 2162 00ca 02D0     		beq	.L115
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2163              		.loc 1 829 58 discriminator 1
 2164 00cc BB68     		ldr	r3, [r7, #8]
 2165 00ce 002B     		cmp	r3, #0
 2166 00d0 F3D1     		bne	.L116
 2167              	.L115:
 832:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 833:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK)
 2168              		.loc 1 833 14
 2169 00d2 7B68     		ldr	r3, [r7, #4]
 2170 00d4 5B68     		ldr	r3, [r3, #4]
 2171              		.loc 1 833 20
 2172 00d6 03F00303 		and	r3, r3, #3
 2173              		.loc 1 833 8
 2174 00da 022B     		cmp	r3, #2
 2175 00dc 02D0     		beq	.L117
 834:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 835:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 2176              		.loc 1 835 14
 2177 00de 0023     		movs	r3, #0
 2178 00e0 FB73     		strb	r3, [r7, #15]
 2179 00e2 04E0     		b	.L107
 2180              	.L117:
 836:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 837:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 838:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 839:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 2181              		.loc 1 839 14
 2182 00e4 0123     		movs	r3, #1
 2183 00e6 FB73     		strb	r3, [r7, #15]
 2184 00e8 01E0     		b	.L107
 2185              	.L113:
 840:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 841:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 842:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 843:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 844:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     status = CAN_ModeStatus_Failed;
 2186              		.loc 1 844 12
 2187 00ea 0023     		movs	r3, #0
 2188 00ec FB73     		strb	r3, [r7, #15]
 2189              	.L107:
 845:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
ARM GAS  /tmp/ccMTgD8N.s 			page 55


 846:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 847:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return  (uint8_t) status;
 2190              		.loc 1 847 11
 2191 00ee FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 848:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2192              		.loc 1 848 1
 2193 00f0 1846     		mov	r0, r3
 2194 00f2 1437     		adds	r7, r7, #20
 2195              	.LCFI80:
 2196              		.cfi_def_cfa_offset 4
 2197 00f4 BD46     		mov	sp, r7
 2198              	.LCFI81:
 2199              		.cfi_def_cfa_register 13
 2200              		@ sp needed
 2201 00f6 80BC     		pop	{r7}
 2202              	.LCFI82:
 2203              		.cfi_restore 7
 2204              		.cfi_def_cfa_offset 0
 2205 00f8 7047     		bx	lr
 2206              		.cfi_endproc
 2207              	.LFE42:
 2209              		.section	.text.CAN_Sleep,"ax",%progbits
 2210              		.align	1
 2211              		.global	CAN_Sleep
 2212              		.syntax unified
 2213              		.thumb
 2214              		.thumb_func
 2215              		.fpu softvfp
 2217              	CAN_Sleep:
 2218              	.LFB43:
 849:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 850:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 851:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enters the low power mode.
 852:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.
 853:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval status: CAN_Sleep_Ok if sleep entered, CAN_Sleep_Failed in an 
 854:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 other case.
 855:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 856:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_Sleep(CAN_TypeDef* CANx)
 857:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2219              		.loc 1 857 1
 2220              		.cfi_startproc
 2221              		@ args = 0, pretend = 0, frame = 16
 2222              		@ frame_needed = 1, uses_anonymous_args = 0
 2223              		@ link register save eliminated.
 2224 0000 80B4     		push	{r7}
 2225              	.LCFI83:
 2226              		.cfi_def_cfa_offset 4
 2227              		.cfi_offset 7, -4
 2228 0002 85B0     		sub	sp, sp, #20
 2229              	.LCFI84:
 2230              		.cfi_def_cfa_offset 24
 2231 0004 00AF     		add	r7, sp, #0
 2232              	.LCFI85:
 2233              		.cfi_def_cfa_register 7
 2234 0006 7860     		str	r0, [r7, #4]
 858:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t sleepstatus = CAN_Sleep_Failed;
 2235              		.loc 1 858 11
ARM GAS  /tmp/ccMTgD8N.s 			page 56


 2236 0008 0023     		movs	r3, #0
 2237 000a FB73     		strb	r3, [r7, #15]
 859:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 860:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 861:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 862:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 863:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Request Sleep mode */
 864:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    CANx->MCR = (((CANx->MCR) & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 2238              		.loc 1 864 23
 2239 000c 7B68     		ldr	r3, [r7, #4]
 2240 000e 1B68     		ldr	r3, [r3]
 2241              		.loc 1 864 69
 2242 0010 23F00303 		bic	r3, r3, #3
 2243 0014 43F00202 		orr	r2, r3, #2
 2244              		.loc 1 864 14
 2245 0018 7B68     		ldr	r3, [r7, #4]
 2246 001a 1A60     		str	r2, [r3]
 865:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    
 866:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Sleep mode status */
 867:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CANx->MSR & (CAN_MSR_SLAK|CAN_MSR_INAK)) == CAN_MSR_SLAK)
 2247              		.loc 1 867 12
 2248 001c 7B68     		ldr	r3, [r7, #4]
 2249 001e 5B68     		ldr	r3, [r3, #4]
 2250              		.loc 1 867 18
 2251 0020 03F00303 		and	r3, r3, #3
 2252              		.loc 1 867 6
 2253 0024 022B     		cmp	r3, #2
 2254 0026 01D1     		bne	.L120
 868:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 869:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Sleep mode not entered */
 870:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     sleepstatus =  CAN_Sleep_Ok;
 2255              		.loc 1 870 17
 2256 0028 0123     		movs	r3, #1
 2257 002a FB73     		strb	r3, [r7, #15]
 2258              	.L120:
 871:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 872:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* return sleep mode status */
 873:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    return (uint8_t)sleepstatus;
 2259              		.loc 1 873 11
 2260 002c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 874:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2261              		.loc 1 874 1
 2262 002e 1846     		mov	r0, r3
 2263 0030 1437     		adds	r7, r7, #20
 2264              	.LCFI86:
 2265              		.cfi_def_cfa_offset 4
 2266 0032 BD46     		mov	sp, r7
 2267              	.LCFI87:
 2268              		.cfi_def_cfa_register 13
 2269              		@ sp needed
 2270 0034 80BC     		pop	{r7}
 2271              	.LCFI88:
 2272              		.cfi_restore 7
 2273              		.cfi_def_cfa_offset 0
 2274 0036 7047     		bx	lr
 2275              		.cfi_endproc
 2276              	.LFE43:
ARM GAS  /tmp/ccMTgD8N.s 			page 57


 2278              		.section	.text.CAN_WakeUp,"ax",%progbits
 2279              		.align	1
 2280              		.global	CAN_WakeUp
 2281              		.syntax unified
 2282              		.thumb
 2283              		.thumb_func
 2284              		.fpu softvfp
 2286              	CAN_WakeUp:
 2287              	.LFB44:
 875:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 876:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 877:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Wakes the CAN up.
 878:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
 879:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval status:  CAN_WakeUp_Ok if sleep mode left, CAN_WakeUp_Failed in an 
 880:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  other case.
 881:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 882:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_WakeUp(CAN_TypeDef* CANx)
 883:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2288              		.loc 1 883 1
 2289              		.cfi_startproc
 2290              		@ args = 0, pretend = 0, frame = 16
 2291              		@ frame_needed = 1, uses_anonymous_args = 0
 2292              		@ link register save eliminated.
 2293 0000 80B4     		push	{r7}
 2294              	.LCFI89:
 2295              		.cfi_def_cfa_offset 4
 2296              		.cfi_offset 7, -4
 2297 0002 85B0     		sub	sp, sp, #20
 2298              	.LCFI90:
 2299              		.cfi_def_cfa_offset 24
 2300 0004 00AF     		add	r7, sp, #0
 2301              	.LCFI91:
 2302              		.cfi_def_cfa_register 7
 2303 0006 7860     		str	r0, [r7, #4]
 884:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t wait_slak = SLAK_TIMEOUT;
 2304              		.loc 1 884 12
 2305 0008 4FF6FF73 		movw	r3, #65535
 2306 000c FB60     		str	r3, [r7, #12]
 885:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t wakeupstatus = CAN_WakeUp_Failed;
 2307              		.loc 1 885 11
 2308 000e 0023     		movs	r3, #0
 2309 0010 FB72     		strb	r3, [r7, #11]
 886:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 887:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 888:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 889:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 890:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Wake up request */
 891:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CANx->MCR &= ~(uint32_t)CAN_MCR_SLEEP;
 2310              		.loc 1 891 13
 2311 0012 7B68     		ldr	r3, [r7, #4]
 2312 0014 1B68     		ldr	r3, [r3]
 2313 0016 23F00202 		bic	r2, r3, #2
 2314 001a 7B68     		ldr	r3, [r7, #4]
 2315 001c 1A60     		str	r2, [r3]
 892:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 893:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Sleep mode status */
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   while(((CANx->MSR & CAN_MSR_SLAK) == CAN_MSR_SLAK)&&(wait_slak!=0x00))
ARM GAS  /tmp/ccMTgD8N.s 			page 58


 2316              		.loc 1 894 8
 2317 001e 02E0     		b	.L123
 2318              	.L125:
 895:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 896:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    wait_slak--;
 2319              		.loc 1 896 13
 2320 0020 FB68     		ldr	r3, [r7, #12]
 2321 0022 013B     		subs	r3, r3, #1
 2322 0024 FB60     		str	r3, [r7, #12]
 2323              	.L123:
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 2324              		.loc 1 894 15
 2325 0026 7B68     		ldr	r3, [r7, #4]
 2326 0028 5B68     		ldr	r3, [r3, #4]
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 2327              		.loc 1 894 21
 2328 002a 03F00203 		and	r3, r3, #2
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 2329              		.loc 1 894 8
 2330 002e 022B     		cmp	r3, #2
 2331 0030 02D1     		bne	.L124
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 2332              		.loc 1 894 53 discriminator 1
 2333 0032 FB68     		ldr	r3, [r7, #12]
 2334 0034 002B     		cmp	r3, #0
 2335 0036 F3D1     		bne	.L125
 2336              	.L124:
 897:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 898:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if((CANx->MSR & CAN_MSR_SLAK) != CAN_MSR_SLAK)
 2337              		.loc 1 898 11
 2338 0038 7B68     		ldr	r3, [r7, #4]
 2339 003a 5B68     		ldr	r3, [r3, #4]
 2340              		.loc 1 898 17
 2341 003c 03F00203 		and	r3, r3, #2
 2342              		.loc 1 898 5
 2343 0040 022B     		cmp	r3, #2
 2344 0042 01D0     		beq	.L126
 899:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 900:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* wake up done : Sleep mode exited */
 901:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     wakeupstatus = CAN_WakeUp_Ok;
 2345              		.loc 1 901 18
 2346 0044 0123     		movs	r3, #1
 2347 0046 FB72     		strb	r3, [r7, #11]
 2348              	.L126:
 902:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 903:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* return wakeup status */
 904:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return (uint8_t)wakeupstatus;
 2349              		.loc 1 904 10
 2350 0048 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 905:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2351              		.loc 1 905 1
 2352 004a 1846     		mov	r0, r3
 2353 004c 1437     		adds	r7, r7, #20
 2354              	.LCFI92:
 2355              		.cfi_def_cfa_offset 4
 2356 004e BD46     		mov	sp, r7
 2357              	.LCFI93:
ARM GAS  /tmp/ccMTgD8N.s 			page 59


 2358              		.cfi_def_cfa_register 13
 2359              		@ sp needed
 2360 0050 80BC     		pop	{r7}
 2361              	.LCFI94:
 2362              		.cfi_restore 7
 2363              		.cfi_def_cfa_offset 0
 2364 0052 7047     		bx	lr
 2365              		.cfi_endproc
 2366              	.LFE44:
 2368              		.section	.text.CAN_GetLastErrorCode,"ax",%progbits
 2369              		.align	1
 2370              		.global	CAN_GetLastErrorCode
 2371              		.syntax unified
 2372              		.thumb
 2373              		.thumb_func
 2374              		.fpu softvfp
 2376              	CAN_GetLastErrorCode:
 2377              	.LFB45:
 906:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 907:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 908:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 909:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the CANx's last error code (LEC).
 910:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:          where x can be 1 or 2 to to select the CAN peripheral.  
 911:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval CAN_ErrorCode: specifies the Error code : 
 912:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_NoErr            No Error  
 913:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_StuffErr         Stuff Error
 914:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_FormErr          Form Error
 915:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_ACKErr           Acknowledgment Error
 916:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_BitRecessiveErr  Bit Recessive Error
 917:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_BitDominantErr   Bit Dominant Error
 918:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_CRCErr           CRC Error
 919:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_SoftwareSetErr   Software Set Error  
 920:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 921:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  
 922:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_GetLastErrorCode(CAN_TypeDef* CANx)
 923:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2378              		.loc 1 923 1
 2379              		.cfi_startproc
 2380              		@ args = 0, pretend = 0, frame = 16
 2381              		@ frame_needed = 1, uses_anonymous_args = 0
 2382              		@ link register save eliminated.
 2383 0000 80B4     		push	{r7}
 2384              	.LCFI95:
 2385              		.cfi_def_cfa_offset 4
 2386              		.cfi_offset 7, -4
 2387 0002 85B0     		sub	sp, sp, #20
 2388              	.LCFI96:
 2389              		.cfi_def_cfa_offset 24
 2390 0004 00AF     		add	r7, sp, #0
 2391              	.LCFI97:
 2392              		.cfi_def_cfa_register 7
 2393 0006 7860     		str	r0, [r7, #4]
 924:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t errorcode=0;
 2394              		.loc 1 924 11
 2395 0008 0023     		movs	r3, #0
 2396 000a FB73     		strb	r3, [r7, #15]
 925:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
ARM GAS  /tmp/ccMTgD8N.s 			page 60


 926:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 927:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 928:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 929:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the error code*/
 930:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   errorcode = (((uint8_t)CANx->ESR) & (uint8_t)CAN_ESR_LEC);
 2397              		.loc 1 930 30
 2398 000c 7B68     		ldr	r3, [r7, #4]
 2399 000e 9B69     		ldr	r3, [r3, #24]
 2400              		.loc 1 930 37
 2401 0010 DBB2     		uxtb	r3, r3
 2402              		.loc 1 930 13
 2403 0012 03F07003 		and	r3, r3, #112
 2404 0016 FB73     		strb	r3, [r7, #15]
 931:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 932:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the error code*/
 933:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return errorcode;
 2405              		.loc 1 933 10
 2406 0018 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 934:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2407              		.loc 1 934 1
 2408 001a 1846     		mov	r0, r3
 2409 001c 1437     		adds	r7, r7, #20
 2410              	.LCFI98:
 2411              		.cfi_def_cfa_offset 4
 2412 001e BD46     		mov	sp, r7
 2413              	.LCFI99:
 2414              		.cfi_def_cfa_register 13
 2415              		@ sp needed
 2416 0020 80BC     		pop	{r7}
 2417              	.LCFI100:
 2418              		.cfi_restore 7
 2419              		.cfi_def_cfa_offset 0
 2420 0022 7047     		bx	lr
 2421              		.cfi_endproc
 2422              	.LFE45:
 2424              		.section	.text.CAN_GetReceiveErrorCounter,"ax",%progbits
 2425              		.align	1
 2426              		.global	CAN_GetReceiveErrorCounter
 2427              		.syntax unified
 2428              		.thumb
 2429              		.thumb_func
 2430              		.fpu softvfp
 2432              	CAN_GetReceiveErrorCounter:
 2433              	.LFB46:
 935:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 936:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the CANx Receive Error Counter (REC).
 937:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   In case of an error during reception, this counter is incremented 
 938:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         by 1 or by 8 depending on the error condition as defined by the CAN 
 939:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         standard. After every successful reception, the counter is 
 940:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         decremented by 1 or reset to 120 if its value was higher than 128. 
 941:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         When the counter value exceeds 127, the CAN controller enters the 
 942:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         error passive state.  
 943:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx: where x can be 1 or 2 to to select the CAN peripheral.  
 944:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval CAN Receive Error Counter. 
 945:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 946:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_GetReceiveErrorCounter(CAN_TypeDef* CANx)
 947:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
ARM GAS  /tmp/ccMTgD8N.s 			page 61


 2434              		.loc 1 947 1
 2435              		.cfi_startproc
 2436              		@ args = 0, pretend = 0, frame = 16
 2437              		@ frame_needed = 1, uses_anonymous_args = 0
 2438              		@ link register save eliminated.
 2439 0000 80B4     		push	{r7}
 2440              	.LCFI101:
 2441              		.cfi_def_cfa_offset 4
 2442              		.cfi_offset 7, -4
 2443 0002 85B0     		sub	sp, sp, #20
 2444              	.LCFI102:
 2445              		.cfi_def_cfa_offset 24
 2446 0004 00AF     		add	r7, sp, #0
 2447              	.LCFI103:
 2448              		.cfi_def_cfa_register 7
 2449 0006 7860     		str	r0, [r7, #4]
 948:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t counter=0;
 2450              		.loc 1 948 11
 2451 0008 0023     		movs	r3, #0
 2452 000a FB73     		strb	r3, [r7, #15]
 949:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 950:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 951:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 952:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 953:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the Receive Error Counter*/
 954:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_REC)>> 24);
 2453              		.loc 1 954 28
 2454 000c 7B68     		ldr	r3, [r7, #4]
 2455 000e 9B69     		ldr	r3, [r3, #24]
 2456              		.loc 1 954 48
 2457 0010 1B0E     		lsrs	r3, r3, #24
 2458              		.loc 1 954 11
 2459 0012 FB73     		strb	r3, [r7, #15]
 955:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 956:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the Receive Error Counter*/
 957:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return counter;
 2460              		.loc 1 957 10
 2461 0014 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 958:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2462              		.loc 1 958 1
 2463 0016 1846     		mov	r0, r3
 2464 0018 1437     		adds	r7, r7, #20
 2465              	.LCFI104:
 2466              		.cfi_def_cfa_offset 4
 2467 001a BD46     		mov	sp, r7
 2468              	.LCFI105:
 2469              		.cfi_def_cfa_register 13
 2470              		@ sp needed
 2471 001c 80BC     		pop	{r7}
 2472              	.LCFI106:
 2473              		.cfi_restore 7
 2474              		.cfi_def_cfa_offset 0
 2475 001e 7047     		bx	lr
 2476              		.cfi_endproc
 2477              	.LFE46:
 2479              		.section	.text.CAN_GetLSBTransmitErrorCounter,"ax",%progbits
 2480              		.align	1
ARM GAS  /tmp/ccMTgD8N.s 			page 62


 2481              		.global	CAN_GetLSBTransmitErrorCounter
 2482              		.syntax unified
 2483              		.thumb
 2484              		.thumb_func
 2485              		.fpu softvfp
 2487              	CAN_GetLSBTransmitErrorCounter:
 2488              	.LFB47:
 959:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 960:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 961:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 962:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the LSB of the 9-bit CANx Transmit Error Counter(TEC).
 963:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.  
 964:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval LSB of the 9-bit CAN Transmit Error Counter. 
 965:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 966:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_GetLSBTransmitErrorCounter(CAN_TypeDef* CANx)
 967:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2489              		.loc 1 967 1
 2490              		.cfi_startproc
 2491              		@ args = 0, pretend = 0, frame = 16
 2492              		@ frame_needed = 1, uses_anonymous_args = 0
 2493              		@ link register save eliminated.
 2494 0000 80B4     		push	{r7}
 2495              	.LCFI107:
 2496              		.cfi_def_cfa_offset 4
 2497              		.cfi_offset 7, -4
 2498 0002 85B0     		sub	sp, sp, #20
 2499              	.LCFI108:
 2500              		.cfi_def_cfa_offset 24
 2501 0004 00AF     		add	r7, sp, #0
 2502              	.LCFI109:
 2503              		.cfi_def_cfa_register 7
 2504 0006 7860     		str	r0, [r7, #4]
 968:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t counter=0;
 2505              		.loc 1 968 11
 2506 0008 0023     		movs	r3, #0
 2507 000a FB73     		strb	r3, [r7, #15]
 969:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 970:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 971:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 972:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 973:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
 974:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_TEC)>> 16);
 2508              		.loc 1 974 28
 2509 000c 7B68     		ldr	r3, [r7, #4]
 2510 000e 9B69     		ldr	r3, [r3, #24]
 2511              		.loc 1 974 48
 2512 0010 1B0C     		lsrs	r3, r3, #16
 2513              		.loc 1 974 11
 2514 0012 FB73     		strb	r3, [r7, #15]
 975:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 976:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
 977:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return counter;
 2515              		.loc 1 977 10
 2516 0014 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 978:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2517              		.loc 1 978 1
 2518 0016 1846     		mov	r0, r3
ARM GAS  /tmp/ccMTgD8N.s 			page 63


 2519 0018 1437     		adds	r7, r7, #20
 2520              	.LCFI110:
 2521              		.cfi_def_cfa_offset 4
 2522 001a BD46     		mov	sp, r7
 2523              	.LCFI111:
 2524              		.cfi_def_cfa_register 13
 2525              		@ sp needed
 2526 001c 80BC     		pop	{r7}
 2527              	.LCFI112:
 2528              		.cfi_restore 7
 2529              		.cfi_def_cfa_offset 0
 2530 001e 7047     		bx	lr
 2531              		.cfi_endproc
 2532              	.LFE47:
 2534              		.section	.text.CAN_ITConfig,"ax",%progbits
 2535              		.align	1
 2536              		.global	CAN_ITConfig
 2537              		.syntax unified
 2538              		.thumb
 2539              		.thumb_func
 2540              		.fpu softvfp
 2542              	CAN_ITConfig:
 2543              	.LFB48:
 979:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 980:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 981:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 982:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enables or disables the specified CANx interrupts.
 983:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.
 984:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_IT: specifies the CAN interrupt sources to be enabled or disabled.
 985:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 This parameter can be: 
 986:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_TME, 
 987:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FMP0, 
 988:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FF0,
 989:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FOV0, 
 990:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FMP1, 
 991:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FF1,
 992:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FOV1, 
 993:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_EWG, 
 994:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_EPV,
 995:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_LEC, 
 996:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_ERR, 
 997:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_WKU or 
 998:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_SLK.
 999:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  NewState: new state of the CAN interrupts.
1000:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   This parameter can be: ENABLE or DISABLE.
1001:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
1002:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1003:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_ITConfig(CAN_TypeDef* CANx, uint32_t CAN_IT, FunctionalState NewState)
1004:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2544              		.loc 1 1004 1
 2545              		.cfi_startproc
 2546              		@ args = 0, pretend = 0, frame = 16
 2547              		@ frame_needed = 1, uses_anonymous_args = 0
 2548              		@ link register save eliminated.
 2549 0000 80B4     		push	{r7}
 2550              	.LCFI113:
 2551              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccMTgD8N.s 			page 64


 2552              		.cfi_offset 7, -4
 2553 0002 85B0     		sub	sp, sp, #20
 2554              	.LCFI114:
 2555              		.cfi_def_cfa_offset 24
 2556 0004 00AF     		add	r7, sp, #0
 2557              	.LCFI115:
 2558              		.cfi_def_cfa_register 7
 2559 0006 F860     		str	r0, [r7, #12]
 2560 0008 B960     		str	r1, [r7, #8]
 2561 000a 1346     		mov	r3, r2
 2562 000c FB71     		strb	r3, [r7, #7]
1005:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1006:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1007:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1008:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1009:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1010:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 2563              		.loc 1 1010 6
 2564 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2565 0010 002B     		cmp	r3, #0
 2566 0012 06D0     		beq	.L135
1011:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1012:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable the selected CANx interrupt */
1013:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->IER |= CAN_IT;
 2567              		.loc 1 1013 15
 2568 0014 FB68     		ldr	r3, [r7, #12]
 2569 0016 5A69     		ldr	r2, [r3, #20]
 2570 0018 BB68     		ldr	r3, [r7, #8]
 2571 001a 1A43     		orrs	r2, r2, r3
 2572 001c FB68     		ldr	r3, [r7, #12]
 2573 001e 5A61     		str	r2, [r3, #20]
1014:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1015:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
1016:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1017:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Disable the selected CANx interrupt */
1018:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->IER &= ~CAN_IT;
1019:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1020:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2574              		.loc 1 1020 1
 2575 0020 06E0     		b	.L137
 2576              	.L135:
1018:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 2577              		.loc 1 1018 15
 2578 0022 FB68     		ldr	r3, [r7, #12]
 2579 0024 5A69     		ldr	r2, [r3, #20]
1018:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 2580              		.loc 1 1018 18
 2581 0026 BB68     		ldr	r3, [r7, #8]
 2582 0028 DB43     		mvns	r3, r3
1018:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 2583              		.loc 1 1018 15
 2584 002a 1A40     		ands	r2, r2, r3
 2585 002c FB68     		ldr	r3, [r7, #12]
 2586 002e 5A61     		str	r2, [r3, #20]
 2587              	.L137:
 2588              		.loc 1 1020 1
 2589 0030 00BF     		nop
ARM GAS  /tmp/ccMTgD8N.s 			page 65


 2590 0032 1437     		adds	r7, r7, #20
 2591              	.LCFI116:
 2592              		.cfi_def_cfa_offset 4
 2593 0034 BD46     		mov	sp, r7
 2594              	.LCFI117:
 2595              		.cfi_def_cfa_register 13
 2596              		@ sp needed
 2597 0036 80BC     		pop	{r7}
 2598              	.LCFI118:
 2599              		.cfi_restore 7
 2600              		.cfi_def_cfa_offset 0
 2601 0038 7047     		bx	lr
 2602              		.cfi_endproc
 2603              	.LFE48:
 2605              		.section	.text.CAN_GetFlagStatus,"ax",%progbits
 2606              		.align	1
 2607              		.global	CAN_GetFlagStatus
 2608              		.syntax unified
 2609              		.thumb
 2610              		.thumb_func
 2611              		.fpu softvfp
 2613              	CAN_GetFlagStatus:
 2614              	.LFB49:
1021:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1022:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks whether the specified CAN flag is set or not.
1023:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
1024:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_FLAG: specifies the flag to check.
1025:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   This parameter can be one of the following flags: 
1026:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_EWG
1027:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_EPV 
1028:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_BOF
1029:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP0
1030:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP1
1031:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP2
1032:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FMP1   
1033:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FF1       
1034:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FOV1   
1035:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FMP0   
1036:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FF0       
1037:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FOV0   
1038:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_WKU 
1039:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_SLAK  
1040:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_LEC       
1041:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The new state of CAN_FLAG (SET or RESET).
1042:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1043:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** FlagStatus CAN_GetFlagStatus(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1044:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2615              		.loc 1 1044 1
 2616              		.cfi_startproc
 2617              		@ args = 0, pretend = 0, frame = 16
 2618              		@ frame_needed = 1, uses_anonymous_args = 0
 2619              		@ link register save eliminated.
 2620 0000 80B4     		push	{r7}
 2621              	.LCFI119:
 2622              		.cfi_def_cfa_offset 4
 2623              		.cfi_offset 7, -4
 2624 0002 85B0     		sub	sp, sp, #20
ARM GAS  /tmp/ccMTgD8N.s 			page 66


 2625              	.LCFI120:
 2626              		.cfi_def_cfa_offset 24
 2627 0004 00AF     		add	r7, sp, #0
 2628              	.LCFI121:
 2629              		.cfi_def_cfa_register 7
 2630 0006 7860     		str	r0, [r7, #4]
 2631 0008 3960     		str	r1, [r7]
1045:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   FlagStatus bitstatus = RESET;
 2632              		.loc 1 1045 14
 2633 000a 0023     		movs	r3, #0
 2634 000c FB73     		strb	r3, [r7, #15]
1046:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1047:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1048:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1049:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_GET_FLAG(CAN_FLAG));
1050:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1051:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1052:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if((CAN_FLAG & CAN_FLAGS_ESR) != (uint32_t)RESET)
 2635              		.loc 1 1052 16
 2636 000e 3B68     		ldr	r3, [r7]
 2637 0010 03F47003 		and	r3, r3, #15728640
 2638              		.loc 1 1052 5
 2639 0014 002B     		cmp	r3, #0
 2640 0016 0DD0     		beq	.L139
1053:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1054:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1055:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->ESR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2641              		.loc 1 1055 14
 2642 0018 7B68     		ldr	r3, [r7, #4]
 2643 001a 9A69     		ldr	r2, [r3, #24]
 2644              		.loc 1 1055 20
 2645 001c 3B68     		ldr	r3, [r7]
 2646 001e 1340     		ands	r3, r3, r2
 2647 0020 C3F31303 		ubfx	r3, r3, #0, #20
 2648              		.loc 1 1055 8
 2649 0024 002B     		cmp	r3, #0
 2650 0026 02D0     		beq	.L140
1056:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1057:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1058:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2651              		.loc 1 1058 17
 2652 0028 0123     		movs	r3, #1
 2653 002a FB73     		strb	r3, [r7, #15]
 2654 002c 48E0     		b	.L141
 2655              	.L140:
1059:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1060:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1061:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1062:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1063:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2656              		.loc 1 1063 17
 2657 002e 0023     		movs	r3, #0
 2658 0030 FB73     		strb	r3, [r7, #15]
 2659 0032 45E0     		b	.L141
 2660              	.L139:
1064:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1065:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
ARM GAS  /tmp/ccMTgD8N.s 			page 67


1066:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_MSR) != (uint32_t)RESET)
 2661              		.loc 1 1066 21
 2662 0034 3B68     		ldr	r3, [r7]
 2663 0036 03F08073 		and	r3, r3, #16777216
 2664              		.loc 1 1066 10
 2665 003a 002B     		cmp	r3, #0
 2666 003c 0DD0     		beq	.L142
1067:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1068:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1069:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2667              		.loc 1 1069 14
 2668 003e 7B68     		ldr	r3, [r7, #4]
 2669 0040 5A68     		ldr	r2, [r3, #4]
 2670              		.loc 1 1069 20
 2671 0042 3B68     		ldr	r3, [r7]
 2672 0044 1340     		ands	r3, r3, r2
 2673 0046 C3F31303 		ubfx	r3, r3, #0, #20
 2674              		.loc 1 1069 8
 2675 004a 002B     		cmp	r3, #0
 2676 004c 02D0     		beq	.L143
1070:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1071:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1072:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2677              		.loc 1 1072 17
 2678 004e 0123     		movs	r3, #1
 2679 0050 FB73     		strb	r3, [r7, #15]
 2680 0052 35E0     		b	.L141
 2681              	.L143:
1073:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1074:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1075:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1076:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1077:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2682              		.loc 1 1077 17
 2683 0054 0023     		movs	r3, #0
 2684 0056 FB73     		strb	r3, [r7, #15]
 2685 0058 32E0     		b	.L141
 2686              	.L142:
1078:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1079:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1080:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_TSR) != (uint32_t)RESET)
 2687              		.loc 1 1080 21
 2688 005a 3B68     		ldr	r3, [r7]
 2689 005c 03F00063 		and	r3, r3, #134217728
 2690              		.loc 1 1080 10
 2691 0060 002B     		cmp	r3, #0
 2692 0062 0DD0     		beq	.L144
1081:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1082:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1083:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->TSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2693              		.loc 1 1083 14
 2694 0064 7B68     		ldr	r3, [r7, #4]
 2695 0066 9A68     		ldr	r2, [r3, #8]
 2696              		.loc 1 1083 20
 2697 0068 3B68     		ldr	r3, [r7]
 2698 006a 1340     		ands	r3, r3, r2
 2699 006c C3F31303 		ubfx	r3, r3, #0, #20
ARM GAS  /tmp/ccMTgD8N.s 			page 68


 2700              		.loc 1 1083 8
 2701 0070 002B     		cmp	r3, #0
 2702 0072 02D0     		beq	.L145
1084:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1085:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1086:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2703              		.loc 1 1086 17
 2704 0074 0123     		movs	r3, #1
 2705 0076 FB73     		strb	r3, [r7, #15]
 2706 0078 22E0     		b	.L141
 2707              	.L145:
1087:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1088:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1089:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1090:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1091:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2708              		.loc 1 1091 17
 2709 007a 0023     		movs	r3, #0
 2710 007c FB73     		strb	r3, [r7, #15]
 2711 007e 1FE0     		b	.L141
 2712              	.L144:
1092:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1093:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1094:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_RF0R) != (uint32_t)RESET)
 2713              		.loc 1 1094 21
 2714 0080 3B68     		ldr	r3, [r7]
 2715 0082 03F00073 		and	r3, r3, #33554432
 2716              		.loc 1 1094 10
 2717 0086 002B     		cmp	r3, #0
 2718 0088 0DD0     		beq	.L146
1095:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1096:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1097:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->RF0R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2719              		.loc 1 1097 14
 2720 008a 7B68     		ldr	r3, [r7, #4]
 2721 008c DA68     		ldr	r2, [r3, #12]
 2722              		.loc 1 1097 21
 2723 008e 3B68     		ldr	r3, [r7]
 2724 0090 1340     		ands	r3, r3, r2
 2725 0092 C3F31303 		ubfx	r3, r3, #0, #20
 2726              		.loc 1 1097 8
 2727 0096 002B     		cmp	r3, #0
 2728 0098 02D0     		beq	.L147
1098:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1099:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1100:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2729              		.loc 1 1100 17
 2730 009a 0123     		movs	r3, #1
 2731 009c FB73     		strb	r3, [r7, #15]
 2732 009e 0FE0     		b	.L141
 2733              	.L147:
1101:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1102:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1103:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1104:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1105:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2734              		.loc 1 1105 17
ARM GAS  /tmp/ccMTgD8N.s 			page 69


 2735 00a0 0023     		movs	r3, #0
 2736 00a2 FB73     		strb	r3, [r7, #15]
 2737 00a4 0CE0     		b	.L141
 2738              	.L146:
1106:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1107:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1108:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* If(CAN_FLAG & CAN_FLAGS_RF1R != (uint32_t)RESET) */
1109:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1110:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1111:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((uint32_t)(CANx->RF1R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2739              		.loc 1 1111 24
 2740 00a6 7B68     		ldr	r3, [r7, #4]
 2741 00a8 1A69     		ldr	r2, [r3, #16]
 2742              		.loc 1 1111 9
 2743 00aa 3B68     		ldr	r3, [r7]
 2744 00ac 1340     		ands	r3, r3, r2
 2745 00ae C3F31303 		ubfx	r3, r3, #0, #20
 2746              		.loc 1 1111 8
 2747 00b2 002B     		cmp	r3, #0
 2748 00b4 02D0     		beq	.L148
1112:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1113:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1114:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2749              		.loc 1 1114 17
 2750 00b6 0123     		movs	r3, #1
 2751 00b8 FB73     		strb	r3, [r7, #15]
 2752 00ba 01E0     		b	.L141
 2753              	.L148:
1115:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1116:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1117:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1118:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1119:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2754              		.loc 1 1119 17
 2755 00bc 0023     		movs	r3, #0
 2756 00be FB73     		strb	r3, [r7, #15]
 2757              	.L141:
1120:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1121:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1122:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the CAN_FLAG status */
1123:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return  bitstatus;
 2758              		.loc 1 1123 11
 2759 00c0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1124:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2760              		.loc 1 1124 1
 2761 00c2 1846     		mov	r0, r3
 2762 00c4 1437     		adds	r7, r7, #20
 2763              	.LCFI122:
 2764              		.cfi_def_cfa_offset 4
 2765 00c6 BD46     		mov	sp, r7
 2766              	.LCFI123:
 2767              		.cfi_def_cfa_register 13
 2768              		@ sp needed
 2769 00c8 80BC     		pop	{r7}
 2770              	.LCFI124:
 2771              		.cfi_restore 7
 2772              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/ccMTgD8N.s 			page 70


 2773 00ca 7047     		bx	lr
 2774              		.cfi_endproc
 2775              	.LFE49:
 2777              		.section	.text.CAN_ClearFlag,"ax",%progbits
 2778              		.align	1
 2779              		.global	CAN_ClearFlag
 2780              		.syntax unified
 2781              		.thumb
 2782              		.thumb_func
 2783              		.fpu softvfp
 2785              	CAN_ClearFlag:
 2786              	.LFB50:
1125:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1126:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1127:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Clears the CAN's pending flags.
1128:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
1129:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_FLAG: specifies the flag to clear.
1130:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   This parameter can be one of the following flags: 
1131:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP0
1132:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP1
1133:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP2
1134:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FF1       
1135:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FOV1   
1136:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FF0       
1137:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FOV0   
1138:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_WKU   
1139:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_SLAK    
1140:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_LEC       
1141:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
1142:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1143:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_ClearFlag(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1144:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2787              		.loc 1 1144 1
 2788              		.cfi_startproc
 2789              		@ args = 0, pretend = 0, frame = 16
 2790              		@ frame_needed = 1, uses_anonymous_args = 0
 2791              		@ link register save eliminated.
 2792 0000 80B4     		push	{r7}
 2793              	.LCFI125:
 2794              		.cfi_def_cfa_offset 4
 2795              		.cfi_offset 7, -4
 2796 0002 85B0     		sub	sp, sp, #20
 2797              	.LCFI126:
 2798              		.cfi_def_cfa_offset 24
 2799 0004 00AF     		add	r7, sp, #0
 2800              	.LCFI127:
 2801              		.cfi_def_cfa_register 7
 2802 0006 7860     		str	r0, [r7, #4]
 2803 0008 3960     		str	r1, [r7]
1145:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t flagtmp=0;
 2804              		.loc 1 1145 12
 2805 000a 0023     		movs	r3, #0
 2806 000c FB60     		str	r3, [r7, #12]
1146:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1147:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1148:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_CLEAR_FLAG(CAN_FLAG));
1149:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
ARM GAS  /tmp/ccMTgD8N.s 			page 71


1150:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FLAG == CAN_FLAG_LEC) /* ESR register */
 2807              		.loc 1 1150 6
 2808 000e 3B68     		ldr	r3, [r7]
 2809 0010 164A     		ldr	r2, .L157
 2810 0012 9342     		cmp	r3, r2
 2811 0014 03D1     		bne	.L151
1151:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1152:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Clear the selected CAN flags */
1153:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->ESR = (uint32_t)RESET;
 2812              		.loc 1 1153 15
 2813 0016 7B68     		ldr	r3, [r7, #4]
 2814 0018 0022     		movs	r2, #0
 2815 001a 9A61     		str	r2, [r3, #24]
1154:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1155:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* MSR or TSR or RF0R or RF1R */
1156:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1157:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     flagtmp = CAN_FLAG & 0x000FFFFF;
1158:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1159:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CAN_FLAG & CAN_FLAGS_RF0R)!=(uint32_t)RESET)
1160:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1161:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Receive Flags */
1162:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->RF0R = (uint32_t)(flagtmp);
1163:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1164:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_RF1R)!=(uint32_t)RESET)
1165:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1166:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Receive Flags */
1167:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->RF1R = (uint32_t)(flagtmp);
1168:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1169:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_TSR)!=(uint32_t)RESET)
1170:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1171:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Transmit Flags */
1172:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->TSR = (uint32_t)(flagtmp);
1173:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1174:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else /* If((CAN_FLAG & CAN_FLAGS_MSR)!=(uint32_t)RESET) */
1175:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1176:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Operating mode Flags */
1177:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MSR = (uint32_t)(flagtmp);
1178:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1180:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2816              		.loc 1 1180 1
 2817 001c 21E0     		b	.L156
 2818              	.L151:
1157:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 2819              		.loc 1 1157 13
 2820 001e 3B68     		ldr	r3, [r7]
 2821 0020 C3F31303 		ubfx	r3, r3, #0, #20
 2822 0024 FB60     		str	r3, [r7, #12]
1159:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2823              		.loc 1 1159 19
 2824 0026 3B68     		ldr	r3, [r7]
 2825 0028 03F00073 		and	r3, r3, #33554432
1159:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2826              		.loc 1 1159 8
 2827 002c 002B     		cmp	r3, #0
 2828 002e 03D0     		beq	.L153
1162:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
ARM GAS  /tmp/ccMTgD8N.s 			page 72


 2829              		.loc 1 1162 18
 2830 0030 7B68     		ldr	r3, [r7, #4]
 2831 0032 FA68     		ldr	r2, [r7, #12]
 2832 0034 DA60     		str	r2, [r3, #12]
 2833              		.loc 1 1180 1
 2834 0036 14E0     		b	.L156
 2835              	.L153:
1164:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2836              		.loc 1 1164 24
 2837 0038 3B68     		ldr	r3, [r7]
 2838 003a 03F08063 		and	r3, r3, #67108864
1164:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2839              		.loc 1 1164 13
 2840 003e 002B     		cmp	r3, #0
 2841 0040 03D0     		beq	.L154
1167:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 2842              		.loc 1 1167 18
 2843 0042 7B68     		ldr	r3, [r7, #4]
 2844 0044 FA68     		ldr	r2, [r7, #12]
 2845 0046 1A61     		str	r2, [r3, #16]
 2846              		.loc 1 1180 1
 2847 0048 0BE0     		b	.L156
 2848              	.L154:
1169:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2849              		.loc 1 1169 24
 2850 004a 3B68     		ldr	r3, [r7]
 2851 004c 03F00063 		and	r3, r3, #134217728
1169:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2852              		.loc 1 1169 13
 2853 0050 002B     		cmp	r3, #0
 2854 0052 03D0     		beq	.L155
1172:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 2855              		.loc 1 1172 17
 2856 0054 7B68     		ldr	r3, [r7, #4]
 2857 0056 FA68     		ldr	r2, [r7, #12]
 2858 0058 9A60     		str	r2, [r3, #8]
 2859              		.loc 1 1180 1
 2860 005a 02E0     		b	.L156
 2861              	.L155:
1177:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 2862              		.loc 1 1177 17
 2863 005c 7B68     		ldr	r3, [r7, #4]
 2864 005e FA68     		ldr	r2, [r7, #12]
 2865 0060 5A60     		str	r2, [r3, #4]
 2866              	.L156:
 2867              		.loc 1 1180 1
 2868 0062 00BF     		nop
 2869 0064 1437     		adds	r7, r7, #20
 2870              	.LCFI128:
 2871              		.cfi_def_cfa_offset 4
 2872 0066 BD46     		mov	sp, r7
 2873              	.LCFI129:
 2874              		.cfi_def_cfa_register 13
 2875              		@ sp needed
 2876 0068 80BC     		pop	{r7}
 2877              	.LCFI130:
 2878              		.cfi_restore 7
ARM GAS  /tmp/ccMTgD8N.s 			page 73


 2879              		.cfi_def_cfa_offset 0
 2880 006a 7047     		bx	lr
 2881              	.L158:
 2882              		.align	2
 2883              	.L157:
 2884 006c 7000F030 		.word	821035120
 2885              		.cfi_endproc
 2886              	.LFE50:
 2888              		.section	.text.CAN_GetITStatus,"ax",%progbits
 2889              		.align	1
 2890              		.global	CAN_GetITStatus
 2891              		.syntax unified
 2892              		.thumb
 2893              		.thumb_func
 2894              		.fpu softvfp
 2896              	CAN_GetITStatus:
 2897              	.LFB51:
1181:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1182:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1183:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks whether the specified CANx interrupt has occurred or not.
1184:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
1185:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_IT:  specifies the CAN interrupt source to check.
1186:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  This parameter can be one of the following flags: 
1187:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_TME               
1188:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FMP0              
1189:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FF0               
1190:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FOV0              
1191:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FMP1              
1192:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FF1               
1193:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FOV1              
1194:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_WKU  
1195:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_SLK  
1196:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_EWG    
1197:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_EPV    
1198:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_BOF    
1199:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_LEC    
1200:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_ERR 
1201:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The current state of CAN_IT (SET or RESET).
1202:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1203:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** ITStatus CAN_GetITStatus(CAN_TypeDef* CANx, uint32_t CAN_IT)
1204:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2898              		.loc 1 1204 1
 2899              		.cfi_startproc
 2900              		@ args = 0, pretend = 0, frame = 16
 2901              		@ frame_needed = 1, uses_anonymous_args = 0
 2902 0000 80B5     		push	{r7, lr}
 2903              	.LCFI131:
 2904              		.cfi_def_cfa_offset 8
 2905              		.cfi_offset 7, -8
 2906              		.cfi_offset 14, -4
 2907 0002 84B0     		sub	sp, sp, #16
 2908              	.LCFI132:
 2909              		.cfi_def_cfa_offset 24
 2910 0004 00AF     		add	r7, sp, #0
 2911              	.LCFI133:
 2912              		.cfi_def_cfa_register 7
 2913 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccMTgD8N.s 			page 74


 2914 0008 3960     		str	r1, [r7]
1205:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ITStatus itstatus = RESET;
 2915              		.loc 1 1205 12
 2916 000a 0023     		movs	r3, #0
 2917 000c FB73     		strb	r3, [r7, #15]
1206:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1207:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1208:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1209:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1210:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* check the enable interrupt bit */
1211:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  if((CANx->IER & CAN_IT) != RESET)
 2918              		.loc 1 1211 10
 2919 000e 7B68     		ldr	r3, [r7, #4]
 2920 0010 5A69     		ldr	r2, [r3, #20]
 2921              		.loc 1 1211 16
 2922 0012 3B68     		ldr	r3, [r7]
 2923 0014 1340     		ands	r3, r3, r2
 2924              		.loc 1 1211 4
 2925 0016 002B     		cmp	r3, #0
 2926 0018 00F01B81 		beq	.L160
1212:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  {
1213:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* in case the Interrupt is enabled, .... */
1214:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     switch (CAN_IT)
 2927              		.loc 1 1214 5
 2928 001c 3B68     		ldr	r3, [r7]
 2929 001e B3F5003F 		cmp	r3, #131072
 2930 0022 00F0DD80 		beq	.L161
 2931 0026 3B68     		ldr	r3, [r7]
 2932 0028 B3F5003F 		cmp	r3, #131072
 2933 002c 00F20E81 		bhi	.L162
 2934 0030 3B68     		ldr	r3, [r7]
 2935 0032 B3F5803F 		cmp	r3, #65536
 2936 0036 00F0CA80 		beq	.L163
 2937 003a 3B68     		ldr	r3, [r7]
 2938 003c B3F5803F 		cmp	r3, #65536
 2939 0040 00F20481 		bhi	.L162
 2940 0044 3B68     		ldr	r3, [r7]
 2941 0046 B3F5004F 		cmp	r3, #32768
 2942 004a 00F0F680 		beq	.L164
 2943 004e 3B68     		ldr	r3, [r7]
 2944 0050 B3F5004F 		cmp	r3, #32768
 2945 0054 00F2FA80 		bhi	.L162
 2946 0058 3B68     		ldr	r3, [r7]
 2947 005a B3F5006F 		cmp	r3, #2048
 2948 005e 00F0E380 		beq	.L165
 2949 0062 3B68     		ldr	r3, [r7]
 2950 0064 B3F5006F 		cmp	r3, #2048
 2951 0068 00F2F080 		bhi	.L162
 2952 006c 3B68     		ldr	r3, [r7]
 2953 006e B3F5806F 		cmp	r3, #1024
 2954 0072 00F0D080 		beq	.L166
 2955 0076 3B68     		ldr	r3, [r7]
 2956 0078 B3F5806F 		cmp	r3, #1024
 2957 007c 00F2E680 		bhi	.L162
 2958 0080 3B68     		ldr	r3, [r7]
 2959 0082 B3F5007F 		cmp	r3, #512
 2960 0086 00F0BD80 		beq	.L167
ARM GAS  /tmp/ccMTgD8N.s 			page 75


 2961 008a 3B68     		ldr	r3, [r7]
 2962 008c B3F5007F 		cmp	r3, #512
 2963 0090 00F2DC80 		bhi	.L162
 2964 0094 3B68     		ldr	r3, [r7]
 2965 0096 B3F5807F 		cmp	r3, #256
 2966 009a 00F0AA80 		beq	.L168
 2967 009e 3B68     		ldr	r3, [r7]
 2968 00a0 B3F5807F 		cmp	r3, #256
 2969 00a4 00F2D280 		bhi	.L162
 2970 00a8 3B68     		ldr	r3, [r7]
 2971 00aa 202B     		cmp	r3, #32
 2972 00ac 4CD8     		bhi	.L169
 2973 00ae 3B68     		ldr	r3, [r7]
 2974 00b0 002B     		cmp	r3, #0
 2975 00b2 00F0CB80 		beq	.L162
 2976 00b6 3B68     		ldr	r3, [r7]
 2977 00b8 013B     		subs	r3, r3, #1
 2978 00ba 1F2B     		cmp	r3, #31
 2979 00bc 00F2C680 		bhi	.L162
 2980 00c0 01A2     		adr	r2, .L171
 2981 00c2 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2982 00c6 00BF     		.p2align 2
 2983              	.L171:
 2984 00c8 51010000 		.word	.L176+1
 2985 00cc 63010000 		.word	.L175+1
 2986 00d0 4D020000 		.word	.L162+1
 2987 00d4 75010000 		.word	.L174+1
 2988 00d8 4D020000 		.word	.L162+1
 2989 00dc 4D020000 		.word	.L162+1
 2990 00e0 4D020000 		.word	.L162+1
 2991 00e4 87010000 		.word	.L173+1
 2992 00e8 4D020000 		.word	.L162+1
 2993 00ec 4D020000 		.word	.L162+1
 2994 00f0 4D020000 		.word	.L162+1
 2995 00f4 4D020000 		.word	.L162+1
 2996 00f8 4D020000 		.word	.L162+1
 2997 00fc 4D020000 		.word	.L162+1
 2998 0100 4D020000 		.word	.L162+1
 2999 0104 99010000 		.word	.L172+1
 3000 0108 4D020000 		.word	.L162+1
 3001 010c 4D020000 		.word	.L162+1
 3002 0110 4D020000 		.word	.L162+1
 3003 0114 4D020000 		.word	.L162+1
 3004 0118 4D020000 		.word	.L162+1
 3005 011c 4D020000 		.word	.L162+1
 3006 0120 4D020000 		.word	.L162+1
 3007 0124 4D020000 		.word	.L162+1
 3008 0128 4D020000 		.word	.L162+1
 3009 012c 4D020000 		.word	.L162+1
 3010 0130 4D020000 		.word	.L162+1
 3011 0134 4D020000 		.word	.L162+1
 3012 0138 4D020000 		.word	.L162+1
 3013 013c 4D020000 		.word	.L162+1
 3014 0140 4D020000 		.word	.L162+1
 3015 0144 AB010000 		.word	.L170+1
 3016              		.p2align 1
 3017              	.L169:
ARM GAS  /tmp/ccMTgD8N.s 			page 76


 3018 0148 3B68     		ldr	r3, [r7]
 3019 014a 402B     		cmp	r3, #64
 3020 014c 36D0     		beq	.L177
 3021 014e 7DE0     		b	.L162
 3022              	.L176:
1215:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1216:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_TME:
1217:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_TSR_RQCPx bits */
1218:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->TSR, CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2);  
 3023              		.loc 1 1218 26
 3024 0150 7B68     		ldr	r3, [r7, #4]
 3025 0152 9B68     		ldr	r3, [r3, #8]
 3026 0154 4249     		ldr	r1, .L181
 3027 0156 1846     		mov	r0, r3
 3028 0158 FFF7FEFF 		bl	CheckITStatus
 3029 015c 0346     		mov	r3, r0
 3030 015e FB73     		strb	r3, [r7, #15]
1219:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3031              		.loc 1 1219 8
 3032 0160 79E0     		b	.L179
 3033              	.L175:
1220:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FMP0:
1221:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FMP0 bit */
1222:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FMP0);  
 3034              		.loc 1 1222 26
 3035 0162 7B68     		ldr	r3, [r7, #4]
 3036 0164 DB68     		ldr	r3, [r3, #12]
 3037 0166 0321     		movs	r1, #3
 3038 0168 1846     		mov	r0, r3
 3039 016a FFF7FEFF 		bl	CheckITStatus
 3040 016e 0346     		mov	r3, r0
 3041 0170 FB73     		strb	r3, [r7, #15]
1223:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3042              		.loc 1 1223 8
 3043 0172 70E0     		b	.L179
 3044              	.L174:
1224:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
1225:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FULL0 bit */
1226:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FULL0);  
 3045              		.loc 1 1226 27
 3046 0174 7B68     		ldr	r3, [r7, #4]
 3047 0176 DB68     		ldr	r3, [r3, #12]
 3048 0178 0821     		movs	r1, #8
 3049 017a 1846     		mov	r0, r3
 3050 017c FFF7FEFF 		bl	CheckITStatus
 3051 0180 0346     		mov	r3, r0
 3052 0182 FB73     		strb	r3, [r7, #15]
1227:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3053              		.loc 1 1227 8
 3054 0184 67E0     		b	.L179
 3055              	.L173:
1228:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
1229:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FOVR0 bit */
1230:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FOVR0);  
 3056              		.loc 1 1230 27
 3057 0186 7B68     		ldr	r3, [r7, #4]
 3058 0188 DB68     		ldr	r3, [r3, #12]
ARM GAS  /tmp/ccMTgD8N.s 			page 77


 3059 018a 1021     		movs	r1, #16
 3060 018c 1846     		mov	r0, r3
 3061 018e FFF7FEFF 		bl	CheckITStatus
 3062 0192 0346     		mov	r3, r0
 3063 0194 FB73     		strb	r3, [r7, #15]
1231:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3064              		.loc 1 1231 8
 3065 0196 5EE0     		b	.L179
 3066              	.L172:
1232:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FMP1:
1233:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FMP1 bit */
1234:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FMP1);  
 3067              		.loc 1 1234 27
 3068 0198 7B68     		ldr	r3, [r7, #4]
 3069 019a 1B69     		ldr	r3, [r3, #16]
 3070 019c 0321     		movs	r1, #3
 3071 019e 1846     		mov	r0, r3
 3072 01a0 FFF7FEFF 		bl	CheckITStatus
 3073 01a4 0346     		mov	r3, r0
 3074 01a6 FB73     		strb	r3, [r7, #15]
1235:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3075              		.loc 1 1235 8
 3076 01a8 55E0     		b	.L179
 3077              	.L170:
1236:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
1237:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FULL1 bit */
1238:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FULL1);  
 3078              		.loc 1 1238 26
 3079 01aa 7B68     		ldr	r3, [r7, #4]
 3080 01ac 1B69     		ldr	r3, [r3, #16]
 3081 01ae 0821     		movs	r1, #8
 3082 01b0 1846     		mov	r0, r3
 3083 01b2 FFF7FEFF 		bl	CheckITStatus
 3084 01b6 0346     		mov	r3, r0
 3085 01b8 FB73     		strb	r3, [r7, #15]
1239:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3086              		.loc 1 1239 8
 3087 01ba 4CE0     		b	.L179
 3088              	.L177:
1240:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
1241:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FOVR1 bit */
1242:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FOVR1);  
 3089              		.loc 1 1242 26
 3090 01bc 7B68     		ldr	r3, [r7, #4]
 3091 01be 1B69     		ldr	r3, [r3, #16]
 3092 01c0 1021     		movs	r1, #16
 3093 01c2 1846     		mov	r0, r3
 3094 01c4 FFF7FEFF 		bl	CheckITStatus
 3095 01c8 0346     		mov	r3, r0
 3096 01ca FB73     		strb	r3, [r7, #15]
1243:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3097              		.loc 1 1243 8
 3098 01cc 43E0     		b	.L179
 3099              	.L163:
1244:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
1245:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_MSR_WKUI bit */
1246:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->MSR, CAN_MSR_WKUI);  
ARM GAS  /tmp/ccMTgD8N.s 			page 78


 3100              		.loc 1 1246 27
 3101 01ce 7B68     		ldr	r3, [r7, #4]
 3102 01d0 5B68     		ldr	r3, [r3, #4]
 3103 01d2 0821     		movs	r1, #8
 3104 01d4 1846     		mov	r0, r3
 3105 01d6 FFF7FEFF 		bl	CheckITStatus
 3106 01da 0346     		mov	r3, r0
 3107 01dc FB73     		strb	r3, [r7, #15]
1247:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3108              		.loc 1 1247 8
 3109 01de 3AE0     		b	.L179
 3110              	.L161:
1248:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
1249:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_MSR_SLAKI bit */
1250:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->MSR, CAN_MSR_SLAKI);  
 3111              		.loc 1 1250 26
 3112 01e0 7B68     		ldr	r3, [r7, #4]
 3113 01e2 5B68     		ldr	r3, [r3, #4]
 3114 01e4 1021     		movs	r1, #16
 3115 01e6 1846     		mov	r0, r3
 3116 01e8 FFF7FEFF 		bl	CheckITStatus
 3117 01ec 0346     		mov	r3, r0
 3118 01ee FB73     		strb	r3, [r7, #15]
1251:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3119              		.loc 1 1251 8
 3120 01f0 31E0     		b	.L179
 3121              	.L168:
1252:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
1253:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_EWGF bit */
1254:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EWGF);  
 3122              		.loc 1 1254 26
 3123 01f2 7B68     		ldr	r3, [r7, #4]
 3124 01f4 9B69     		ldr	r3, [r3, #24]
 3125 01f6 0121     		movs	r1, #1
 3126 01f8 1846     		mov	r0, r3
 3127 01fa FFF7FEFF 		bl	CheckITStatus
 3128 01fe 0346     		mov	r3, r0
 3129 0200 FB73     		strb	r3, [r7, #15]
1255:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3130              		.loc 1 1255 8
 3131 0202 28E0     		b	.L179
 3132              	.L167:
1256:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
1257:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_EPVF bit */
1258:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EPVF);  
 3133              		.loc 1 1258 26
 3134 0204 7B68     		ldr	r3, [r7, #4]
 3135 0206 9B69     		ldr	r3, [r3, #24]
 3136 0208 0221     		movs	r1, #2
 3137 020a 1846     		mov	r0, r3
 3138 020c FFF7FEFF 		bl	CheckITStatus
 3139 0210 0346     		mov	r3, r0
 3140 0212 FB73     		strb	r3, [r7, #15]
1259:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3141              		.loc 1 1259 8
 3142 0214 1FE0     		b	.L179
 3143              	.L166:
ARM GAS  /tmp/ccMTgD8N.s 			page 79


1260:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
1261:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_BOFF bit */
1262:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_BOFF);  
 3144              		.loc 1 1262 26
 3145 0216 7B68     		ldr	r3, [r7, #4]
 3146 0218 9B69     		ldr	r3, [r3, #24]
 3147 021a 0421     		movs	r1, #4
 3148 021c 1846     		mov	r0, r3
 3149 021e FFF7FEFF 		bl	CheckITStatus
 3150 0222 0346     		mov	r3, r0
 3151 0224 FB73     		strb	r3, [r7, #15]
1263:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3152              		.loc 1 1263 8
 3153 0226 16E0     		b	.L179
 3154              	.L165:
1264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
1265:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_LEC bit */
1266:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_LEC);  
 3155              		.loc 1 1266 26
 3156 0228 7B68     		ldr	r3, [r7, #4]
 3157 022a 9B69     		ldr	r3, [r3, #24]
 3158 022c 7021     		movs	r1, #112
 3159 022e 1846     		mov	r0, r3
 3160 0230 FFF7FEFF 		bl	CheckITStatus
 3161 0234 0346     		mov	r3, r0
 3162 0236 FB73     		strb	r3, [r7, #15]
1267:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3163              		.loc 1 1267 8
 3164 0238 0DE0     		b	.L179
 3165              	.L164:
1268:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
1269:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_MSR_ERRI bit */ 
1270:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->MSR, CAN_MSR_ERRI); 
 3166              		.loc 1 1270 27
 3167 023a 7B68     		ldr	r3, [r7, #4]
 3168 023c 5B68     		ldr	r3, [r3, #4]
 3169 023e 0421     		movs	r1, #4
 3170 0240 1846     		mov	r0, r3
 3171 0242 FFF7FEFF 		bl	CheckITStatus
 3172 0246 0346     		mov	r3, r0
 3173 0248 FB73     		strb	r3, [r7, #15]
1271:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3174              		.loc 1 1271 8
 3175 024a 04E0     		b	.L179
 3176              	.L162:
1272:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       default :
1273:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* in case of error, return RESET */
1274:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               itstatus = RESET;
 3177              		.loc 1 1274 24
 3178 024c 0023     		movs	r3, #0
 3179 024e FB73     		strb	r3, [r7, #15]
1275:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               break;
 3180              		.loc 1 1275 15
 3181 0250 01E0     		b	.L179
 3182              	.L160:
1276:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1277:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
ARM GAS  /tmp/ccMTgD8N.s 			page 80


1278:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
1279:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1280:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* in case the Interrupt is not enabled, return RESET */
1281:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     itstatus  = RESET;
 3183              		.loc 1 1281 15
 3184 0252 0023     		movs	r3, #0
 3185 0254 FB73     		strb	r3, [r7, #15]
 3186              	.L179:
1282:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1283:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1284:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the CAN_IT status */
1285:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return  itstatus;
 3187              		.loc 1 1285 11
 3188 0256 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1286:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 3189              		.loc 1 1286 1
 3190 0258 1846     		mov	r0, r3
 3191 025a 1037     		adds	r7, r7, #16
 3192              	.LCFI134:
 3193              		.cfi_def_cfa_offset 8
 3194 025c BD46     		mov	sp, r7
 3195              	.LCFI135:
 3196              		.cfi_def_cfa_register 13
 3197              		@ sp needed
 3198 025e 80BD     		pop	{r7, pc}
 3199              	.L182:
 3200              		.align	2
 3201              	.L181:
 3202 0260 01010100 		.word	65793
 3203              		.cfi_endproc
 3204              	.LFE51:
 3206              		.section	.text.CAN_ClearITPendingBit,"ax",%progbits
 3207              		.align	1
 3208              		.global	CAN_ClearITPendingBit
 3209              		.syntax unified
 3210              		.thumb
 3211              		.thumb_func
 3212              		.fpu softvfp
 3214              	CAN_ClearITPendingBit:
 3215              	.LFB52:
1287:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1288:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1289:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Clears the CANx's interrupt pending bits.
1290:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
1291:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_IT: specifies the interrupt pending bit to clear.
1292:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_TME                     
1293:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FF0               
1294:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FOV0                     
1295:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FF1               
1296:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FOV1              
1297:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_WKU  
1298:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_SLK  
1299:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_EWG    
1300:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_EPV    
1301:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_BOF    
1302:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_LEC    
1303:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_ERR 
ARM GAS  /tmp/ccMTgD8N.s 			page 81


1304:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
1305:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1306:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_ClearITPendingBit(CAN_TypeDef* CANx, uint32_t CAN_IT)
1307:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 3216              		.loc 1 1307 1
 3217              		.cfi_startproc
 3218              		@ args = 0, pretend = 0, frame = 8
 3219              		@ frame_needed = 1, uses_anonymous_args = 0
 3220              		@ link register save eliminated.
 3221 0000 80B4     		push	{r7}
 3222              	.LCFI136:
 3223              		.cfi_def_cfa_offset 4
 3224              		.cfi_offset 7, -4
 3225 0002 83B0     		sub	sp, sp, #12
 3226              	.LCFI137:
 3227              		.cfi_def_cfa_offset 16
 3228 0004 00AF     		add	r7, sp, #0
 3229              	.LCFI138:
 3230              		.cfi_def_cfa_register 7
 3231 0006 7860     		str	r0, [r7, #4]
 3232 0008 3960     		str	r1, [r7]
1308:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1309:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1310:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_CLEAR_IT(CAN_IT));
1311:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1312:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (CAN_IT)
 3233              		.loc 1 1312 3
 3234 000a 3B68     		ldr	r3, [r7]
 3235 000c B3F5003F 		cmp	r3, #131072
 3236 0010 00F0AA80 		beq	.L184
 3237 0014 3B68     		ldr	r3, [r7]
 3238 0016 B3F5003F 		cmp	r3, #131072
 3239 001a 00F2C380 		bhi	.L200
 3240 001e 3B68     		ldr	r3, [r7]
 3241 0020 B3F5803F 		cmp	r3, #65536
 3242 0024 00F09C80 		beq	.L186
 3243 0028 3B68     		ldr	r3, [r7]
 3244 002a B3F5803F 		cmp	r3, #65536
 3245 002e 00F2B980 		bhi	.L200
 3246 0032 3B68     		ldr	r3, [r7]
 3247 0034 B3F5004F 		cmp	r3, #32768
 3248 0038 00F0AD80 		beq	.L187
 3249 003c 3B68     		ldr	r3, [r7]
 3250 003e B3F5004F 		cmp	r3, #32768
 3251 0042 00F2AF80 		bhi	.L200
 3252 0046 3B68     		ldr	r3, [r7]
 3253 0048 B3F5006F 		cmp	r3, #2048
 3254 004c 00F09C80 		beq	.L188
 3255 0050 3B68     		ldr	r3, [r7]
 3256 0052 B3F5006F 		cmp	r3, #2048
 3257 0056 00F2A580 		bhi	.L200
 3258 005a 3B68     		ldr	r3, [r7]
 3259 005c B3F5806F 		cmp	r3, #1024
 3260 0060 00F08E80 		beq	.L189
 3261 0064 3B68     		ldr	r3, [r7]
 3262 0066 B3F5806F 		cmp	r3, #1024
 3263 006a 00F29B80 		bhi	.L200
ARM GAS  /tmp/ccMTgD8N.s 			page 82


 3264 006e 3B68     		ldr	r3, [r7]
 3265 0070 B3F5007F 		cmp	r3, #512
 3266 0074 00F08080 		beq	.L190
 3267 0078 3B68     		ldr	r3, [r7]
 3268 007a B3F5007F 		cmp	r3, #512
 3269 007e 00F29180 		bhi	.L200
 3270 0082 3B68     		ldr	r3, [r7]
 3271 0084 B3F5807F 		cmp	r3, #256
 3272 0088 72D0     		beq	.L191
 3273 008a 3B68     		ldr	r3, [r7]
 3274 008c B3F5807F 		cmp	r3, #256
 3275 0090 00F28880 		bhi	.L200
 3276 0094 3B68     		ldr	r3, [r7]
 3277 0096 202B     		cmp	r3, #32
 3278 0098 4AD8     		bhi	.L192
 3279 009a 3B68     		ldr	r3, [r7]
 3280 009c 002B     		cmp	r3, #0
 3281 009e 00F08180 		beq	.L200
 3282 00a2 3B68     		ldr	r3, [r7]
 3283 00a4 013B     		subs	r3, r3, #1
 3284 00a6 1F2B     		cmp	r3, #31
 3285 00a8 7CD8     		bhi	.L200
 3286 00aa 01A2     		adr	r2, .L194
 3287 00ac 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 3288              		.p2align 2
 3289              	.L194:
 3290 00b0 39010000 		.word	.L197+1
 3291 00b4 A5010000 		.word	.L200+1
 3292 00b8 A5010000 		.word	.L200+1
 3293 00bc 41010000 		.word	.L196+1
 3294 00c0 A5010000 		.word	.L200+1
 3295 00c4 A5010000 		.word	.L200+1
 3296 00c8 A5010000 		.word	.L200+1
 3297 00cc 49010000 		.word	.L195+1
 3298 00d0 A5010000 		.word	.L200+1
 3299 00d4 A5010000 		.word	.L200+1
 3300 00d8 A5010000 		.word	.L200+1
 3301 00dc A5010000 		.word	.L200+1
 3302 00e0 A5010000 		.word	.L200+1
 3303 00e4 A5010000 		.word	.L200+1
 3304 00e8 A5010000 		.word	.L200+1
 3305 00ec A5010000 		.word	.L200+1
 3306 00f0 A5010000 		.word	.L200+1
 3307 00f4 A5010000 		.word	.L200+1
 3308 00f8 A5010000 		.word	.L200+1
 3309 00fc A5010000 		.word	.L200+1
 3310 0100 A5010000 		.word	.L200+1
 3311 0104 A5010000 		.word	.L200+1
 3312 0108 A5010000 		.word	.L200+1
 3313 010c A5010000 		.word	.L200+1
 3314 0110 A5010000 		.word	.L200+1
 3315 0114 A5010000 		.word	.L200+1
 3316 0118 A5010000 		.word	.L200+1
 3317 011c A5010000 		.word	.L200+1
 3318 0120 A5010000 		.word	.L200+1
 3319 0124 A5010000 		.word	.L200+1
 3320 0128 A5010000 		.word	.L200+1
ARM GAS  /tmp/ccMTgD8N.s 			page 83


 3321 012c 51010000 		.word	.L193+1
 3322              		.p2align 1
 3323              	.L192:
 3324 0130 3B68     		ldr	r3, [r7]
 3325 0132 402B     		cmp	r3, #64
 3326 0134 10D0     		beq	.L198
1313:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1314:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_TME:
1315:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_TSR_RQCPx (rc_w1)*/
1316:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->TSR = CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2;  
1317:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
1319:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF0R_FULL0 (rc_w1)*/
1320:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF0R = CAN_RF0R_FULL0; 
1321:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1322:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
1323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF0R_FOVR0 (rc_w1)*/
1324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF0R = CAN_RF0R_FOVR0; 
1325:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1326:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
1327:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF1R_FULL1 (rc_w1)*/
1328:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF1R = CAN_RF1R_FULL1;  
1329:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1330:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
1331:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF1R_FOVR1 (rc_w1)*/
1332:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF1R = CAN_RF1R_FOVR1; 
1333:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
1335:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_WKUI (rc_w1)*/
1336:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_WKUI;  
1337:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
1339:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_SLAKI (rc_w1)*/ 
1340:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_SLAKI;   
1341:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1342:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
1343:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1344:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI;
1345:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1346:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                         of the CAN Bus status*/ 
1347:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1348:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
1349:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1350:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1351:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1352:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                         of the CAN Bus status*/
1353:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1354:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
1355:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */ 
1356:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1357:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1358:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                         of the CAN Bus status*/
1359:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1360:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
1361:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /*  Clear LEC bits */
1362:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->ESR = RESET; 
1363:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
ARM GAS  /tmp/ccMTgD8N.s 			page 84


1364:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1365:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1366:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
1367:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /*Clear LEC bits */
1368:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->ESR = RESET; 
1369:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1370:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1371:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      /* Note : BOFF, EPVF and EWGF Flags are cleared by hardware depending 
1372:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                   of the CAN Bus status*/
1373:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1374:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       default :
1375:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3327              		.loc 1 1375 8
 3328 0136 35E0     		b	.L200
 3329              	.L197:
1316:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3330              		.loc 1 1316 18
 3331 0138 7B68     		ldr	r3, [r7, #4]
 3332 013a 1D4A     		ldr	r2, .L201
 3333 013c 9A60     		str	r2, [r3, #8]
1317:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
 3334              		.loc 1 1317 8
 3335 013e 32E0     		b	.L199
 3336              	.L196:
1320:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3337              		.loc 1 1320 19
 3338 0140 7B68     		ldr	r3, [r7, #4]
 3339 0142 0822     		movs	r2, #8
 3340 0144 DA60     		str	r2, [r3, #12]
1321:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
 3341              		.loc 1 1321 8
 3342 0146 2EE0     		b	.L199
 3343              	.L195:
1324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3344              		.loc 1 1324 19
 3345 0148 7B68     		ldr	r3, [r7, #4]
 3346 014a 1022     		movs	r2, #16
 3347 014c DA60     		str	r2, [r3, #12]
1325:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
 3348              		.loc 1 1325 8
 3349 014e 2AE0     		b	.L199
 3350              	.L193:
1328:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3351              		.loc 1 1328 19
 3352 0150 7B68     		ldr	r3, [r7, #4]
 3353 0152 0822     		movs	r2, #8
 3354 0154 1A61     		str	r2, [r3, #16]
1329:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
 3355              		.loc 1 1329 8
 3356 0156 26E0     		b	.L199
 3357              	.L198:
1332:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3358              		.loc 1 1332 19
 3359 0158 7B68     		ldr	r3, [r7, #4]
 3360 015a 1022     		movs	r2, #16
 3361 015c 1A61     		str	r2, [r3, #16]
1333:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
ARM GAS  /tmp/ccMTgD8N.s 			page 85


 3362              		.loc 1 1333 8
 3363 015e 22E0     		b	.L199
 3364              	.L186:
1336:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3365              		.loc 1 1336 18
 3366 0160 7B68     		ldr	r3, [r7, #4]
 3367 0162 0822     		movs	r2, #8
 3368 0164 5A60     		str	r2, [r3, #4]
1337:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
 3369              		.loc 1 1337 8
 3370 0166 1EE0     		b	.L199
 3371              	.L184:
1340:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3372              		.loc 1 1340 18
 3373 0168 7B68     		ldr	r3, [r7, #4]
 3374 016a 1022     		movs	r2, #16
 3375 016c 5A60     		str	r2, [r3, #4]
1341:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
 3376              		.loc 1 1341 8
 3377 016e 1AE0     		b	.L199
 3378              	.L191:
1344:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
 3379              		.loc 1 1344 18
 3380 0170 7B68     		ldr	r3, [r7, #4]
 3381 0172 0422     		movs	r2, #4
 3382 0174 5A60     		str	r2, [r3, #4]
1347:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
 3383              		.loc 1 1347 8
 3384 0176 16E0     		b	.L199
 3385              	.L190:
1350:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
 3386              		.loc 1 1350 18
 3387 0178 7B68     		ldr	r3, [r7, #4]
 3388 017a 0422     		movs	r2, #4
 3389 017c 5A60     		str	r2, [r3, #4]
1353:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
 3390              		.loc 1 1353 8
 3391 017e 12E0     		b	.L199
 3392              	.L189:
1356:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
 3393              		.loc 1 1356 18
 3394 0180 7B68     		ldr	r3, [r7, #4]
 3395 0182 0422     		movs	r2, #4
 3396 0184 5A60     		str	r2, [r3, #4]
1359:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
 3397              		.loc 1 1359 8
 3398 0186 0EE0     		b	.L199
 3399              	.L188:
1362:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
 3400              		.loc 1 1362 18
 3401 0188 7B68     		ldr	r3, [r7, #4]
 3402 018a 0022     		movs	r2, #0
 3403 018c 9A61     		str	r2, [r3, #24]
1364:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3404              		.loc 1 1364 18
 3405 018e 7B68     		ldr	r3, [r7, #4]
 3406 0190 0422     		movs	r2, #4
ARM GAS  /tmp/ccMTgD8N.s 			page 86


 3407 0192 5A60     		str	r2, [r3, #4]
1365:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
 3408              		.loc 1 1365 8
 3409 0194 07E0     		b	.L199
 3410              	.L187:
1368:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
 3411              		.loc 1 1368 18
 3412 0196 7B68     		ldr	r3, [r7, #4]
 3413 0198 0022     		movs	r2, #0
 3414 019a 9A61     		str	r2, [r3, #24]
1370:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      /* Note : BOFF, EPVF and EWGF Flags are cleared by hardware depending 
 3415              		.loc 1 1370 18
 3416 019c 7B68     		ldr	r3, [r7, #4]
 3417 019e 0422     		movs	r2, #4
 3418 01a0 5A60     		str	r2, [r3, #4]
1373:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       default :
 3419              		.loc 1 1373 8
 3420 01a2 00E0     		b	.L199
 3421              	.L200:
 3422              		.loc 1 1375 8
 3423 01a4 00BF     		nop
 3424              	.L199:
1376:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    }
1377:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 3425              		.loc 1 1377 1
 3426 01a6 00BF     		nop
 3427 01a8 0C37     		adds	r7, r7, #12
 3428              	.LCFI139:
 3429              		.cfi_def_cfa_offset 4
 3430 01aa BD46     		mov	sp, r7
 3431              	.LCFI140:
 3432              		.cfi_def_cfa_register 13
 3433              		@ sp needed
 3434 01ac 80BC     		pop	{r7}
 3435              	.LCFI141:
 3436              		.cfi_restore 7
 3437              		.cfi_def_cfa_offset 0
 3438 01ae 7047     		bx	lr
 3439              	.L202:
 3440              		.align	2
 3441              	.L201:
 3442 01b0 01010100 		.word	65793
 3443              		.cfi_endproc
 3444              	.LFE52:
 3446              		.section	.text.CheckITStatus,"ax",%progbits
 3447              		.align	1
 3448              		.syntax unified
 3449              		.thumb
 3450              		.thumb_func
 3451              		.fpu softvfp
 3453              	CheckITStatus:
 3454              	.LFB53:
1378:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1379:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1380:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks whether the CAN interrupt has occurred or not.
1381:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_Reg: specifies the CAN interrupt register to check.
1382:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  It_Bit:  specifies the interrupt source bit to check.
ARM GAS  /tmp/ccMTgD8N.s 			page 87


1383:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The new state of the CAN Interrupt (SET or RESET).
1384:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1385:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit)
1386:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 3455              		.loc 1 1386 1
 3456              		.cfi_startproc
 3457              		@ args = 0, pretend = 0, frame = 16
 3458              		@ frame_needed = 1, uses_anonymous_args = 0
 3459              		@ link register save eliminated.
 3460 0000 80B4     		push	{r7}
 3461              	.LCFI142:
 3462              		.cfi_def_cfa_offset 4
 3463              		.cfi_offset 7, -4
 3464 0002 85B0     		sub	sp, sp, #20
 3465              	.LCFI143:
 3466              		.cfi_def_cfa_offset 24
 3467 0004 00AF     		add	r7, sp, #0
 3468              	.LCFI144:
 3469              		.cfi_def_cfa_register 7
 3470 0006 7860     		str	r0, [r7, #4]
 3471 0008 3960     		str	r1, [r7]
1387:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ITStatus pendingbitstatus = RESET;
 3472              		.loc 1 1387 12
 3473 000a 0023     		movs	r3, #0
 3474 000c FB73     		strb	r3, [r7, #15]
1388:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1389:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CAN_Reg & It_Bit) != (uint32_t)RESET)
 3475              		.loc 1 1389 16
 3476 000e 7A68     		ldr	r2, [r7, #4]
 3477 0010 3B68     		ldr	r3, [r7]
 3478 0012 1340     		ands	r3, r3, r2
 3479              		.loc 1 1389 6
 3480 0014 002B     		cmp	r3, #0
 3481 0016 02D0     		beq	.L204
1390:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1391:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* CAN_IT is set */
1392:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     pendingbitstatus = SET;
 3482              		.loc 1 1392 22
 3483 0018 0123     		movs	r3, #1
 3484 001a FB73     		strb	r3, [r7, #15]
 3485 001c 01E0     		b	.L205
 3486              	.L204:
1393:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1394:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
1395:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1396:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* CAN_IT is reset */
1397:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     pendingbitstatus = RESET;
 3487              		.loc 1 1397 22
 3488 001e 0023     		movs	r3, #0
 3489 0020 FB73     		strb	r3, [r7, #15]
 3490              	.L205:
1398:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1399:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return pendingbitstatus;
 3491              		.loc 1 1399 10
 3492 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1400:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 3493              		.loc 1 1400 1
ARM GAS  /tmp/ccMTgD8N.s 			page 88


 3494 0024 1846     		mov	r0, r3
 3495 0026 1437     		adds	r7, r7, #20
 3496              	.LCFI145:
 3497              		.cfi_def_cfa_offset 4
 3498 0028 BD46     		mov	sp, r7
 3499              	.LCFI146:
 3500              		.cfi_def_cfa_register 13
 3501              		@ sp needed
 3502 002a 80BC     		pop	{r7}
 3503              	.LCFI147:
 3504              		.cfi_restore 7
 3505              		.cfi_def_cfa_offset 0
 3506 002c 7047     		bx	lr
 3507              		.cfi_endproc
 3508              	.LFE53:
 3510              		.text
 3511              	.Letext0:
 3512              		.file 2 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/machine/_default_types.h"
 3513              		.file 3 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h"
 3514              		.file 4 "./Libraries/CMSIS/stm32f10x.h"
 3515              		.file 5 "./Libraries/STM32F10x_StdPeriph_Driver/inc/stm32f10x_can.h"
ARM GAS  /tmp/ccMTgD8N.s 			page 89


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f10x_can.c
     /tmp/ccMTgD8N.s:16     .text.CAN_DeInit:0000000000000000 $t
     /tmp/ccMTgD8N.s:24     .text.CAN_DeInit:0000000000000000 CAN_DeInit
     /tmp/ccMTgD8N.s:81     .text.CAN_DeInit:0000000000000044 $d
     /tmp/ccMTgD8N.s:86     .text.CAN_Init:0000000000000000 $t
     /tmp/ccMTgD8N.s:93     .text.CAN_Init:0000000000000000 CAN_Init
     /tmp/ccMTgD8N.s:395    .text.CAN_FilterInit:0000000000000000 $t
     /tmp/ccMTgD8N.s:402    .text.CAN_FilterInit:0000000000000000 CAN_FilterInit
     /tmp/ccMTgD8N.s:662    .text.CAN_FilterInit:0000000000000180 $d
     /tmp/ccMTgD8N.s:667    .text.CAN_StructInit:0000000000000000 $t
     /tmp/ccMTgD8N.s:674    .text.CAN_StructInit:0000000000000000 CAN_StructInit
     /tmp/ccMTgD8N.s:754    .text.CAN_SlaveStartBank:0000000000000000 $t
     /tmp/ccMTgD8N.s:761    .text.CAN_SlaveStartBank:0000000000000000 CAN_SlaveStartBank
     /tmp/ccMTgD8N.s:827    .text.CAN_SlaveStartBank:000000000000005c $d
     /tmp/ccMTgD8N.s:832    .text.CAN_DBGFreeze:0000000000000000 $t
     /tmp/ccMTgD8N.s:839    .text.CAN_DBGFreeze:0000000000000000 CAN_DBGFreeze
     /tmp/ccMTgD8N.s:897    .text.CAN_TTComModeCmd:0000000000000000 $t
     /tmp/ccMTgD8N.s:904    .text.CAN_TTComModeCmd:0000000000000000 CAN_TTComModeCmd
     /tmp/ccMTgD8N.s:998    .text.CAN_Transmit:0000000000000000 $t
     /tmp/ccMTgD8N.s:1005   .text.CAN_Transmit:0000000000000000 CAN_Transmit
     /tmp/ccMTgD8N.s:1299   .text.CAN_TransmitStatus:0000000000000000 $t
     /tmp/ccMTgD8N.s:1306   .text.CAN_TransmitStatus:0000000000000000 CAN_TransmitStatus
     /tmp/ccMTgD8N.s:1495   .text.CAN_TransmitStatus:00000000000000ec $d
     /tmp/ccMTgD8N.s:1505   .text.CAN_CancelTransmit:0000000000000000 $t
     /tmp/ccMTgD8N.s:1512   .text.CAN_CancelTransmit:0000000000000000 CAN_CancelTransmit
     /tmp/ccMTgD8N.s:1593   .text.CAN_Receive:0000000000000000 $t
     /tmp/ccMTgD8N.s:1600   .text.CAN_Receive:0000000000000000 CAN_Receive
     /tmp/ccMTgD8N.s:1853   .text.CAN_FIFORelease:0000000000000000 $t
     /tmp/ccMTgD8N.s:1860   .text.CAN_FIFORelease:0000000000000000 CAN_FIFORelease
     /tmp/ccMTgD8N.s:1918   .text.CAN_MessagePending:0000000000000000 $t
     /tmp/ccMTgD8N.s:1925   .text.CAN_MessagePending:0000000000000000 CAN_MessagePending
     /tmp/ccMTgD8N.s:2000   .text.CAN_OperatingModeRequest:0000000000000000 $t
     /tmp/ccMTgD8N.s:2007   .text.CAN_OperatingModeRequest:0000000000000000 CAN_OperatingModeRequest
     /tmp/ccMTgD8N.s:2210   .text.CAN_Sleep:0000000000000000 $t
     /tmp/ccMTgD8N.s:2217   .text.CAN_Sleep:0000000000000000 CAN_Sleep
     /tmp/ccMTgD8N.s:2279   .text.CAN_WakeUp:0000000000000000 $t
     /tmp/ccMTgD8N.s:2286   .text.CAN_WakeUp:0000000000000000 CAN_WakeUp
     /tmp/ccMTgD8N.s:2369   .text.CAN_GetLastErrorCode:0000000000000000 $t
     /tmp/ccMTgD8N.s:2376   .text.CAN_GetLastErrorCode:0000000000000000 CAN_GetLastErrorCode
     /tmp/ccMTgD8N.s:2425   .text.CAN_GetReceiveErrorCounter:0000000000000000 $t
     /tmp/ccMTgD8N.s:2432   .text.CAN_GetReceiveErrorCounter:0000000000000000 CAN_GetReceiveErrorCounter
     /tmp/ccMTgD8N.s:2480   .text.CAN_GetLSBTransmitErrorCounter:0000000000000000 $t
     /tmp/ccMTgD8N.s:2487   .text.CAN_GetLSBTransmitErrorCounter:0000000000000000 CAN_GetLSBTransmitErrorCounter
     /tmp/ccMTgD8N.s:2535   .text.CAN_ITConfig:0000000000000000 $t
     /tmp/ccMTgD8N.s:2542   .text.CAN_ITConfig:0000000000000000 CAN_ITConfig
     /tmp/ccMTgD8N.s:2606   .text.CAN_GetFlagStatus:0000000000000000 $t
     /tmp/ccMTgD8N.s:2613   .text.CAN_GetFlagStatus:0000000000000000 CAN_GetFlagStatus
     /tmp/ccMTgD8N.s:2778   .text.CAN_ClearFlag:0000000000000000 $t
     /tmp/ccMTgD8N.s:2785   .text.CAN_ClearFlag:0000000000000000 CAN_ClearFlag
     /tmp/ccMTgD8N.s:2884   .text.CAN_ClearFlag:000000000000006c $d
     /tmp/ccMTgD8N.s:2889   .text.CAN_GetITStatus:0000000000000000 $t
     /tmp/ccMTgD8N.s:2896   .text.CAN_GetITStatus:0000000000000000 CAN_GetITStatus
     /tmp/ccMTgD8N.s:2984   .text.CAN_GetITStatus:00000000000000c8 $d
     /tmp/ccMTgD8N.s:3016   .text.CAN_GetITStatus:0000000000000148 $t
     /tmp/ccMTgD8N.s:3453   .text.CheckITStatus:0000000000000000 CheckITStatus
     /tmp/ccMTgD8N.s:3202   .text.CAN_GetITStatus:0000000000000260 $d
ARM GAS  /tmp/ccMTgD8N.s 			page 90


     /tmp/ccMTgD8N.s:3207   .text.CAN_ClearITPendingBit:0000000000000000 $t
     /tmp/ccMTgD8N.s:3214   .text.CAN_ClearITPendingBit:0000000000000000 CAN_ClearITPendingBit
     /tmp/ccMTgD8N.s:3290   .text.CAN_ClearITPendingBit:00000000000000b0 $d
     /tmp/ccMTgD8N.s:3322   .text.CAN_ClearITPendingBit:0000000000000130 $t
     /tmp/ccMTgD8N.s:3442   .text.CAN_ClearITPendingBit:00000000000001b0 $d
     /tmp/ccMTgD8N.s:3447   .text.CheckITStatus:0000000000000000 $t

UNDEFINED SYMBOLS
RCC_APB1PeriphResetCmd

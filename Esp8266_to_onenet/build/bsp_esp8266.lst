ARM GAS  /tmp/ccXEZ84N.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"bsp_esp8266.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.ESP8266_GPIO_Config,"ax",%progbits
  16              		.align	1
  17              		.arch armv7-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	ESP8266_GPIO_Config:
  24              	.LFB33:
  25              		.file 1 "./Hardware/ESP8266/bsp_esp8266.c"
   1:./Hardware/ESP8266/bsp_esp8266.c **** #include "bsp_esp8266.h"
   2:./Hardware/ESP8266/bsp_esp8266.c **** 
   3:./Hardware/ESP8266/bsp_esp8266.c **** 
   4:./Hardware/ESP8266/bsp_esp8266.c **** static void                   ESP8266_GPIO_Config                 ( void );
   5:./Hardware/ESP8266/bsp_esp8266.c **** static void                   ESP8266_USART_Config                ( void );
   6:./Hardware/ESP8266/bsp_esp8266.c **** static void                   ESP8266_USART_NVIC_Configuration    ( void );
   7:./Hardware/ESP8266/bsp_esp8266.c **** 
   8:./Hardware/ESP8266/bsp_esp8266.c **** 
   9:./Hardware/ESP8266/bsp_esp8266.c **** 
  10:./Hardware/ESP8266/bsp_esp8266.c **** struct  STRUCT_USARTx_Fram strEsp8266_Fram_Record = { 0 };
  11:./Hardware/ESP8266/bsp_esp8266.c **** struct  STRUCT_USARTx_Fram strUSART_Fram_Record = { 0 };
  12:./Hardware/ESP8266/bsp_esp8266.c **** 
  13:./Hardware/ESP8266/bsp_esp8266.c **** 
  14:./Hardware/ESP8266/bsp_esp8266.c **** /**
  15:./Hardware/ESP8266/bsp_esp8266.c ****   * @brief  ESP8266初始化函数
  16:./Hardware/ESP8266/bsp_esp8266.c ****   * @param  无
  17:./Hardware/ESP8266/bsp_esp8266.c ****   * @retval 无
  18:./Hardware/ESP8266/bsp_esp8266.c ****   */
  19:./Hardware/ESP8266/bsp_esp8266.c **** void ESP8266_Init ( void )
  20:./Hardware/ESP8266/bsp_esp8266.c **** {
  21:./Hardware/ESP8266/bsp_esp8266.c **** 	ESP8266_GPIO_Config (); 
  22:./Hardware/ESP8266/bsp_esp8266.c **** 	
  23:./Hardware/ESP8266/bsp_esp8266.c **** 	ESP8266_USART_Config (); 
  24:./Hardware/ESP8266/bsp_esp8266.c **** 	
  25:./Hardware/ESP8266/bsp_esp8266.c **** 	
  26:./Hardware/ESP8266/bsp_esp8266.c **** 	macESP8266_RST_HIGH_LEVEL();
  27:./Hardware/ESP8266/bsp_esp8266.c **** 
  28:./Hardware/ESP8266/bsp_esp8266.c **** 	macESP8266_CH_DISABLE();
  29:./Hardware/ESP8266/bsp_esp8266.c **** 	
  30:./Hardware/ESP8266/bsp_esp8266.c **** 	
  31:./Hardware/ESP8266/bsp_esp8266.c **** }
  32:./Hardware/ESP8266/bsp_esp8266.c **** 
  33:./Hardware/ESP8266/bsp_esp8266.c **** 
ARM GAS  /tmp/ccXEZ84N.s 			page 2


  34:./Hardware/ESP8266/bsp_esp8266.c **** /**
  35:./Hardware/ESP8266/bsp_esp8266.c ****   * @brief  初始化ESP8266用到的GPIO引脚
  36:./Hardware/ESP8266/bsp_esp8266.c ****   * @param  无
  37:./Hardware/ESP8266/bsp_esp8266.c ****   * @retval 无
  38:./Hardware/ESP8266/bsp_esp8266.c ****   */
  39:./Hardware/ESP8266/bsp_esp8266.c **** static void ESP8266_GPIO_Config ( void )
  40:./Hardware/ESP8266/bsp_esp8266.c **** {
  26              		.loc 1 40 1 view -0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 8
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 30B5     		push	{r4, r5, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 12
  33              		.cfi_offset 4, -12
  34              		.cfi_offset 5, -8
  35              		.cfi_offset 14, -4
  36 0002 83B0     		sub	sp, sp, #12
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  41:./Hardware/ESP8266/bsp_esp8266.c **** 	/*定义一个GPIO_InitTypeDef类型的结构体*/
  42:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
  39              		.loc 1 42 2 view .LVU1
  43:./Hardware/ESP8266/bsp_esp8266.c **** 
  44:./Hardware/ESP8266/bsp_esp8266.c **** 
  45:./Hardware/ESP8266/bsp_esp8266.c **** 	/* 配置 CH_PD 引脚*/
  46:./Hardware/ESP8266/bsp_esp8266.c **** 	macESP8266_CH_PD_APBxClock_FUN ( macESP8266_CH_PD_CLK, ENABLE ); 
  40              		.loc 1 46 2 view .LVU2
  41 0004 0121     		movs	r1, #1
  42 0006 0420     		movs	r0, #4
  43 0008 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
  44              	.LVL0:
  47:./Hardware/ESP8266/bsp_esp8266.c **** 											   
  48:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Pin = macESP8266_CH_PD_PIN;	
  45              		.loc 1 48 2 view .LVU3
  46              		.loc 1 48 30 is_stmt 0 view .LVU4
  47 000c 2023     		movs	r3, #32
  48 000e ADF80430 		strh	r3, [sp, #4]	@ movhi
  49:./Hardware/ESP8266/bsp_esp8266.c **** 
  50:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;   
  49              		.loc 1 50 2 is_stmt 1 view .LVU5
  50              		.loc 1 50 31 is_stmt 0 view .LVU6
  51 0012 1025     		movs	r5, #16
  52 0014 8DF80750 		strb	r5, [sp, #7]
  51:./Hardware/ESP8266/bsp_esp8266.c ****    
  52:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; 
  53              		.loc 1 52 2 is_stmt 1 view .LVU7
  54              		.loc 1 52 32 is_stmt 0 view .LVU8
  55 0018 0323     		movs	r3, #3
  56 001a 8DF80630 		strb	r3, [sp, #6]
  53:./Hardware/ESP8266/bsp_esp8266.c **** 
  54:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_Init ( macESP8266_CH_PD_PORT, & GPIO_InitStructure );	 
  57              		.loc 1 54 2 is_stmt 1 view .LVU9
  58 001e 084C     		ldr	r4, .L3
  59 0020 01A9     		add	r1, sp, #4
  60 0022 2046     		mov	r0, r4
  61 0024 FFF7FEFF 		bl	GPIO_Init
ARM GAS  /tmp/ccXEZ84N.s 			page 3


  62              	.LVL1:
  55:./Hardware/ESP8266/bsp_esp8266.c **** 
  56:./Hardware/ESP8266/bsp_esp8266.c **** 	
  57:./Hardware/ESP8266/bsp_esp8266.c **** 	/* 配置 RST 引脚*/
  58:./Hardware/ESP8266/bsp_esp8266.c **** 	macESP8266_RST_APBxClock_FUN ( macESP8266_RST_CLK, ENABLE ); 
  63              		.loc 1 58 2 view .LVU10
  64 0028 0121     		movs	r1, #1
  65 002a 0420     		movs	r0, #4
  66 002c FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
  67              	.LVL2:
  59:./Hardware/ESP8266/bsp_esp8266.c **** 											   
  60:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Pin = macESP8266_RST_PIN;	
  68              		.loc 1 60 2 view .LVU11
  69              		.loc 1 60 30 is_stmt 0 view .LVU12
  70 0030 ADF80450 		strh	r5, [sp, #4]	@ movhi
  61:./Hardware/ESP8266/bsp_esp8266.c **** 
  62:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_Init ( macESP8266_RST_PORT, & GPIO_InitStructure );	 
  71              		.loc 1 62 2 is_stmt 1 view .LVU13
  72 0034 01A9     		add	r1, sp, #4
  73 0036 2046     		mov	r0, r4
  74 0038 FFF7FEFF 		bl	GPIO_Init
  75              	.LVL3:
  63:./Hardware/ESP8266/bsp_esp8266.c **** 
  64:./Hardware/ESP8266/bsp_esp8266.c **** 
  65:./Hardware/ESP8266/bsp_esp8266.c **** }
  76              		.loc 1 65 1 is_stmt 0 view .LVU14
  77 003c 03B0     		add	sp, sp, #12
  78              	.LCFI2:
  79              		.cfi_def_cfa_offset 12
  80              		@ sp needed
  81 003e 30BD     		pop	{r4, r5, pc}
  82              	.L4:
  83              		.align	2
  84              	.L3:
  85 0040 00080140 		.word	1073809408
  86              		.cfi_endproc
  87              	.LFE33:
  89              		.section	.text.ESP8266_USART_NVIC_Configuration,"ax",%progbits
  90              		.align	1
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  94              		.fpu softvfp
  96              	ESP8266_USART_NVIC_Configuration:
  97              	.LFB35:
  66:./Hardware/ESP8266/bsp_esp8266.c **** 
  67:./Hardware/ESP8266/bsp_esp8266.c **** 
  68:./Hardware/ESP8266/bsp_esp8266.c **** /**
  69:./Hardware/ESP8266/bsp_esp8266.c ****   * @brief  初始化ESP8266用到的 USART
  70:./Hardware/ESP8266/bsp_esp8266.c ****   * @param  无
  71:./Hardware/ESP8266/bsp_esp8266.c ****   * @retval 无
  72:./Hardware/ESP8266/bsp_esp8266.c ****   */
  73:./Hardware/ESP8266/bsp_esp8266.c **** static void ESP8266_USART_Config ( void )
  74:./Hardware/ESP8266/bsp_esp8266.c **** {
  75:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
  76:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitTypeDef USART_InitStructure;
  77:./Hardware/ESP8266/bsp_esp8266.c **** 	
ARM GAS  /tmp/ccXEZ84N.s 			page 4


  78:./Hardware/ESP8266/bsp_esp8266.c **** 	
  79:./Hardware/ESP8266/bsp_esp8266.c **** 	/* config USART clock */
  80:./Hardware/ESP8266/bsp_esp8266.c **** 	macESP8266_USART_APBxClock_FUN ( macESP8266_USART_CLK, ENABLE );
  81:./Hardware/ESP8266/bsp_esp8266.c **** 	macESP8266_USART_GPIO_APBxClock_FUN ( macESP8266_USART_GPIO_CLK, ENABLE );
  82:./Hardware/ESP8266/bsp_esp8266.c **** 	
  83:./Hardware/ESP8266/bsp_esp8266.c **** 	/* USART GPIO config */
  84:./Hardware/ESP8266/bsp_esp8266.c **** 	/* Configure USART Tx as alternate function push-pull */
  85:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Pin =  macESP8266_USART_TX_PIN;
  86:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  87:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  88:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_Init(macESP8266_USART_TX_PORT, &GPIO_InitStructure);  
  89:./Hardware/ESP8266/bsp_esp8266.c ****   
  90:./Hardware/ESP8266/bsp_esp8266.c **** 	/* Configure USART Rx as input floating */
  91:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Pin = macESP8266_USART_RX_PIN;
  92:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  93:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_Init(macESP8266_USART_RX_PORT, &GPIO_InitStructure);
  94:./Hardware/ESP8266/bsp_esp8266.c **** 	
  95:./Hardware/ESP8266/bsp_esp8266.c **** 	/* USART1 mode config */
  96:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_BaudRate = macESP8266_USART_BAUD_RATE;
  97:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
  98:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
  99:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 100:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 101:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 102:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_Init(macESP8266_USARTx, &USART_InitStructure);
 103:./Hardware/ESP8266/bsp_esp8266.c **** 	
 104:./Hardware/ESP8266/bsp_esp8266.c **** 	
 105:./Hardware/ESP8266/bsp_esp8266.c **** 	/* 中断配置 */
 106:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_ITConfig ( macESP8266_USARTx, USART_IT_RXNE, ENABLE ); //使能串口接收中断 
 107:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_ITConfig ( macESP8266_USARTx, USART_IT_IDLE, ENABLE ); //使能串口总线空闲中断 	
 108:./Hardware/ESP8266/bsp_esp8266.c **** 
 109:./Hardware/ESP8266/bsp_esp8266.c **** 	ESP8266_USART_NVIC_Configuration ();
 110:./Hardware/ESP8266/bsp_esp8266.c **** 	
 111:./Hardware/ESP8266/bsp_esp8266.c **** 	
 112:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_Cmd(macESP8266_USARTx, ENABLE);
 113:./Hardware/ESP8266/bsp_esp8266.c **** }
 114:./Hardware/ESP8266/bsp_esp8266.c **** 
 115:./Hardware/ESP8266/bsp_esp8266.c **** 
 116:./Hardware/ESP8266/bsp_esp8266.c **** /**
 117:./Hardware/ESP8266/bsp_esp8266.c ****   * @brief  配置 ESP8266 USART 的 NVIC 中断
 118:./Hardware/ESP8266/bsp_esp8266.c ****   * @param  无
 119:./Hardware/ESP8266/bsp_esp8266.c ****   * @retval 无
 120:./Hardware/ESP8266/bsp_esp8266.c ****   */
 121:./Hardware/ESP8266/bsp_esp8266.c **** static void ESP8266_USART_NVIC_Configuration ( void )
 122:./Hardware/ESP8266/bsp_esp8266.c **** {
  98              		.loc 1 122 1 is_stmt 1 view -0
  99              		.cfi_startproc
 100              		@ args = 0, pretend = 0, frame = 8
 101              		@ frame_needed = 0, uses_anonymous_args = 0
 102 0000 00B5     		push	{lr}
 103              	.LCFI3:
 104              		.cfi_def_cfa_offset 4
 105              		.cfi_offset 14, -4
 106 0002 83B0     		sub	sp, sp, #12
 107              	.LCFI4:
 108              		.cfi_def_cfa_offset 16
 123:./Hardware/ESP8266/bsp_esp8266.c **** 	NVIC_InitTypeDef NVIC_InitStructure; 
ARM GAS  /tmp/ccXEZ84N.s 			page 5


 109              		.loc 1 123 2 view .LVU16
 124:./Hardware/ESP8266/bsp_esp8266.c **** 	
 125:./Hardware/ESP8266/bsp_esp8266.c **** 	
 126:./Hardware/ESP8266/bsp_esp8266.c **** 	/* Configure the NVIC Preemption Priority Bits */  
 127:./Hardware/ESP8266/bsp_esp8266.c **** 	NVIC_PriorityGroupConfig ( NVIC_PriorityGroup_2 );
 110              		.loc 1 127 2 view .LVU17
 111 0004 4FF4A060 		mov	r0, #1280
 112 0008 FFF7FEFF 		bl	NVIC_PriorityGroupConfig
 113              	.LVL4:
 128:./Hardware/ESP8266/bsp_esp8266.c **** 
 129:./Hardware/ESP8266/bsp_esp8266.c **** 	/* Enable the USART2 Interrupt */
 130:./Hardware/ESP8266/bsp_esp8266.c **** 	NVIC_InitStructure.NVIC_IRQChannel = macESP8266_USART_IRQ;	 
 114              		.loc 1 130 2 view .LVU18
 115              		.loc 1 130 37 is_stmt 0 view .LVU19
 116 000c 2623     		movs	r3, #38
 117 000e 8DF80430 		strb	r3, [sp, #4]
 131:./Hardware/ESP8266/bsp_esp8266.c **** 	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
 118              		.loc 1 131 2 is_stmt 1 view .LVU20
 119              		.loc 1 131 55 is_stmt 0 view .LVU21
 120 0012 0023     		movs	r3, #0
 121 0014 8DF80530 		strb	r3, [sp, #5]
 132:./Hardware/ESP8266/bsp_esp8266.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
 122              		.loc 1 132 2 is_stmt 1 view .LVU22
 123              		.loc 1 132 48 is_stmt 0 view .LVU23
 124 0018 8DF80630 		strb	r3, [sp, #6]
 133:./Hardware/ESP8266/bsp_esp8266.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 125              		.loc 1 133 2 is_stmt 1 view .LVU24
 126              		.loc 1 133 40 is_stmt 0 view .LVU25
 127 001c 0123     		movs	r3, #1
 128 001e 8DF80730 		strb	r3, [sp, #7]
 134:./Hardware/ESP8266/bsp_esp8266.c **** 	NVIC_Init(&NVIC_InitStructure);
 129              		.loc 1 134 2 is_stmt 1 view .LVU26
 130 0022 01A8     		add	r0, sp, #4
 131 0024 FFF7FEFF 		bl	NVIC_Init
 132              	.LVL5:
 135:./Hardware/ESP8266/bsp_esp8266.c **** 
 136:./Hardware/ESP8266/bsp_esp8266.c **** }
 133              		.loc 1 136 1 is_stmt 0 view .LVU27
 134 0028 03B0     		add	sp, sp, #12
 135              	.LCFI5:
 136              		.cfi_def_cfa_offset 4
 137              		@ sp needed
 138 002a 5DF804FB 		ldr	pc, [sp], #4
 139              		.cfi_endproc
 140              	.LFE35:
 142              		.section	.text.ESP8266_USART_Config,"ax",%progbits
 143              		.align	1
 144              		.syntax unified
 145              		.thumb
 146              		.thumb_func
 147              		.fpu softvfp
 149              	ESP8266_USART_Config:
 150              	.LFB34:
  74:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
 151              		.loc 1 74 1 is_stmt 1 view -0
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 24
ARM GAS  /tmp/ccXEZ84N.s 			page 6


 154              		@ frame_needed = 0, uses_anonymous_args = 0
 155 0000 30B5     		push	{r4, r5, lr}
 156              	.LCFI6:
 157              		.cfi_def_cfa_offset 12
 158              		.cfi_offset 4, -12
 159              		.cfi_offset 5, -8
 160              		.cfi_offset 14, -4
 161 0002 87B0     		sub	sp, sp, #28
 162              	.LCFI7:
 163              		.cfi_def_cfa_offset 40
  75:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitTypeDef USART_InitStructure;
 164              		.loc 1 75 2 view .LVU29
  76:./Hardware/ESP8266/bsp_esp8266.c **** 	
 165              		.loc 1 76 2 view .LVU30
  80:./Hardware/ESP8266/bsp_esp8266.c **** 	macESP8266_USART_GPIO_APBxClock_FUN ( macESP8266_USART_GPIO_CLK, ENABLE );
 166              		.loc 1 80 2 view .LVU31
 167 0004 0121     		movs	r1, #1
 168 0006 4FF40030 		mov	r0, #131072
 169 000a FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 170              	.LVL6:
  81:./Hardware/ESP8266/bsp_esp8266.c **** 	
 171              		.loc 1 81 2 view .LVU32
 172 000e 0121     		movs	r1, #1
 173 0010 0420     		movs	r0, #4
 174 0012 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 175              	.LVL7:
  85:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
 176              		.loc 1 85 2 view .LVU33
  85:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
 177              		.loc 1 85 30 is_stmt 0 view .LVU34
 178 0016 0425     		movs	r5, #4
 179 0018 ADF81450 		strh	r5, [sp, #20]	@ movhi
  86:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 180              		.loc 1 86 2 is_stmt 1 view .LVU35
  86:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 181              		.loc 1 86 31 is_stmt 0 view .LVU36
 182 001c 1823     		movs	r3, #24
 183 001e 8DF81730 		strb	r3, [sp, #23]
  87:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_Init(macESP8266_USART_TX_PORT, &GPIO_InitStructure);  
 184              		.loc 1 87 2 is_stmt 1 view .LVU37
  87:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_Init(macESP8266_USART_TX_PORT, &GPIO_InitStructure);  
 185              		.loc 1 87 32 is_stmt 0 view .LVU38
 186 0022 0323     		movs	r3, #3
 187 0024 8DF81630 		strb	r3, [sp, #22]
  88:./Hardware/ESP8266/bsp_esp8266.c ****   
 188              		.loc 1 88 2 is_stmt 1 view .LVU39
 189 0028 1B4C     		ldr	r4, .L9
 190 002a 05A9     		add	r1, sp, #20
 191 002c 2046     		mov	r0, r4
 192 002e FFF7FEFF 		bl	GPIO_Init
 193              	.LVL8:
  91:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
 194              		.loc 1 91 2 view .LVU40
  91:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
 195              		.loc 1 91 30 is_stmt 0 view .LVU41
 196 0032 0823     		movs	r3, #8
 197 0034 ADF81430 		strh	r3, [sp, #20]	@ movhi
ARM GAS  /tmp/ccXEZ84N.s 			page 7


  92:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_Init(macESP8266_USART_RX_PORT, &GPIO_InitStructure);
 198              		.loc 1 92 2 is_stmt 1 view .LVU42
  92:./Hardware/ESP8266/bsp_esp8266.c **** 	GPIO_Init(macESP8266_USART_RX_PORT, &GPIO_InitStructure);
 199              		.loc 1 92 31 is_stmt 0 view .LVU43
 200 0038 8DF81750 		strb	r5, [sp, #23]
  93:./Hardware/ESP8266/bsp_esp8266.c **** 	
 201              		.loc 1 93 2 is_stmt 1 view .LVU44
 202 003c 05A9     		add	r1, sp, #20
 203 003e 2046     		mov	r0, r4
 204 0040 FFF7FEFF 		bl	GPIO_Init
 205              	.LVL9:
  96:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 206              		.loc 1 96 2 view .LVU45
  96:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 207              		.loc 1 96 37 is_stmt 0 view .LVU46
 208 0044 4FF4E133 		mov	r3, #115200
 209 0048 0193     		str	r3, [sp, #4]
  97:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 210              		.loc 1 97 2 is_stmt 1 view .LVU47
  97:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 211              		.loc 1 97 39 is_stmt 0 view .LVU48
 212 004a 0023     		movs	r3, #0
 213 004c ADF80830 		strh	r3, [sp, #8]	@ movhi
  98:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 214              		.loc 1 98 2 is_stmt 1 view .LVU49
  98:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 215              		.loc 1 98 37 is_stmt 0 view .LVU50
 216 0050 ADF80A30 		strh	r3, [sp, #10]	@ movhi
  99:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 217              		.loc 1 99 2 is_stmt 1 view .LVU51
  99:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 218              		.loc 1 99 35 is_stmt 0 view .LVU52
 219 0054 ADF80C30 		strh	r3, [sp, #12]	@ movhi
 100:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 220              		.loc 1 100 2 is_stmt 1 view .LVU53
 100:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 221              		.loc 1 100 48 is_stmt 0 view .LVU54
 222 0058 ADF81030 		strh	r3, [sp, #16]	@ movhi
 101:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_Init(macESP8266_USARTx, &USART_InitStructure);
 223              		.loc 1 101 2 is_stmt 1 view .LVU55
 101:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_Init(macESP8266_USARTx, &USART_InitStructure);
 224              		.loc 1 101 33 is_stmt 0 view .LVU56
 225 005c 0C23     		movs	r3, #12
 226 005e ADF80E30 		strh	r3, [sp, #14]	@ movhi
 102:./Hardware/ESP8266/bsp_esp8266.c **** 	
 227              		.loc 1 102 2 is_stmt 1 view .LVU57
 228 0062 A4F54444 		sub	r4, r4, #50176
 229 0066 0DEB0501 		add	r1, sp, r5
 230 006a 2046     		mov	r0, r4
 231 006c FFF7FEFF 		bl	USART_Init
 232              	.LVL10:
 106:./Hardware/ESP8266/bsp_esp8266.c **** 	USART_ITConfig ( macESP8266_USARTx, USART_IT_IDLE, ENABLE ); //使能串口总线空闲中断 	
 233              		.loc 1 106 2 view .LVU58
 234 0070 0122     		movs	r2, #1
 235 0072 40F22551 		movw	r1, #1317
 236 0076 2046     		mov	r0, r4
 237 0078 FFF7FEFF 		bl	USART_ITConfig
ARM GAS  /tmp/ccXEZ84N.s 			page 8


 238              	.LVL11:
 107:./Hardware/ESP8266/bsp_esp8266.c **** 
 239              		.loc 1 107 2 view .LVU59
 240 007c 0122     		movs	r2, #1
 241 007e 40F22441 		movw	r1, #1060
 242 0082 2046     		mov	r0, r4
 243 0084 FFF7FEFF 		bl	USART_ITConfig
 244              	.LVL12:
 109:./Hardware/ESP8266/bsp_esp8266.c **** 	
 245              		.loc 1 109 2 view .LVU60
 246 0088 FFF7FEFF 		bl	ESP8266_USART_NVIC_Configuration
 247              	.LVL13:
 112:./Hardware/ESP8266/bsp_esp8266.c **** }
 248              		.loc 1 112 2 view .LVU61
 249 008c 0121     		movs	r1, #1
 250 008e 2046     		mov	r0, r4
 251 0090 FFF7FEFF 		bl	USART_Cmd
 252              	.LVL14:
 113:./Hardware/ESP8266/bsp_esp8266.c **** 
 253              		.loc 1 113 1 is_stmt 0 view .LVU62
 254 0094 07B0     		add	sp, sp, #28
 255              	.LCFI8:
 256              		.cfi_def_cfa_offset 12
 257              		@ sp needed
 258 0096 30BD     		pop	{r4, r5, pc}
 259              	.L10:
 260              		.align	2
 261              	.L9:
 262 0098 00080140 		.word	1073809408
 263              		.cfi_endproc
 264              	.LFE34:
 266              		.section	.text.ESP8266_Init,"ax",%progbits
 267              		.align	1
 268              		.global	ESP8266_Init
 269              		.syntax unified
 270              		.thumb
 271              		.thumb_func
 272              		.fpu softvfp
 274              	ESP8266_Init:
 275              	.LFB32:
  20:./Hardware/ESP8266/bsp_esp8266.c **** 	ESP8266_GPIO_Config (); 
 276              		.loc 1 20 1 is_stmt 1 view -0
 277              		.cfi_startproc
 278              		@ args = 0, pretend = 0, frame = 0
 279              		@ frame_needed = 0, uses_anonymous_args = 0
 280 0000 10B5     		push	{r4, lr}
 281              	.LCFI9:
 282              		.cfi_def_cfa_offset 8
 283              		.cfi_offset 4, -8
 284              		.cfi_offset 14, -4
  21:./Hardware/ESP8266/bsp_esp8266.c **** 	
 285              		.loc 1 21 2 view .LVU64
 286 0002 FFF7FEFF 		bl	ESP8266_GPIO_Config
 287              	.LVL15:
  23:./Hardware/ESP8266/bsp_esp8266.c **** 	
 288              		.loc 1 23 2 view .LVU65
 289 0006 FFF7FEFF 		bl	ESP8266_USART_Config
ARM GAS  /tmp/ccXEZ84N.s 			page 9


 290              	.LVL16:
  26:./Hardware/ESP8266/bsp_esp8266.c **** 
 291              		.loc 1 26 2 view .LVU66
 292 000a 054C     		ldr	r4, .L13
 293 000c 1021     		movs	r1, #16
 294 000e 2046     		mov	r0, r4
 295 0010 FFF7FEFF 		bl	GPIO_SetBits
 296              	.LVL17:
  28:./Hardware/ESP8266/bsp_esp8266.c **** 	
 297              		.loc 1 28 2 view .LVU67
 298 0014 2021     		movs	r1, #32
 299 0016 2046     		mov	r0, r4
 300 0018 FFF7FEFF 		bl	GPIO_ResetBits
 301              	.LVL18:
  31:./Hardware/ESP8266/bsp_esp8266.c **** 
 302              		.loc 1 31 1 is_stmt 0 view .LVU68
 303 001c 10BD     		pop	{r4, pc}
 304              	.L14:
 305 001e 00BF     		.align	2
 306              	.L13:
 307 0020 00080140 		.word	1073809408
 308              		.cfi_endproc
 309              	.LFE32:
 311              		.section	.text.ESP8266_Rst,"ax",%progbits
 312              		.align	1
 313              		.global	ESP8266_Rst
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 317              		.fpu softvfp
 319              	ESP8266_Rst:
 320              	.LFB36:
 137:./Hardware/ESP8266/bsp_esp8266.c **** 
 138:./Hardware/ESP8266/bsp_esp8266.c **** 
 139:./Hardware/ESP8266/bsp_esp8266.c **** /*
 140:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_Rst
 141:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：重启WF-ESP8266模块
 142:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：无
 143:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 无
 144:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被 ESP8266_AT_Test 调用
 145:./Hardware/ESP8266/bsp_esp8266.c ****  */
 146:./Hardware/ESP8266/bsp_esp8266.c **** void ESP8266_Rst ( void )
 147:./Hardware/ESP8266/bsp_esp8266.c **** {
 321              		.loc 1 147 1 is_stmt 1 view -0
 322              		.cfi_startproc
 323              		@ args = 0, pretend = 0, frame = 0
 324              		@ frame_needed = 0, uses_anonymous_args = 0
 325 0000 10B5     		push	{r4, lr}
 326              	.LCFI10:
 327              		.cfi_def_cfa_offset 8
 328              		.cfi_offset 4, -8
 329              		.cfi_offset 14, -4
 148:./Hardware/ESP8266/bsp_esp8266.c **** 	#if 0
 149:./Hardware/ESP8266/bsp_esp8266.c **** 	 ESP8266_Cmd ( "AT+RST", "OK", "ready", 2500 );   	
 150:./Hardware/ESP8266/bsp_esp8266.c **** 	
 151:./Hardware/ESP8266/bsp_esp8266.c **** 	#else
 152:./Hardware/ESP8266/bsp_esp8266.c **** 	 macESP8266_RST_LOW_LEVEL();
ARM GAS  /tmp/ccXEZ84N.s 			page 10


 330              		.loc 1 152 3 view .LVU70
 331 0002 074C     		ldr	r4, .L17
 332 0004 1021     		movs	r1, #16
 333 0006 2046     		mov	r0, r4
 334 0008 FFF7FEFF 		bl	GPIO_ResetBits
 335              	.LVL19:
 153:./Hardware/ESP8266/bsp_esp8266.c **** 	 DelayXms ( 500 ); 
 336              		.loc 1 153 3 view .LVU71
 337 000c 4FF4FA70 		mov	r0, #500
 338 0010 FFF7FEFF 		bl	DelayXms
 339              	.LVL20:
 154:./Hardware/ESP8266/bsp_esp8266.c **** 	 macESP8266_RST_HIGH_LEVEL();
 340              		.loc 1 154 3 view .LVU72
 341 0014 1021     		movs	r1, #16
 342 0016 2046     		mov	r0, r4
 343 0018 FFF7FEFF 		bl	GPIO_SetBits
 344              	.LVL21:
 155:./Hardware/ESP8266/bsp_esp8266.c **** 	#endif
 156:./Hardware/ESP8266/bsp_esp8266.c **** 
 157:./Hardware/ESP8266/bsp_esp8266.c **** }
 345              		.loc 1 157 1 is_stmt 0 view .LVU73
 346 001c 10BD     		pop	{r4, pc}
 347              	.L18:
 348 001e 00BF     		.align	2
 349              	.L17:
 350 0020 00080140 		.word	1073809408
 351              		.cfi_endproc
 352              	.LFE36:
 354              		.section	.rodata.ESP8266_Cmd.str1.4,"aMS",%progbits,1
 355              		.align	2
 356              	.LC0:
 357 0000 25730D0A 		.ascii	"%s\015\012\000"
 357      00
 358 0005 000000   		.align	2
 359              	.LC1:
 360 0008 257300   		.ascii	"%s\000"
 361              		.section	.text.ESP8266_Cmd,"ax",%progbits
 362              		.align	1
 363              		.global	ESP8266_Cmd
 364              		.syntax unified
 365              		.thumb
 366              		.thumb_func
 367              		.fpu softvfp
 369              	ESP8266_Cmd:
 370              	.LVL22:
 371              	.LFB37:
 158:./Hardware/ESP8266/bsp_esp8266.c **** 
 159:./Hardware/ESP8266/bsp_esp8266.c **** 
 160:./Hardware/ESP8266/bsp_esp8266.c **** /*
 161:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_Cmd
 162:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：对WF-ESP8266模块发送AT指令
 163:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：cmd，待发送的指令
 164:./Hardware/ESP8266/bsp_esp8266.c ****  *         reply1，reply2，期待的响应，为NULL表不需响应，两者为或逻辑关系
 165:./Hardware/ESP8266/bsp_esp8266.c ****  *         waittime，等待响应的时间
 166:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 1，指令发送成功
 167:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，指令发送失败
 168:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
ARM GAS  /tmp/ccXEZ84N.s 			page 11


 169:./Hardware/ESP8266/bsp_esp8266.c ****  */
 170:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_Cmd ( char * cmd, char * reply1, char * reply2, u32 waittime )
 171:./Hardware/ESP8266/bsp_esp8266.c **** {    
 372              		.loc 1 171 1 is_stmt 1 view -0
 373              		.cfi_startproc
 374              		@ args = 0, pretend = 0, frame = 0
 375              		@ frame_needed = 0, uses_anonymous_args = 0
 376              		.loc 1 171 1 is_stmt 0 view .LVU75
 377 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 378              	.LCFI11:
 379              		.cfi_def_cfa_offset 24
 380              		.cfi_offset 3, -24
 381              		.cfi_offset 4, -20
 382              		.cfi_offset 5, -16
 383              		.cfi_offset 6, -12
 384              		.cfi_offset 7, -8
 385              		.cfi_offset 14, -4
 386 0002 0D46     		mov	r5, r1
 387 0004 1646     		mov	r6, r2
 388 0006 1C46     		mov	r4, r3
 172:./Hardware/ESP8266/bsp_esp8266.c **** 	strEsp8266_Fram_Record .InfBit .FramLength = 0;               //从新开始接收新的数据包
 389              		.loc 1 172 2 is_stmt 1 view .LVU76
 390              		.loc 1 172 45 is_stmt 0 view .LVU77
 391 0008 264B     		ldr	r3, .L31
 392              	.LVL23:
 393              		.loc 1 172 45 view .LVU78
 394 000a B3F80024 		ldrh	r2, [r3, #1024]
 395              	.LVL24:
 396              		.loc 1 172 45 view .LVU79
 397 000e 6FF30E02 		bfc	r2, #0, #15
 398 0012 A3F80024 		strh	r2, [r3, #1024]	@ movhi
 173:./Hardware/ESP8266/bsp_esp8266.c **** 
 174:./Hardware/ESP8266/bsp_esp8266.c **** 	UsartPrintf (USART2, "%s\r\n", cmd );
 399              		.loc 1 174 2 is_stmt 1 view .LVU80
 400 0016 0246     		mov	r2, r0
 401 0018 2349     		ldr	r1, .L31+4
 402              	.LVL25:
 403              		.loc 1 174 2 is_stmt 0 view .LVU81
 404 001a 2448     		ldr	r0, .L31+8
 405              	.LVL26:
 406              		.loc 1 174 2 view .LVU82
 407 001c FFF7FEFF 		bl	UsartPrintf
 408              	.LVL27:
 175:./Hardware/ESP8266/bsp_esp8266.c **** 
 176:./Hardware/ESP8266/bsp_esp8266.c **** 	if ( ( reply1 == 0 ) && ( reply2 == 0 ) )                      //不需要接收数据
 409              		.loc 1 176 2 is_stmt 1 view .LVU83
 410              		.loc 1 176 5 is_stmt 0 view .LVU84
 411 0020 15B3     		cbz	r5, .L29
 412              	.L20:
 177:./Hardware/ESP8266/bsp_esp8266.c **** 		return true;
 178:./Hardware/ESP8266/bsp_esp8266.c **** 	
 179:./Hardware/ESP8266/bsp_esp8266.c **** 	DelayXms ( waittime );                 //延时
 413              		.loc 1 179 2 is_stmt 1 view .LVU85
 414 0022 A0B2     		uxth	r0, r4
 415 0024 FFF7FEFF 		bl	DelayXms
 416              	.LVL28:
 180:./Hardware/ESP8266/bsp_esp8266.c **** 	
ARM GAS  /tmp/ccXEZ84N.s 			page 12


 181:./Hardware/ESP8266/bsp_esp8266.c **** 	strEsp8266_Fram_Record .Data_RX_BUF [ strEsp8266_Fram_Record .InfBit .FramLength ]  = '\0';
 417              		.loc 1 181 2 view .LVU86
 418              		.loc 1 181 71 is_stmt 0 view .LVU87
 419 0028 1E4C     		ldr	r4, .L31
 420              	.LVL29:
 421              		.loc 1 181 71 view .LVU88
 422 002a B4F80034 		ldrh	r3, [r4, #1024]
 423 002e C3F30E03 		ubfx	r3, r3, #0, #15
 424              		.loc 1 181 86 view .LVU89
 425 0032 0027     		movs	r7, #0
 426 0034 E754     		strb	r7, [r4, r3]
 182:./Hardware/ESP8266/bsp_esp8266.c **** 
 183:./Hardware/ESP8266/bsp_esp8266.c **** 	macPC_Usart ( "%s", strEsp8266_Fram_Record .Data_RX_BUF );
 427              		.loc 1 183 2 is_stmt 1 view .LVU90
 428 0036 2146     		mov	r1, r4
 429 0038 1D48     		ldr	r0, .L31+12
 430 003a FFF7FEFF 		bl	printf
 431              	.LVL30:
 184:./Hardware/ESP8266/bsp_esp8266.c ****   strEsp8266_Fram_Record .InfBit .FramLength = 0;                             //清除接收标志
 432              		.loc 1 184 3 view .LVU91
 433              		.loc 1 184 46 is_stmt 0 view .LVU92
 434 003e B4F80034 		ldrh	r3, [r4, #1024]
 435 0042 67F30E03 		bfi	r3, r7, #0, #15
 436 0046 A4F80034 		strh	r3, [r4, #1024]	@ movhi
 185:./Hardware/ESP8266/bsp_esp8266.c **** 	strEsp8266_Fram_Record.InfBit.FramFinishFlag = 0;                             
 437              		.loc 1 185 2 is_stmt 1 view .LVU93
 438              		.loc 1 185 47 is_stmt 0 view .LVU94
 439 004a B4F80034 		ldrh	r3, [r4, #1024]
 440 004e 67F3CF33 		bfi	r3, r7, #15, #1
 441 0052 A4F80034 		strh	r3, [r4, #1024]	@ movhi
 186:./Hardware/ESP8266/bsp_esp8266.c **** 	if ( ( reply1 != 0 ) && ( reply2 != 0 ) )
 442              		.loc 1 186 2 is_stmt 1 view .LVU95
 443              		.loc 1 186 5 is_stmt 0 view .LVU96
 444 0056 A5B1     		cbz	r5, .L22
 445              		.loc 1 186 23 discriminator 1 view .LVU97
 446 0058 9EB1     		cbz	r6, .L22
 187:./Hardware/ESP8266/bsp_esp8266.c **** 		return ( ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply1 ) || 
 447              		.loc 1 187 3 is_stmt 1 view .LVU98
 448              		.loc 1 187 21 is_stmt 0 view .LVU99
 449 005a 2946     		mov	r1, r5
 450 005c 2046     		mov	r0, r4
 451 005e FFF7FEFF 		bl	strstr
 452              	.LVL31:
 453              		.loc 1 187 76 view .LVU100
 454 0062 28B1     		cbz	r0, .L30
 455 0064 0120     		movs	r0, #1
 456 0066 14E0     		b	.L21
 457              	.LVL32:
 458              	.L29:
 176:./Hardware/ESP8266/bsp_esp8266.c **** 		return true;
 459              		.loc 1 176 23 discriminator 1 view .LVU101
 460 0068 002E     		cmp	r6, #0
 461 006a DAD1     		bne	.L20
 177:./Hardware/ESP8266/bsp_esp8266.c **** 	
 462              		.loc 1 177 10 view .LVU102
 463 006c 0120     		movs	r0, #1
 464 006e 10E0     		b	.L21
ARM GAS  /tmp/ccXEZ84N.s 			page 13


 465              	.LVL33:
 466              	.L30:
 188:./Hardware/ESP8266/bsp_esp8266.c **** 						 ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply2 ) ); 
 467              		.loc 1 188 17 discriminator 2 view .LVU103
 468 0070 3146     		mov	r1, r6
 469 0072 2046     		mov	r0, r4
 470 0074 FFF7FEFF 		bl	strstr
 471              	.LVL34:
 187:./Hardware/ESP8266/bsp_esp8266.c **** 						 ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply2 ) ); 
 472              		.loc 1 187 76 discriminator 2 view .LVU104
 473 0078 08B1     		cbz	r0, .L27
 187:./Hardware/ESP8266/bsp_esp8266.c **** 						 ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply2 ) ); 
 474              		.loc 1 187 76 view .LVU105
 475 007a 0120     		movs	r0, #1
 476 007c 09E0     		b	.L21
 477              	.L27:
 478 007e 0020     		movs	r0, #0
 479 0080 07E0     		b	.L21
 480              	.L22:
 189:./Hardware/ESP8266/bsp_esp8266.c ****  	
 190:./Hardware/ESP8266/bsp_esp8266.c **** 	else if ( reply1 != 0 )
 481              		.loc 1 190 7 is_stmt 1 view .LVU106
 482              		.loc 1 190 10 is_stmt 0 view .LVU107
 483 0082 3DB1     		cbz	r5, .L24
 191:./Hardware/ESP8266/bsp_esp8266.c **** 		return ( ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply1 ) );
 484              		.loc 1 191 3 is_stmt 1 view .LVU108
 485              		.loc 1 191 21 is_stmt 0 view .LVU109
 486 0084 2946     		mov	r1, r5
 487 0086 0748     		ldr	r0, .L31
 488 0088 FFF7FEFF 		bl	strstr
 489              	.LVL35:
 490              		.loc 1 191 12 view .LVU110
 491 008c 0038     		subs	r0, r0, #0
 492 008e 18BF     		it	ne
 493 0090 0120     		movne	r0, #1
 494              	.L21:
 192:./Hardware/ESP8266/bsp_esp8266.c **** 	
 193:./Hardware/ESP8266/bsp_esp8266.c **** 	else
 194:./Hardware/ESP8266/bsp_esp8266.c **** 		return ( ( bool ) strstr ( strEsp8266_Fram_Record .Data_RX_BUF, reply2 ) );
 195:./Hardware/ESP8266/bsp_esp8266.c **** 	
 196:./Hardware/ESP8266/bsp_esp8266.c **** }
 495              		.loc 1 196 1 view .LVU111
 496 0092 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 497              	.LVL36:
 498              	.L24:
 194:./Hardware/ESP8266/bsp_esp8266.c **** 	
 499              		.loc 1 194 3 is_stmt 1 view .LVU112
 194:./Hardware/ESP8266/bsp_esp8266.c **** 	
 500              		.loc 1 194 21 is_stmt 0 view .LVU113
 501 0094 3146     		mov	r1, r6
 502 0096 0348     		ldr	r0, .L31
 503 0098 FFF7FEFF 		bl	strstr
 504              	.LVL37:
 194:./Hardware/ESP8266/bsp_esp8266.c **** 	
 505              		.loc 1 194 12 view .LVU114
 506 009c 0038     		subs	r0, r0, #0
 507 009e 18BF     		it	ne
ARM GAS  /tmp/ccXEZ84N.s 			page 14


 508 00a0 0120     		movne	r0, #1
 509 00a2 F6E7     		b	.L21
 510              	.L32:
 511              		.align	2
 512              	.L31:
 513 00a4 00000000 		.word	.LANCHOR0
 514 00a8 00000000 		.word	.LC0
 515 00ac 00440040 		.word	1073759232
 516 00b0 08000000 		.word	.LC1
 517              		.cfi_endproc
 518              	.LFE37:
 520              		.section	.rodata.ESP8266_AT_Test.str1.4,"aMS",%progbits,1
 521              		.align	2
 522              	.LC2:
 523 0000 0D0A4154 		.ascii	"\015\012AT test.....\015\012\000"
 523      20746573 
 523      742E2E2E 
 523      2E2E0D0A 
 523      00
 524 0011 000000   		.align	2
 525              	.LC3:
 526 0014 0D0A4154 		.ascii	"\015\012AT Testing frequency: %d......\015\012\000"
 526      20546573 
 526      74696E67 
 526      20667265 
 526      7175656E 
 527 0037 00       		.align	2
 528              	.LC4:
 529 0038 4F4B00   		.ascii	"OK\000"
 530 003b 00       		.align	2
 531              	.LC5:
 532 003c 415400   		.ascii	"AT\000"
 533 003f 00       		.align	2
 534              	.LC6:
 535 0040 0D0A4154 		.ascii	"\015\012AT Test started successfully: %d......\015\012"
 535      20546573 
 535      74207374 
 535      61727465 
 535      64207375 
 536 006a 00       		.ascii	"\000"
 537              		.section	.text.ESP8266_AT_Test,"ax",%progbits
 538              		.align	1
 539              		.global	ESP8266_AT_Test
 540              		.syntax unified
 541              		.thumb
 542              		.thumb_func
 543              		.fpu softvfp
 545              	ESP8266_AT_Test:
 546              	.LFB38:
 197:./Hardware/ESP8266/bsp_esp8266.c **** 
 198:./Hardware/ESP8266/bsp_esp8266.c **** 
 199:./Hardware/ESP8266/bsp_esp8266.c **** /*
 200:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_AT_Test
 201:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：对WF-ESP8266模块进行AT测试启动
 202:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：无
 203:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 无
 204:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
ARM GAS  /tmp/ccXEZ84N.s 			page 15


 205:./Hardware/ESP8266/bsp_esp8266.c ****  */
 206:./Hardware/ESP8266/bsp_esp8266.c **** //void ESP8266_AT_Test ( void )
 207:./Hardware/ESP8266/bsp_esp8266.c **** //{
 208:./Hardware/ESP8266/bsp_esp8266.c **** //	macESP8266_RST_HIGH_LEVEL();
 209:./Hardware/ESP8266/bsp_esp8266.c **** //	
 210:./Hardware/ESP8266/bsp_esp8266.c **** //	DelayXms ( 1000 ); 
 211:./Hardware/ESP8266/bsp_esp8266.c **** //	
 212:./Hardware/ESP8266/bsp_esp8266.c **** //	while ( ! ESP8266_Cmd ( "AT", "OK", NULL, 500 ) ) ESP8266_Rst ();  	
 213:./Hardware/ESP8266/bsp_esp8266.c **** 
 214:./Hardware/ESP8266/bsp_esp8266.c **** //}
 215:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_AT_Test ( void )
 216:./Hardware/ESP8266/bsp_esp8266.c **** {
 547              		.loc 1 216 1 is_stmt 1 view -0
 548              		.cfi_startproc
 549              		@ args = 0, pretend = 0, frame = 0
 550              		@ frame_needed = 0, uses_anonymous_args = 0
 551 0000 70B5     		push	{r4, r5, r6, lr}
 552              	.LCFI12:
 553              		.cfi_def_cfa_offset 16
 554              		.cfi_offset 4, -16
 555              		.cfi_offset 5, -12
 556              		.cfi_offset 6, -8
 557              		.cfi_offset 14, -4
 217:./Hardware/ESP8266/bsp_esp8266.c **** 	char count=0;
 558              		.loc 1 217 2 view .LVU116
 559              	.LVL38:
 218:./Hardware/ESP8266/bsp_esp8266.c **** 	
 219:./Hardware/ESP8266/bsp_esp8266.c **** 	macESP8266_RST_HIGH_LEVEL();	
 560              		.loc 1 219 2 view .LVU117
 561 0002 1021     		movs	r1, #16
 562 0004 1448     		ldr	r0, .L41
 563 0006 FFF7FEFF 		bl	GPIO_SetBits
 564              	.LVL39:
 220:./Hardware/ESP8266/bsp_esp8266.c ****   	UsartPrintf(USART1,"\r\nAT test.....\r\n");
 565              		.loc 1 220 4 view .LVU118
 566 000a 1449     		ldr	r1, .L41+4
 567 000c 1448     		ldr	r0, .L41+8
 568 000e FFF7FEFF 		bl	UsartPrintf
 569              	.LVL40:
 221:./Hardware/ESP8266/bsp_esp8266.c **** 	DelayXms ( 2000 );
 570              		.loc 1 221 2 view .LVU119
 571 0012 4FF4FA60 		mov	r0, #2000
 572 0016 FFF7FEFF 		bl	DelayXms
 573              	.LVL41:
 222:./Hardware/ESP8266/bsp_esp8266.c **** 	while ( count < 10 )
 574              		.loc 1 222 2 view .LVU120
 217:./Hardware/ESP8266/bsp_esp8266.c **** 	
 575              		.loc 1 217 7 is_stmt 0 view .LVU121
 576 001a 0024     		movs	r4, #0
 577              	.LVL42:
 578              	.L34:
 579              		.loc 1 222 8 is_stmt 1 view .LVU122
 580 001c 092C     		cmp	r4, #9
 581 001e 18D8     		bhi	.L39
 223:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 224:./Hardware/ESP8266/bsp_esp8266.c ****     UsartPrintf(USART1,"\r\nAT Testing frequency: %d......\r\n", count);
 582              		.loc 1 224 5 view .LVU123
ARM GAS  /tmp/ccXEZ84N.s 			page 16


 583 0020 2246     		mov	r2, r4
 584 0022 1049     		ldr	r1, .L41+12
 585 0024 0E48     		ldr	r0, .L41+8
 586 0026 FFF7FEFF 		bl	UsartPrintf
 587              	.LVL43:
 225:./Hardware/ESP8266/bsp_esp8266.c **** 		if( ESP8266_Cmd ( "AT", "OK", NULL, 500 ) )
 588              		.loc 1 225 3 view .LVU124
 589              		.loc 1 225 7 is_stmt 0 view .LVU125
 590 002a 4FF4FA73 		mov	r3, #500
 591 002e 0022     		movs	r2, #0
 592 0030 0D49     		ldr	r1, .L41+16
 593 0032 0E48     		ldr	r0, .L41+20
 594 0034 FFF7FEFF 		bl	ESP8266_Cmd
 595              	.LVL44:
 596              		.loc 1 225 5 view .LVU126
 597 0038 0546     		mov	r5, r0
 598 003a 20B9     		cbnz	r0, .L40
 226:./Hardware/ESP8266/bsp_esp8266.c ****     {
 227:./Hardware/ESP8266/bsp_esp8266.c ****       UsartPrintf(USART1,"\r\nAT Test started successfully: %d......\r\n", count);
 228:./Hardware/ESP8266/bsp_esp8266.c ****       return 1;
 229:./Hardware/ESP8266/bsp_esp8266.c ****     }
 230:./Hardware/ESP8266/bsp_esp8266.c **** 		ESP8266_Rst();
 599              		.loc 1 230 3 is_stmt 1 view .LVU127
 600 003c FFF7FEFF 		bl	ESP8266_Rst
 601              	.LVL45:
 231:./Hardware/ESP8266/bsp_esp8266.c **** 		++ count;
 602              		.loc 1 231 3 view .LVU128
 603 0040 0134     		adds	r4, r4, #1
 604              	.LVL46:
 605              		.loc 1 231 3 is_stmt 0 view .LVU129
 606 0042 E4B2     		uxtb	r4, r4
 607              	.LVL47:
 608              		.loc 1 231 3 view .LVU130
 609 0044 EAE7     		b	.L34
 610              	.L40:
 227:./Hardware/ESP8266/bsp_esp8266.c ****       return 1;
 611              		.loc 1 227 7 is_stmt 1 view .LVU131
 612 0046 2246     		mov	r2, r4
 613 0048 0949     		ldr	r1, .L41+24
 614 004a 0548     		ldr	r0, .L41+8
 615 004c FFF7FEFF 		bl	UsartPrintf
 616              	.LVL48:
 228:./Hardware/ESP8266/bsp_esp8266.c ****     }
 617              		.loc 1 228 7 view .LVU132
 228:./Hardware/ESP8266/bsp_esp8266.c ****     }
 618              		.loc 1 228 14 is_stmt 0 view .LVU133
 619 0050 00E0     		b	.L36
 620              	.L39:
 232:./Hardware/ESP8266/bsp_esp8266.c **** 	}
 233:./Hardware/ESP8266/bsp_esp8266.c ****   return 0;
 621              		.loc 1 233 10 view .LVU134
 622 0052 0025     		movs	r5, #0
 623              	.L36:
 234:./Hardware/ESP8266/bsp_esp8266.c **** }
 624              		.loc 1 234 1 view .LVU135
 625 0054 2846     		mov	r0, r5
 626 0056 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccXEZ84N.s 			page 17


 627              	.LVL49:
 628              	.L42:
 629              		.loc 1 234 1 view .LVU136
 630              		.align	2
 631              	.L41:
 632 0058 00080140 		.word	1073809408
 633 005c 00000000 		.word	.LC2
 634 0060 00380140 		.word	1073821696
 635 0064 14000000 		.word	.LC3
 636 0068 38000000 		.word	.LC4
 637 006c 3C000000 		.word	.LC5
 638 0070 40000000 		.word	.LC6
 639              		.cfi_endproc
 640              	.LFE38:
 642              		.section	.rodata.ESP8266_Net_Mode_Choose.str1.4,"aMS",%progbits,1
 643              		.align	2
 644              	.LC7:
 645 0000 6E6F2063 		.ascii	"no change\000"
 645      68616E67 
 645      6500
 646 000a 0000     		.align	2
 647              	.LC8:
 648 000c 41542B43 		.ascii	"AT+CWMODE=1\000"
 648      574D4F44 
 648      453D3100 
 649              		.align	2
 650              	.LC9:
 651 0018 41542B43 		.ascii	"AT+CWMODE=2\000"
 651      574D4F44 
 651      453D3200 
 652              		.align	2
 653              	.LC10:
 654 0024 41542B43 		.ascii	"AT+CWMODE=3\000"
 654      574D4F44 
 654      453D3300 
 655              		.section	.text.ESP8266_Net_Mode_Choose,"ax",%progbits
 656              		.align	1
 657              		.global	ESP8266_Net_Mode_Choose
 658              		.syntax unified
 659              		.thumb
 660              		.thumb_func
 661              		.fpu softvfp
 663              	ESP8266_Net_Mode_Choose:
 664              	.LVL50:
 665              	.LFB39:
 235:./Hardware/ESP8266/bsp_esp8266.c **** 
 236:./Hardware/ESP8266/bsp_esp8266.c **** 
 237:./Hardware/ESP8266/bsp_esp8266.c **** /*
 238:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_Net_Mode_Choose
 239:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：选择WF-ESP8266模块的工作模式
 240:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：enumMode，工作模式
 241:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 1，选择成功
 242:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，选择失败
 243:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 244:./Hardware/ESP8266/bsp_esp8266.c ****  */
 245:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_Net_Mode_Choose ( ENUM_Net_ModeTypeDef enumMode )
 246:./Hardware/ESP8266/bsp_esp8266.c **** {
ARM GAS  /tmp/ccXEZ84N.s 			page 18


 666              		.loc 1 246 1 is_stmt 1 view -0
 667              		.cfi_startproc
 668              		@ args = 0, pretend = 0, frame = 0
 669              		@ frame_needed = 0, uses_anonymous_args = 0
 670              		.loc 1 246 1 is_stmt 0 view .LVU138
 671 0000 08B5     		push	{r3, lr}
 672              	.LCFI13:
 673              		.cfi_def_cfa_offset 8
 674              		.cfi_offset 3, -8
 675              		.cfi_offset 14, -4
 247:./Hardware/ESP8266/bsp_esp8266.c **** 	switch ( enumMode )
 676              		.loc 1 247 2 is_stmt 1 view .LVU139
 677 0002 0128     		cmp	r0, #1
 678 0004 0CD0     		beq	.L44
 679 0006 0228     		cmp	r0, #2
 680 0008 12D0     		beq	.L45
 681 000a 08B1     		cbz	r0, .L49
 682 000c 0020     		movs	r0, #0
 683              	.LVL51:
 684              	.L46:
 248:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 249:./Hardware/ESP8266/bsp_esp8266.c **** 		case STA:
 250:./Hardware/ESP8266/bsp_esp8266.c **** 			return ESP8266_Cmd ( "AT+CWMODE=1", "OK", "no change", 2500 ); 
 251:./Hardware/ESP8266/bsp_esp8266.c **** 		
 252:./Hardware/ESP8266/bsp_esp8266.c **** 	  case AP:
 253:./Hardware/ESP8266/bsp_esp8266.c **** 		  return ESP8266_Cmd ( "AT+CWMODE=2", "OK", "no change", 2500 ); 
 254:./Hardware/ESP8266/bsp_esp8266.c **** 		
 255:./Hardware/ESP8266/bsp_esp8266.c **** 		case STA_AP:
 256:./Hardware/ESP8266/bsp_esp8266.c **** 		  return ESP8266_Cmd ( "AT+CWMODE=3", "OK", "no change", 2500 ); 
 257:./Hardware/ESP8266/bsp_esp8266.c **** 		
 258:./Hardware/ESP8266/bsp_esp8266.c **** 	  default:
 259:./Hardware/ESP8266/bsp_esp8266.c **** 		  return false;
 260:./Hardware/ESP8266/bsp_esp8266.c ****   }
 261:./Hardware/ESP8266/bsp_esp8266.c **** 	
 262:./Hardware/ESP8266/bsp_esp8266.c **** }
 685              		.loc 1 262 1 is_stmt 0 view .LVU140
 686 000e 08BD     		pop	{r3, pc}
 687              	.LVL52:
 688              	.L49:
 250:./Hardware/ESP8266/bsp_esp8266.c **** 		
 689              		.loc 1 250 4 is_stmt 1 view .LVU141
 250:./Hardware/ESP8266/bsp_esp8266.c **** 		
 690              		.loc 1 250 11 is_stmt 0 view .LVU142
 691 0010 40F6C413 		movw	r3, #2500
 692 0014 0A4A     		ldr	r2, .L50
 693 0016 0B49     		ldr	r1, .L50+4
 694 0018 0B48     		ldr	r0, .L50+8
 695              	.LVL53:
 250:./Hardware/ESP8266/bsp_esp8266.c **** 		
 696              		.loc 1 250 11 view .LVU143
 697 001a FFF7FEFF 		bl	ESP8266_Cmd
 698              	.LVL54:
 699 001e F6E7     		b	.L46
 700              	.LVL55:
 701              	.L44:
 253:./Hardware/ESP8266/bsp_esp8266.c **** 		
 702              		.loc 1 253 5 is_stmt 1 view .LVU144
ARM GAS  /tmp/ccXEZ84N.s 			page 19


 253:./Hardware/ESP8266/bsp_esp8266.c **** 		
 703              		.loc 1 253 12 is_stmt 0 view .LVU145
 704 0020 40F6C413 		movw	r3, #2500
 705 0024 064A     		ldr	r2, .L50
 706 0026 0749     		ldr	r1, .L50+4
 707 0028 0848     		ldr	r0, .L50+12
 708              	.LVL56:
 253:./Hardware/ESP8266/bsp_esp8266.c **** 		
 709              		.loc 1 253 12 view .LVU146
 710 002a FFF7FEFF 		bl	ESP8266_Cmd
 711              	.LVL57:
 712 002e EEE7     		b	.L46
 713              	.LVL58:
 714              	.L45:
 256:./Hardware/ESP8266/bsp_esp8266.c **** 		
 715              		.loc 1 256 5 is_stmt 1 view .LVU147
 256:./Hardware/ESP8266/bsp_esp8266.c **** 		
 716              		.loc 1 256 12 is_stmt 0 view .LVU148
 717 0030 40F6C413 		movw	r3, #2500
 718 0034 024A     		ldr	r2, .L50
 719 0036 0349     		ldr	r1, .L50+4
 720 0038 0548     		ldr	r0, .L50+16
 721              	.LVL59:
 256:./Hardware/ESP8266/bsp_esp8266.c **** 		
 722              		.loc 1 256 12 view .LVU149
 723 003a FFF7FEFF 		bl	ESP8266_Cmd
 724              	.LVL60:
 725 003e E6E7     		b	.L46
 726              	.L51:
 727              		.align	2
 728              	.L50:
 729 0040 00000000 		.word	.LC7
 730 0044 38000000 		.word	.LC4
 731 0048 0C000000 		.word	.LC8
 732 004c 18000000 		.word	.LC9
 733 0050 24000000 		.word	.LC10
 734              		.cfi_endproc
 735              	.LFE39:
 737              		.section	.rodata.ESP8266_JoinAP.str1.4,"aMS",%progbits,1
 738              		.align	2
 739              	.LC11:
 740 0000 41542B43 		.ascii	"AT+CWJAP=\"%s\",\"%s\"\000"
 740      574A4150 
 740      3D222573 
 740      222C2225 
 740      732200
 741              		.section	.text.ESP8266_JoinAP,"ax",%progbits
 742              		.align	1
 743              		.global	ESP8266_JoinAP
 744              		.syntax unified
 745              		.thumb
 746              		.thumb_func
 747              		.fpu softvfp
 749              	ESP8266_JoinAP:
 750              	.LVL61:
 751              	.LFB40:
 263:./Hardware/ESP8266/bsp_esp8266.c **** 
ARM GAS  /tmp/ccXEZ84N.s 			page 20


 264:./Hardware/ESP8266/bsp_esp8266.c **** 
 265:./Hardware/ESP8266/bsp_esp8266.c **** /*
 266:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_JoinAP
 267:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：WF-ESP8266模块连接外部WiFi
 268:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：pSSID，WiFi名称字符串
 269:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：pPassWord，WiFi密码字符串
 270:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 1，连接成功
 271:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，连接失败
 272:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 273:./Hardware/ESP8266/bsp_esp8266.c ****  */
 274:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_JoinAP ( char * pSSID, char * pPassWord )
 275:./Hardware/ESP8266/bsp_esp8266.c **** {
 752              		.loc 1 275 1 is_stmt 1 view -0
 753              		.cfi_startproc
 754              		@ args = 0, pretend = 0, frame = 120
 755              		@ frame_needed = 0, uses_anonymous_args = 0
 756              		.loc 1 275 1 is_stmt 0 view .LVU151
 757 0000 00B5     		push	{lr}
 758              	.LCFI14:
 759              		.cfi_def_cfa_offset 4
 760              		.cfi_offset 14, -4
 761 0002 9FB0     		sub	sp, sp, #124
 762              	.LCFI15:
 763              		.cfi_def_cfa_offset 128
 764 0004 0246     		mov	r2, r0
 765 0006 0B46     		mov	r3, r1
 276:./Hardware/ESP8266/bsp_esp8266.c **** 	char cCmd [120];
 766              		.loc 1 276 2 is_stmt 1 view .LVU152
 277:./Hardware/ESP8266/bsp_esp8266.c **** 
 278:./Hardware/ESP8266/bsp_esp8266.c **** 	sprintf ( cCmd, "AT+CWJAP=\"%s\",\"%s\"", pSSID, pPassWord );
 767              		.loc 1 278 2 view .LVU153
 768 0008 0649     		ldr	r1, .L54
 769              	.LVL62:
 770              		.loc 1 278 2 is_stmt 0 view .LVU154
 771 000a 6846     		mov	r0, sp
 772              	.LVL63:
 773              		.loc 1 278 2 view .LVU155
 774 000c FFF7FEFF 		bl	sprintf
 775              	.LVL64:
 279:./Hardware/ESP8266/bsp_esp8266.c **** 	
 280:./Hardware/ESP8266/bsp_esp8266.c **** 	return ESP8266_Cmd ( cCmd, "OK", NULL, 5000 );
 776              		.loc 1 280 2 is_stmt 1 view .LVU156
 777              		.loc 1 280 9 is_stmt 0 view .LVU157
 778 0010 41F28833 		movw	r3, #5000
 779 0014 0022     		movs	r2, #0
 780 0016 0449     		ldr	r1, .L54+4
 781 0018 6846     		mov	r0, sp
 782 001a FFF7FEFF 		bl	ESP8266_Cmd
 783              	.LVL65:
 281:./Hardware/ESP8266/bsp_esp8266.c **** 	
 282:./Hardware/ESP8266/bsp_esp8266.c **** }
 784              		.loc 1 282 1 view .LVU158
 785 001e 1FB0     		add	sp, sp, #124
 786              	.LCFI16:
 787              		.cfi_def_cfa_offset 4
 788              		@ sp needed
 789 0020 5DF804FB 		ldr	pc, [sp], #4
ARM GAS  /tmp/ccXEZ84N.s 			page 21


 790              	.L55:
 791              		.align	2
 792              	.L54:
 793 0024 00000000 		.word	.LC11
 794 0028 38000000 		.word	.LC4
 795              		.cfi_endproc
 796              	.LFE40:
 798              		.section	.rodata.ESP8266_BuildAP.str1.4,"aMS",%progbits,1
 799              		.align	2
 800              	.LC12:
 801 0000 41542B43 		.ascii	"AT+CWSAP=\"%s\",\"%s\",1,%d\000"
 801      57534150 
 801      3D222573 
 801      222C2225 
 801      73222C31 
 802              		.section	.text.ESP8266_BuildAP,"ax",%progbits
 803              		.align	1
 804              		.global	ESP8266_BuildAP
 805              		.syntax unified
 806              		.thumb
 807              		.thumb_func
 808              		.fpu softvfp
 810              	ESP8266_BuildAP:
 811              	.LVL66:
 812              	.LFB41:
 283:./Hardware/ESP8266/bsp_esp8266.c **** 
 284:./Hardware/ESP8266/bsp_esp8266.c **** 
 285:./Hardware/ESP8266/bsp_esp8266.c **** /*
 286:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_BuildAP
 287:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：WF-ESP8266模块创建WiFi热点
 288:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：pSSID，WiFi名称字符串
 289:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：pPassWord，WiFi密码字符串
 290:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：enunPsdMode，WiFi加密方式代号字符串
 291:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 1，创建成功
 292:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，创建失败
 293:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 294:./Hardware/ESP8266/bsp_esp8266.c ****  */
 295:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_BuildAP ( char * pSSID, char * pPassWord, ENUM_AP_PsdMode_TypeDef enunPsdMode )
 296:./Hardware/ESP8266/bsp_esp8266.c **** {
 813              		.loc 1 296 1 is_stmt 1 view -0
 814              		.cfi_startproc
 815              		@ args = 0, pretend = 0, frame = 120
 816              		@ frame_needed = 0, uses_anonymous_args = 0
 817              		.loc 1 296 1 is_stmt 0 view .LVU160
 818 0000 00B5     		push	{lr}
 819              	.LCFI17:
 820              		.cfi_def_cfa_offset 4
 821              		.cfi_offset 14, -4
 822 0002 A1B0     		sub	sp, sp, #132
 823              	.LCFI18:
 824              		.cfi_def_cfa_offset 136
 825 0004 0B46     		mov	r3, r1
 297:./Hardware/ESP8266/bsp_esp8266.c **** 	char cCmd [120];
 826              		.loc 1 297 2 is_stmt 1 view .LVU161
 298:./Hardware/ESP8266/bsp_esp8266.c **** 
 299:./Hardware/ESP8266/bsp_esp8266.c **** 	sprintf ( cCmd, "AT+CWSAP=\"%s\",\"%s\",1,%d", pSSID, pPassWord, enunPsdMode );
 827              		.loc 1 299 2 view .LVU162
ARM GAS  /tmp/ccXEZ84N.s 			page 22


 828 0006 0092     		str	r2, [sp]
 829 0008 0246     		mov	r2, r0
 830              	.LVL67:
 831              		.loc 1 299 2 is_stmt 0 view .LVU163
 832 000a 0749     		ldr	r1, .L58
 833              	.LVL68:
 834              		.loc 1 299 2 view .LVU164
 835 000c 02A8     		add	r0, sp, #8
 836              	.LVL69:
 837              		.loc 1 299 2 view .LVU165
 838 000e FFF7FEFF 		bl	sprintf
 839              	.LVL70:
 300:./Hardware/ESP8266/bsp_esp8266.c **** 	
 301:./Hardware/ESP8266/bsp_esp8266.c **** 	return ESP8266_Cmd ( cCmd, "OK", 0, 1000 );
 840              		.loc 1 301 2 is_stmt 1 view .LVU166
 841              		.loc 1 301 9 is_stmt 0 view .LVU167
 842 0012 4FF47A73 		mov	r3, #1000
 843 0016 0022     		movs	r2, #0
 844 0018 0449     		ldr	r1, .L58+4
 845 001a 02A8     		add	r0, sp, #8
 846 001c FFF7FEFF 		bl	ESP8266_Cmd
 847              	.LVL71:
 302:./Hardware/ESP8266/bsp_esp8266.c **** 	
 303:./Hardware/ESP8266/bsp_esp8266.c **** }
 848              		.loc 1 303 1 view .LVU168
 849 0020 21B0     		add	sp, sp, #132
 850              	.LCFI19:
 851              		.cfi_def_cfa_offset 4
 852              		@ sp needed
 853 0022 5DF804FB 		ldr	pc, [sp], #4
 854              	.L59:
 855 0026 00BF     		.align	2
 856              	.L58:
 857 0028 00000000 		.word	.LC12
 858 002c 38000000 		.word	.LC4
 859              		.cfi_endproc
 860              	.LFE41:
 862              		.section	.rodata.ESP8266_Enable_MultipleId.str1.4,"aMS",%progbits,1
 863              		.align	2
 864              	.LC13:
 865 0000 41542B43 		.ascii	"AT+CIPMUX=%d\000"
 865      49504D55 
 865      583D2564 
 865      00
 866              		.section	.text.ESP8266_Enable_MultipleId,"ax",%progbits
 867              		.align	1
 868              		.global	ESP8266_Enable_MultipleId
 869              		.syntax unified
 870              		.thumb
 871              		.thumb_func
 872              		.fpu softvfp
 874              	ESP8266_Enable_MultipleId:
 875              	.LVL72:
 876              	.LFB42:
 304:./Hardware/ESP8266/bsp_esp8266.c **** 
 305:./Hardware/ESP8266/bsp_esp8266.c **** 
 306:./Hardware/ESP8266/bsp_esp8266.c **** /*
ARM GAS  /tmp/ccXEZ84N.s 			page 23


 307:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_Enable_MultipleId
 308:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：WF-ESP8266模块启动多连接
 309:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：enumEnUnvarnishTx，配置是否多连接
 310:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 1，配置成功
 311:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，配置失败
 312:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 313:./Hardware/ESP8266/bsp_esp8266.c ****  */
 314:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_Enable_MultipleId ( FunctionalState enumEnUnvarnishTx )
 315:./Hardware/ESP8266/bsp_esp8266.c **** {
 877              		.loc 1 315 1 is_stmt 1 view -0
 878              		.cfi_startproc
 879              		@ args = 0, pretend = 0, frame = 24
 880              		@ frame_needed = 0, uses_anonymous_args = 0
 881              		.loc 1 315 1 is_stmt 0 view .LVU170
 882 0000 00B5     		push	{lr}
 883              	.LCFI20:
 884              		.cfi_def_cfa_offset 4
 885              		.cfi_offset 14, -4
 886 0002 87B0     		sub	sp, sp, #28
 887              	.LCFI21:
 888              		.cfi_def_cfa_offset 32
 316:./Hardware/ESP8266/bsp_esp8266.c **** 	char cStr [20];
 889              		.loc 1 316 2 is_stmt 1 view .LVU171
 317:./Hardware/ESP8266/bsp_esp8266.c **** 	
 318:./Hardware/ESP8266/bsp_esp8266.c **** 	sprintf ( cStr, "AT+CIPMUX=%d", ( enumEnUnvarnishTx ? 1 : 0 ) );
 890              		.loc 1 318 2 view .LVU172
 891 0004 021E     		subs	r2, r0, #0
 892 0006 18BF     		it	ne
 893 0008 0122     		movne	r2, #1
 894 000a 0749     		ldr	r1, .L62
 895 000c 01A8     		add	r0, sp, #4
 896              	.LVL73:
 897              		.loc 1 318 2 is_stmt 0 view .LVU173
 898 000e FFF7FEFF 		bl	sprintf
 899              	.LVL74:
 319:./Hardware/ESP8266/bsp_esp8266.c **** 	
 320:./Hardware/ESP8266/bsp_esp8266.c **** 	return ESP8266_Cmd ( cStr, "OK", 0, 500 );
 900              		.loc 1 320 2 is_stmt 1 view .LVU174
 901              		.loc 1 320 9 is_stmt 0 view .LVU175
 902 0012 4FF4FA73 		mov	r3, #500
 903 0016 0022     		movs	r2, #0
 904 0018 0449     		ldr	r1, .L62+4
 905 001a 01A8     		add	r0, sp, #4
 906 001c FFF7FEFF 		bl	ESP8266_Cmd
 907              	.LVL75:
 321:./Hardware/ESP8266/bsp_esp8266.c **** 	
 322:./Hardware/ESP8266/bsp_esp8266.c **** }
 908              		.loc 1 322 1 view .LVU176
 909 0020 07B0     		add	sp, sp, #28
 910              	.LCFI22:
 911              		.cfi_def_cfa_offset 4
 912              		@ sp needed
 913 0022 5DF804FB 		ldr	pc, [sp], #4
 914              	.L63:
 915 0026 00BF     		.align	2
 916              	.L62:
 917 0028 00000000 		.word	.LC13
ARM GAS  /tmp/ccXEZ84N.s 			page 24


 918 002c 38000000 		.word	.LC4
 919              		.cfi_endproc
 920              	.LFE42:
 922              		.section	.rodata.ESP8266_Link_Server.str1.4,"aMS",%progbits,1
 923              		.align	2
 924              	.LC14:
 925 0000 54435000 		.ascii	"TCP\000"
 926              		.align	2
 927              	.LC15:
 928 0004 22257322 		.ascii	"\"%s\",\"%s\",%s\000"
 928      2C222573 
 928      222C2573 
 928      00
 929 0011 000000   		.align	2
 930              	.LC16:
 931 0014 55445000 		.ascii	"UDP\000"
 932              		.align	2
 933              	.LC17:
 934 0018 41542B43 		.ascii	"AT+CIPSTART=%d,%s\000"
 934      49505354 
 934      4152543D 
 934      25642C25 
 934      7300
 935 002a 0000     		.align	2
 936              	.LC18:
 937 002c 41542B43 		.ascii	"AT+CIPSTART=%s\000"
 937      49505354 
 937      4152543D 
 937      257300
 938 003b 00       		.align	2
 939              	.LC19:
 940 003c 414C5245 		.ascii	"ALREAY CONNECT\000"
 940      41592043 
 940      4F4E4E45 
 940      435400
 941              		.section	.text.ESP8266_Link_Server,"ax",%progbits
 942              		.align	1
 943              		.global	ESP8266_Link_Server
 944              		.syntax unified
 945              		.thumb
 946              		.thumb_func
 947              		.fpu softvfp
 949              	ESP8266_Link_Server:
 950              	.LVL76:
 951              	.LFB43:
 323:./Hardware/ESP8266/bsp_esp8266.c **** 
 324:./Hardware/ESP8266/bsp_esp8266.c **** 
 325:./Hardware/ESP8266/bsp_esp8266.c **** /*
 326:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_Link_Server
 327:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：WF-ESP8266模块连接外部服务器
 328:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：enumE，网络协议
 329:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：ip，服务器IP字符串
 330:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：ComNum，服务器端口字符串
 331:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：id，模块连接服务器的ID
 332:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 1，连接成功
 333:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，连接失败
 334:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
ARM GAS  /tmp/ccXEZ84N.s 			page 25


 335:./Hardware/ESP8266/bsp_esp8266.c ****  */
 336:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_Link_Server ( ENUM_NetPro_TypeDef enumE, char * ip, char * ComNum, ENUM_ID_NO_TypeDef 
 337:./Hardware/ESP8266/bsp_esp8266.c **** {
 952              		.loc 1 337 1 is_stmt 1 view -0
 953              		.cfi_startproc
 954              		@ args = 0, pretend = 0, frame = 224
 955              		@ frame_needed = 0, uses_anonymous_args = 0
 956              		.loc 1 337 1 is_stmt 0 view .LVU178
 957 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 958              	.LCFI23:
 959              		.cfi_def_cfa_offset 20
 960              		.cfi_offset 4, -20
 961              		.cfi_offset 5, -16
 962              		.cfi_offset 6, -12
 963              		.cfi_offset 7, -8
 964              		.cfi_offset 14, -4
 965 0002 BBB0     		sub	sp, sp, #236
 966              	.LCFI24:
 967              		.cfi_def_cfa_offset 256
 968 0004 0446     		mov	r4, r0
 969 0006 0E46     		mov	r6, r1
 970 0008 1746     		mov	r7, r2
 971 000a 1D46     		mov	r5, r3
 338:./Hardware/ESP8266/bsp_esp8266.c **** 	char cStr [100] = { 0 }, cCmd [120];
 972              		.loc 1 338 2 is_stmt 1 view .LVU179
 973              		.loc 1 338 7 is_stmt 0 view .LVU180
 974 000c 0021     		movs	r1, #0
 975              	.LVL77:
 976              		.loc 1 338 7 view .LVU181
 977 000e 2191     		str	r1, [sp, #132]
 978 0010 6022     		movs	r2, #96
 979              	.LVL78:
 980              		.loc 1 338 7 view .LVU182
 981 0012 22A8     		add	r0, sp, #136
 982              	.LVL79:
 983              		.loc 1 338 7 view .LVU183
 984 0014 FFF7FEFF 		bl	memset
 985              	.LVL80:
 339:./Hardware/ESP8266/bsp_esp8266.c **** 
 340:./Hardware/ESP8266/bsp_esp8266.c ****   switch (  enumE )
 986              		.loc 1 340 3 is_stmt 1 view .LVU184
 987 0018 94B1     		cbz	r4, .L65
 988 001a 012C     		cmp	r4, #1
 989 001c 18D0     		beq	.L66
 990              	.L67:
 341:./Hardware/ESP8266/bsp_esp8266.c ****   {
 342:./Hardware/ESP8266/bsp_esp8266.c **** 		case enumTCP:
 343:./Hardware/ESP8266/bsp_esp8266.c **** 		  sprintf ( cStr, "\"%s\",\"%s\",%s", "TCP", ip, ComNum );
 344:./Hardware/ESP8266/bsp_esp8266.c **** 		  break;
 345:./Hardware/ESP8266/bsp_esp8266.c **** 		
 346:./Hardware/ESP8266/bsp_esp8266.c **** 		case enumUDP:
 347:./Hardware/ESP8266/bsp_esp8266.c **** 		  sprintf ( cStr, "\"%s\",\"%s\",%s", "UDP", ip, ComNum );
 348:./Hardware/ESP8266/bsp_esp8266.c **** 		  break;
 349:./Hardware/ESP8266/bsp_esp8266.c **** 		
 350:./Hardware/ESP8266/bsp_esp8266.c **** 		default:
 351:./Hardware/ESP8266/bsp_esp8266.c **** 			break;
 352:./Hardware/ESP8266/bsp_esp8266.c ****   }
ARM GAS  /tmp/ccXEZ84N.s 			page 26


 353:./Hardware/ESP8266/bsp_esp8266.c **** 
 354:./Hardware/ESP8266/bsp_esp8266.c ****   if ( id < 5 )
 991              		.loc 1 354 3 view .LVU185
 992              		.loc 1 354 6 is_stmt 0 view .LVU186
 993 001e 042D     		cmp	r5, #4
 994 0020 1ED8     		bhi	.L68
 355:./Hardware/ESP8266/bsp_esp8266.c ****     sprintf ( cCmd, "AT+CIPSTART=%d,%s", id, cStr);
 995              		.loc 1 355 5 is_stmt 1 view .LVU187
 996 0022 21AB     		add	r3, sp, #132
 997 0024 2A46     		mov	r2, r5
 998 0026 1149     		ldr	r1, .L71
 999 0028 03A8     		add	r0, sp, #12
 1000 002a FFF7FEFF 		bl	sprintf
 1001              	.LVL81:
 1002              	.L69:
 356:./Hardware/ESP8266/bsp_esp8266.c **** 
 357:./Hardware/ESP8266/bsp_esp8266.c ****   else
 358:./Hardware/ESP8266/bsp_esp8266.c **** 	  sprintf ( cCmd, "AT+CIPSTART=%s", cStr );
 359:./Hardware/ESP8266/bsp_esp8266.c **** 
 360:./Hardware/ESP8266/bsp_esp8266.c **** 	return ESP8266_Cmd ( cCmd, "OK", "ALREAY CONNECT", 4000 );
 1003              		.loc 1 360 2 view .LVU188
 1004              		.loc 1 360 9 is_stmt 0 view .LVU189
 1005 002e 4FF47A63 		mov	r3, #4000
 1006 0032 0F4A     		ldr	r2, .L71+4
 1007 0034 0F49     		ldr	r1, .L71+8
 1008 0036 03A8     		add	r0, sp, #12
 1009 0038 FFF7FEFF 		bl	ESP8266_Cmd
 1010              	.LVL82:
 361:./Hardware/ESP8266/bsp_esp8266.c **** 	
 362:./Hardware/ESP8266/bsp_esp8266.c **** }
 1011              		.loc 1 362 1 view .LVU190
 1012 003c 3BB0     		add	sp, sp, #236
 1013              	.LCFI25:
 1014              		.cfi_remember_state
 1015              		.cfi_def_cfa_offset 20
 1016              		@ sp needed
 1017 003e F0BD     		pop	{r4, r5, r6, r7, pc}
 1018              	.LVL83:
 1019              	.L65:
 1020              	.LCFI26:
 1021              		.cfi_restore_state
 343:./Hardware/ESP8266/bsp_esp8266.c **** 		  break;
 1022              		.loc 1 343 5 is_stmt 1 view .LVU191
 1023 0040 0097     		str	r7, [sp]
 1024 0042 3346     		mov	r3, r6
 1025 0044 0C4A     		ldr	r2, .L71+12
 1026 0046 0D49     		ldr	r1, .L71+16
 1027 0048 21A8     		add	r0, sp, #132
 1028 004a FFF7FEFF 		bl	sprintf
 1029              	.LVL84:
 344:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1030              		.loc 1 344 5 view .LVU192
 1031 004e E6E7     		b	.L67
 1032              	.L66:
 347:./Hardware/ESP8266/bsp_esp8266.c **** 		  break;
 1033              		.loc 1 347 5 view .LVU193
 1034 0050 0097     		str	r7, [sp]
ARM GAS  /tmp/ccXEZ84N.s 			page 27


 1035 0052 3346     		mov	r3, r6
 1036 0054 0A4A     		ldr	r2, .L71+20
 1037 0056 0949     		ldr	r1, .L71+16
 1038 0058 21A8     		add	r0, sp, #132
 1039 005a FFF7FEFF 		bl	sprintf
 1040              	.LVL85:
 348:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1041              		.loc 1 348 5 view .LVU194
 1042 005e DEE7     		b	.L67
 1043              	.L68:
 358:./Hardware/ESP8266/bsp_esp8266.c **** 
 1044              		.loc 1 358 4 view .LVU195
 1045 0060 21AA     		add	r2, sp, #132
 1046 0062 0849     		ldr	r1, .L71+24
 1047 0064 03A8     		add	r0, sp, #12
 1048 0066 FFF7FEFF 		bl	sprintf
 1049              	.LVL86:
 1050 006a E0E7     		b	.L69
 1051              	.L72:
 1052              		.align	2
 1053              	.L71:
 1054 006c 18000000 		.word	.LC17
 1055 0070 3C000000 		.word	.LC19
 1056 0074 38000000 		.word	.LC4
 1057 0078 00000000 		.word	.LC14
 1058 007c 04000000 		.word	.LC15
 1059 0080 14000000 		.word	.LC16
 1060 0084 2C000000 		.word	.LC18
 1061              		.cfi_endproc
 1062              	.LFE43:
 1064              		.section	.rodata.ESP8266_StartOrShutServer.str1.4,"aMS",%progbits,1
 1065              		.align	2
 1066              	.LC20:
 1067 0000 41542B43 		.ascii	"AT+CIPSERVER=%d,%s\000"
 1067      49505345 
 1067      52564552 
 1067      3D25642C 
 1067      257300
 1068 0013 00       		.align	2
 1069              	.LC21:
 1070 0014 41542B43 		.ascii	"AT+CIPSTO=%s\000"
 1070      49505354 
 1070      4F3D2573 
 1070      00
 1071              		.section	.text.ESP8266_StartOrShutServer,"ax",%progbits
 1072              		.align	1
 1073              		.global	ESP8266_StartOrShutServer
 1074              		.syntax unified
 1075              		.thumb
 1076              		.thumb_func
 1077              		.fpu softvfp
 1079              	ESP8266_StartOrShutServer:
 1080              	.LVL87:
 1081              	.LFB44:
 363:./Hardware/ESP8266/bsp_esp8266.c **** 
 364:./Hardware/ESP8266/bsp_esp8266.c **** 
 365:./Hardware/ESP8266/bsp_esp8266.c **** /*
ARM GAS  /tmp/ccXEZ84N.s 			page 28


 366:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_StartOrShutServer
 367:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：WF-ESP8266模块开启或关闭服务器模式
 368:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：enumMode，开启/关闭
 369:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：pPortNum，服务器端口号字符串
 370:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：pTimeOver，服务器超时时间字符串，单位：秒
 371:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 1，操作成功
 372:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，操作失败
 373:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 374:./Hardware/ESP8266/bsp_esp8266.c ****  */
 375:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_StartOrShutServer ( FunctionalState enumMode, char * pPortNum, char * pTimeOver )
 376:./Hardware/ESP8266/bsp_esp8266.c **** {
 1082              		.loc 1 376 1 view -0
 1083              		.cfi_startproc
 1084              		@ args = 0, pretend = 0, frame = 240
 1085              		@ frame_needed = 0, uses_anonymous_args = 0
 1086              		.loc 1 376 1 is_stmt 0 view .LVU197
 1087 0000 10B5     		push	{r4, lr}
 1088              	.LCFI27:
 1089              		.cfi_def_cfa_offset 8
 1090              		.cfi_offset 4, -8
 1091              		.cfi_offset 14, -4
 1092 0002 BCB0     		sub	sp, sp, #240
 1093              	.LCFI28:
 1094              		.cfi_def_cfa_offset 248
 1095 0004 0B46     		mov	r3, r1
 377:./Hardware/ESP8266/bsp_esp8266.c **** 	char cCmd1 [120], cCmd2 [120];
 1096              		.loc 1 377 2 is_stmt 1 view .LVU198
 378:./Hardware/ESP8266/bsp_esp8266.c **** 
 379:./Hardware/ESP8266/bsp_esp8266.c **** 	if ( enumMode )
 1097              		.loc 1 379 2 view .LVU199
 1098              		.loc 1 379 5 is_stmt 0 view .LVU200
 1099 0006 00B3     		cbz	r0, .L74
 1100 0008 1446     		mov	r4, r2
 380:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 381:./Hardware/ESP8266/bsp_esp8266.c **** 		sprintf ( cCmd1, "AT+CIPSERVER=%d,%s", 1, pPortNum );
 1101              		.loc 1 381 3 is_stmt 1 view .LVU201
 1102 000a 0122     		movs	r2, #1
 1103              	.LVL88:
 1104              		.loc 1 381 3 is_stmt 0 view .LVU202
 1105 000c 1649     		ldr	r1, .L81
 1106              	.LVL89:
 1107              		.loc 1 381 3 view .LVU203
 1108 000e 1EA8     		add	r0, sp, #120
 1109              	.LVL90:
 1110              		.loc 1 381 3 view .LVU204
 1111 0010 FFF7FEFF 		bl	sprintf
 1112              	.LVL91:
 382:./Hardware/ESP8266/bsp_esp8266.c **** 		
 383:./Hardware/ESP8266/bsp_esp8266.c **** 		sprintf ( cCmd2, "AT+CIPSTO=%s", pTimeOver );
 1113              		.loc 1 383 3 is_stmt 1 view .LVU205
 1114 0014 2246     		mov	r2, r4
 1115 0016 1549     		ldr	r1, .L81+4
 1116 0018 6846     		mov	r0, sp
 1117 001a FFF7FEFF 		bl	sprintf
 1118              	.LVL92:
 384:./Hardware/ESP8266/bsp_esp8266.c **** 
 385:./Hardware/ESP8266/bsp_esp8266.c **** 		return ( ESP8266_Cmd ( cCmd1, "OK", 0, 500 ) &&
ARM GAS  /tmp/ccXEZ84N.s 			page 29


 1119              		.loc 1 385 3 view .LVU206
 1120              		.loc 1 385 12 is_stmt 0 view .LVU207
 1121 001e 4FF4FA73 		mov	r3, #500
 1122 0022 0022     		movs	r2, #0
 1123 0024 1249     		ldr	r1, .L81+8
 1124 0026 1EA8     		add	r0, sp, #120
 1125 0028 FFF7FEFF 		bl	ESP8266_Cmd
 1126              	.LVL93:
 1127              		.loc 1 385 48 view .LVU208
 1128 002c 08B9     		cbnz	r0, .L80
 1129 002e 0020     		movs	r0, #0
 1130 0030 17E0     		b	.L76
 1131              	.L80:
 386:./Hardware/ESP8266/bsp_esp8266.c **** 						 ESP8266_Cmd ( cCmd2, "OK", 0, 500 ) );
 1132              		.loc 1 386 8 discriminator 1 view .LVU209
 1133 0032 4FF4FA73 		mov	r3, #500
 1134 0036 0022     		movs	r2, #0
 1135 0038 0D49     		ldr	r1, .L81+8
 1136 003a 6846     		mov	r0, sp
 1137 003c FFF7FEFF 		bl	ESP8266_Cmd
 1138              	.LVL94:
 385:./Hardware/ESP8266/bsp_esp8266.c **** 						 ESP8266_Cmd ( cCmd2, "OK", 0, 500 ) );
 1139              		.loc 1 385 48 discriminator 1 view .LVU210
 1140 0040 08B1     		cbz	r0, .L78
 385:./Hardware/ESP8266/bsp_esp8266.c **** 						 ESP8266_Cmd ( cCmd2, "OK", 0, 500 ) );
 1141              		.loc 1 385 48 view .LVU211
 1142 0042 0120     		movs	r0, #1
 1143 0044 0DE0     		b	.L76
 1144              	.L78:
 1145 0046 0020     		movs	r0, #0
 1146 0048 0BE0     		b	.L76
 1147              	.LVL95:
 1148              	.L74:
 387:./Hardware/ESP8266/bsp_esp8266.c **** 	}
 388:./Hardware/ESP8266/bsp_esp8266.c **** 	
 389:./Hardware/ESP8266/bsp_esp8266.c **** 	else
 390:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 391:./Hardware/ESP8266/bsp_esp8266.c **** 		sprintf ( cCmd1, "AT+CIPSERVER=%d,%s", 0, pPortNum );
 1149              		.loc 1 391 3 is_stmt 1 view .LVU212
 1150 004a 0022     		movs	r2, #0
 1151              	.LVL96:
 1152              		.loc 1 391 3 is_stmt 0 view .LVU213
 1153 004c 0649     		ldr	r1, .L81
 1154              	.LVL97:
 1155              		.loc 1 391 3 view .LVU214
 1156 004e 1EA8     		add	r0, sp, #120
 1157              	.LVL98:
 1158              		.loc 1 391 3 view .LVU215
 1159 0050 FFF7FEFF 		bl	sprintf
 1160              	.LVL99:
 392:./Hardware/ESP8266/bsp_esp8266.c **** 
 393:./Hardware/ESP8266/bsp_esp8266.c **** 		return ESP8266_Cmd ( cCmd1, "OK", 0, 500 );
 1161              		.loc 1 393 3 is_stmt 1 view .LVU216
 1162              		.loc 1 393 10 is_stmt 0 view .LVU217
 1163 0054 4FF4FA73 		mov	r3, #500
 1164 0058 0022     		movs	r2, #0
 1165 005a 0549     		ldr	r1, .L81+8
ARM GAS  /tmp/ccXEZ84N.s 			page 30


 1166 005c 1EA8     		add	r0, sp, #120
 1167 005e FFF7FEFF 		bl	ESP8266_Cmd
 1168              	.LVL100:
 1169              	.L76:
 394:./Hardware/ESP8266/bsp_esp8266.c **** 	}
 395:./Hardware/ESP8266/bsp_esp8266.c **** 	
 396:./Hardware/ESP8266/bsp_esp8266.c **** }
 1170              		.loc 1 396 1 view .LVU218
 1171 0062 3CB0     		add	sp, sp, #240
 1172              	.LCFI29:
 1173              		.cfi_def_cfa_offset 8
 1174              		@ sp needed
 1175 0064 10BD     		pop	{r4, pc}
 1176              	.L82:
 1177 0066 00BF     		.align	2
 1178              	.L81:
 1179 0068 00000000 		.word	.LC20
 1180 006c 14000000 		.word	.LC21
 1181 0070 38000000 		.word	.LC4
 1182              		.cfi_endproc
 1183              	.LFE44:
 1185              		.section	.rodata.ESP8266_Get_LinkStatus.str1.4,"aMS",%progbits,1
 1186              		.align	2
 1187              	.LC22:
 1188 0000 41542B43 		.ascii	"AT+CIPSTATUS\000"
 1188      49505354 
 1188      41545553 
 1188      00
 1189 000d 000000   		.align	2
 1190              	.LC23:
 1191 0010 53544154 		.ascii	"STATUS:2\015\012\000"
 1191      55533A32 
 1191      0D0A00
 1192 001b 00       		.align	2
 1193              	.LC24:
 1194 001c 53544154 		.ascii	"STATUS:3\015\012\000"
 1194      55533A33 
 1194      0D0A00
 1195 0027 00       		.align	2
 1196              	.LC25:
 1197 0028 53544154 		.ascii	"STATUS:4\015\012\000"
 1197      55533A34 
 1197      0D0A00
 1198              		.section	.text.ESP8266_Get_LinkStatus,"ax",%progbits
 1199              		.align	1
 1200              		.global	ESP8266_Get_LinkStatus
 1201              		.syntax unified
 1202              		.thumb
 1203              		.thumb_func
 1204              		.fpu softvfp
 1206              	ESP8266_Get_LinkStatus:
 1207              	.LFB45:
 397:./Hardware/ESP8266/bsp_esp8266.c **** 
 398:./Hardware/ESP8266/bsp_esp8266.c **** 
 399:./Hardware/ESP8266/bsp_esp8266.c **** /*
 400:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_Get_LinkStatus
 401:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：获取 WF-ESP8266 的连接状态，较适合单端口时使用
ARM GAS  /tmp/ccXEZ84N.s 			page 31


 402:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：无
 403:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 2，获得ip
 404:./Hardware/ESP8266/bsp_esp8266.c ****  *         3，建立连接
 405:./Hardware/ESP8266/bsp_esp8266.c ****  *         3，失去连接
 406:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，获取状态失败
 407:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 408:./Hardware/ESP8266/bsp_esp8266.c ****  */
 409:./Hardware/ESP8266/bsp_esp8266.c **** uint8_t ESP8266_Get_LinkStatus ( void )
 410:./Hardware/ESP8266/bsp_esp8266.c **** {
 1208              		.loc 1 410 1 is_stmt 1 view -0
 1209              		.cfi_startproc
 1210              		@ args = 0, pretend = 0, frame = 0
 1211              		@ frame_needed = 0, uses_anonymous_args = 0
 1212 0000 08B5     		push	{r3, lr}
 1213              	.LCFI30:
 1214              		.cfi_def_cfa_offset 8
 1215              		.cfi_offset 3, -8
 1216              		.cfi_offset 14, -4
 411:./Hardware/ESP8266/bsp_esp8266.c **** 	if ( ESP8266_Cmd ( "AT+CIPSTATUS", "OK", 0, 500 ) )
 1217              		.loc 1 411 2 view .LVU220
 1218              		.loc 1 411 7 is_stmt 0 view .LVU221
 1219 0002 4FF4FA73 		mov	r3, #500
 1220 0006 0022     		movs	r2, #0
 1221 0008 0D49     		ldr	r1, .L90
 1222 000a 0E48     		ldr	r0, .L90+4
 1223 000c FFF7FEFF 		bl	ESP8266_Cmd
 1224              	.LVL101:
 1225              		.loc 1 411 5 view .LVU222
 1226 0010 80B1     		cbz	r0, .L85
 412:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 413:./Hardware/ESP8266/bsp_esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "STATUS:2\r\n" ) )
 1227              		.loc 1 413 3 is_stmt 1 view .LVU223
 1228              		.loc 1 413 8 is_stmt 0 view .LVU224
 1229 0012 0D49     		ldr	r1, .L90+8
 1230 0014 0D48     		ldr	r0, .L90+12
 1231 0016 FFF7FEFF 		bl	strstr
 1232              	.LVL102:
 1233              		.loc 1 413 6 view .LVU225
 1234 001a 68B9     		cbnz	r0, .L86
 414:./Hardware/ESP8266/bsp_esp8266.c **** 			return 2;
 415:./Hardware/ESP8266/bsp_esp8266.c **** 		
 416:./Hardware/ESP8266/bsp_esp8266.c **** 		else if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "STATUS:3\r\n" ) )
 1235              		.loc 1 416 8 is_stmt 1 view .LVU226
 1236              		.loc 1 416 13 is_stmt 0 view .LVU227
 1237 001c 0C49     		ldr	r1, .L90+16
 1238 001e 0B48     		ldr	r0, .L90+12
 1239 0020 FFF7FEFF 		bl	strstr
 1240              	.LVL103:
 1241              		.loc 1 416 11 view .LVU228
 1242 0024 50B9     		cbnz	r0, .L87
 417:./Hardware/ESP8266/bsp_esp8266.c **** 			return 3;
 418:./Hardware/ESP8266/bsp_esp8266.c **** 		
 419:./Hardware/ESP8266/bsp_esp8266.c **** 		else if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "STATUS:4\r\n" ) )
 1243              		.loc 1 419 8 is_stmt 1 view .LVU229
 1244              		.loc 1 419 13 is_stmt 0 view .LVU230
 1245 0026 0B49     		ldr	r1, .L90+20
 1246 0028 0848     		ldr	r0, .L90+12
ARM GAS  /tmp/ccXEZ84N.s 			page 32


 1247 002a FFF7FEFF 		bl	strstr
 1248              	.LVL104:
 1249              		.loc 1 419 11 view .LVU231
 1250 002e 10B1     		cbz	r0, .L84
 420:./Hardware/ESP8266/bsp_esp8266.c **** 			return 4;		
 1251              		.loc 1 420 11 view .LVU232
 1252 0030 0420     		movs	r0, #4
 1253 0032 00E0     		b	.L84
 1254              	.L85:
 421:./Hardware/ESP8266/bsp_esp8266.c **** 
 422:./Hardware/ESP8266/bsp_esp8266.c **** 	}
 423:./Hardware/ESP8266/bsp_esp8266.c **** 	
 424:./Hardware/ESP8266/bsp_esp8266.c **** 	return 0;
 1255              		.loc 1 424 9 view .LVU233
 1256 0034 0020     		movs	r0, #0
 1257              	.L84:
 425:./Hardware/ESP8266/bsp_esp8266.c **** 	
 426:./Hardware/ESP8266/bsp_esp8266.c **** }
 1258              		.loc 1 426 1 view .LVU234
 1259 0036 08BD     		pop	{r3, pc}
 1260              	.L86:
 414:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1261              		.loc 1 414 11 view .LVU235
 1262 0038 0220     		movs	r0, #2
 1263 003a FCE7     		b	.L84
 1264              	.L87:
 417:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1265              		.loc 1 417 11 view .LVU236
 1266 003c 0320     		movs	r0, #3
 1267 003e FAE7     		b	.L84
 1268              	.L91:
 1269              		.align	2
 1270              	.L90:
 1271 0040 38000000 		.word	.LC4
 1272 0044 00000000 		.word	.LC22
 1273 0048 10000000 		.word	.LC23
 1274 004c 00000000 		.word	.LANCHOR0
 1275 0050 1C000000 		.word	.LC24
 1276 0054 28000000 		.word	.LC25
 1277              		.cfi_endproc
 1278              	.LFE45:
 1280              		.section	.rodata.ESP8266_Get_IdLinkStatus.str1.4,"aMS",%progbits,1
 1281              		.align	2
 1282              	.LC26:
 1283 0000 2B434950 		.ascii	"+CIPSTATUS:0,\000"
 1283      53544154 
 1283      55533A30 
 1283      2C00
 1284 000e 0000     		.align	2
 1285              	.LC27:
 1286 0010 2B434950 		.ascii	"+CIPSTATUS:1,\000"
 1286      53544154 
 1286      55533A31 
 1286      2C00
 1287 001e 0000     		.align	2
 1288              	.LC28:
 1289 0020 2B434950 		.ascii	"+CIPSTATUS:2,\000"
ARM GAS  /tmp/ccXEZ84N.s 			page 33


 1289      53544154 
 1289      55533A32 
 1289      2C00
 1290 002e 0000     		.align	2
 1291              	.LC29:
 1292 0030 2B434950 		.ascii	"+CIPSTATUS:3,\000"
 1292      53544154 
 1292      55533A33 
 1292      2C00
 1293 003e 0000     		.align	2
 1294              	.LC30:
 1295 0040 2B434950 		.ascii	"+CIPSTATUS:4,\000"
 1295      53544154 
 1295      55533A34 
 1295      2C00
 1296              		.section	.text.ESP8266_Get_IdLinkStatus,"ax",%progbits
 1297              		.align	1
 1298              		.global	ESP8266_Get_IdLinkStatus
 1299              		.syntax unified
 1300              		.thumb
 1301              		.thumb_func
 1302              		.fpu softvfp
 1304              	ESP8266_Get_IdLinkStatus:
 1305              	.LFB46:
 427:./Hardware/ESP8266/bsp_esp8266.c **** 
 428:./Hardware/ESP8266/bsp_esp8266.c **** 
 429:./Hardware/ESP8266/bsp_esp8266.c **** /*
 430:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_Get_IdLinkStatus
 431:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：获取 WF-ESP8266 的端口（Id）连接状态，较适合多端口时使用
 432:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：无
 433:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 端口（Id）的连接状态，低5位为有效位，分别对应Id5~0，某位若置
 434:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 435:./Hardware/ESP8266/bsp_esp8266.c ****  */
 436:./Hardware/ESP8266/bsp_esp8266.c **** uint8_t ESP8266_Get_IdLinkStatus ( void )
 437:./Hardware/ESP8266/bsp_esp8266.c **** {
 1306              		.loc 1 437 1 is_stmt 1 view -0
 1307              		.cfi_startproc
 1308              		@ args = 0, pretend = 0, frame = 0
 1309              		@ frame_needed = 0, uses_anonymous_args = 0
 1310 0000 10B5     		push	{r4, lr}
 1311              	.LCFI31:
 1312              		.cfi_def_cfa_offset 8
 1313              		.cfi_offset 4, -8
 1314              		.cfi_offset 14, -4
 438:./Hardware/ESP8266/bsp_esp8266.c **** 	uint8_t ucIdLinkStatus = 0x00;
 1315              		.loc 1 438 2 view .LVU238
 1316              	.LVL105:
 439:./Hardware/ESP8266/bsp_esp8266.c **** 	
 440:./Hardware/ESP8266/bsp_esp8266.c **** 	
 441:./Hardware/ESP8266/bsp_esp8266.c **** 	if ( ESP8266_Cmd ( "AT+CIPSTATUS", "OK", 0, 500 ) )
 1317              		.loc 1 441 2 view .LVU239
 1318              		.loc 1 441 7 is_stmt 0 view .LVU240
 1319 0002 4FF4FA73 		mov	r3, #500
 1320 0006 0022     		movs	r2, #0
 1321 0008 1A49     		ldr	r1, .L105
 1322 000a 1B48     		ldr	r0, .L105+4
 1323 000c FFF7FEFF 		bl	ESP8266_Cmd
ARM GAS  /tmp/ccXEZ84N.s 			page 34


 1324              	.LVL106:
 1325              		.loc 1 441 5 view .LVU241
 1326 0010 68B3     		cbz	r0, .L102
 442:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 443:./Hardware/ESP8266/bsp_esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:0," ) )
 1327              		.loc 1 443 3 is_stmt 1 view .LVU242
 1328              		.loc 1 443 8 is_stmt 0 view .LVU243
 1329 0012 1A49     		ldr	r1, .L105+8
 1330 0014 1A48     		ldr	r0, .L105+12
 1331 0016 FFF7FEFF 		bl	strstr
 1332              	.LVL107:
 1333              		.loc 1 443 6 view .LVU244
 1334 001a E8B1     		cbz	r0, .L103
 444:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus |= 0x01;
 1335              		.loc 1 444 19 view .LVU245
 1336 001c 0124     		movs	r4, #1
 1337              	.L94:
 1338              	.LVL108:
 445:./Hardware/ESP8266/bsp_esp8266.c **** 		else 
 446:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus &= ~ 0x01;
 447:./Hardware/ESP8266/bsp_esp8266.c **** 		
 448:./Hardware/ESP8266/bsp_esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:1," ) )
 1339              		.loc 1 448 3 is_stmt 1 view .LVU246
 1340              		.loc 1 448 8 is_stmt 0 view .LVU247
 1341 001e 1949     		ldr	r1, .L105+16
 1342 0020 1748     		ldr	r0, .L105+12
 1343 0022 FFF7FEFF 		bl	strstr
 1344              	.LVL109:
 1345              		.loc 1 448 6 view .LVU248
 1346 0026 08B1     		cbz	r0, .L96
 449:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus |= 0x02;
 1347              		.loc 1 449 4 is_stmt 1 view .LVU249
 1348              		.loc 1 449 19 is_stmt 0 view .LVU250
 1349 0028 44F00204 		orr	r4, r4, #2
 1350              	.LVL110:
 1351              	.L96:
 450:./Hardware/ESP8266/bsp_esp8266.c **** 		else 
 451:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus &= ~ 0x02;
 452:./Hardware/ESP8266/bsp_esp8266.c **** 		
 453:./Hardware/ESP8266/bsp_esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:2," ) )
 1352              		.loc 1 453 3 is_stmt 1 view .LVU251
 1353              		.loc 1 453 8 is_stmt 0 view .LVU252
 1354 002c 1649     		ldr	r1, .L105+20
 1355 002e 1448     		ldr	r0, .L105+12
 1356 0030 FFF7FEFF 		bl	strstr
 1357              	.LVL111:
 1358              		.loc 1 453 6 view .LVU253
 1359 0034 90B1     		cbz	r0, .L97
 454:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus |= 0x04;
 1360              		.loc 1 454 4 is_stmt 1 view .LVU254
 1361              		.loc 1 454 19 is_stmt 0 view .LVU255
 1362 0036 44F00404 		orr	r4, r4, #4
 1363              	.LVL112:
 1364              	.L98:
 455:./Hardware/ESP8266/bsp_esp8266.c **** 		else 
 456:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus &= ~ 0x04;
 457:./Hardware/ESP8266/bsp_esp8266.c **** 		
ARM GAS  /tmp/ccXEZ84N.s 			page 35


 458:./Hardware/ESP8266/bsp_esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:3," ) )
 1365              		.loc 1 458 3 is_stmt 1 view .LVU256
 1366              		.loc 1 458 8 is_stmt 0 view .LVU257
 1367 003a 1449     		ldr	r1, .L105+24
 1368 003c 1048     		ldr	r0, .L105+12
 1369 003e FFF7FEFF 		bl	strstr
 1370              	.LVL113:
 1371              		.loc 1 458 6 view .LVU258
 1372 0042 70B1     		cbz	r0, .L99
 459:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus |= 0x08;
 1373              		.loc 1 459 4 is_stmt 1 view .LVU259
 1374              		.loc 1 459 19 is_stmt 0 view .LVU260
 1375 0044 44F00804 		orr	r4, r4, #8
 1376              	.LVL114:
 1377              	.L100:
 460:./Hardware/ESP8266/bsp_esp8266.c **** 		else 
 461:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus &= ~ 0x08;
 462:./Hardware/ESP8266/bsp_esp8266.c **** 		
 463:./Hardware/ESP8266/bsp_esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+CIPSTATUS:4," ) )
 1378              		.loc 1 463 3 is_stmt 1 view .LVU261
 1379              		.loc 1 463 8 is_stmt 0 view .LVU262
 1380 0048 1149     		ldr	r1, .L105+28
 1381 004a 0D48     		ldr	r0, .L105+12
 1382 004c FFF7FEFF 		bl	strstr
 1383              	.LVL115:
 1384              		.loc 1 463 6 view .LVU263
 1385 0050 50B1     		cbz	r0, .L101
 464:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus |= 0x10;
 1386              		.loc 1 464 4 is_stmt 1 view .LVU264
 1387              		.loc 1 464 19 is_stmt 0 view .LVU265
 1388 0052 44F01000 		orr	r0, r4, #16
 1389              	.LVL116:
 1390              		.loc 1 464 19 view .LVU266
 1391 0056 0BE0     		b	.L93
 1392              	.LVL117:
 1393              	.L103:
 446:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1394              		.loc 1 446 19 view .LVU267
 1395 0058 0024     		movs	r4, #0
 1396 005a E0E7     		b	.L94
 1397              	.LVL118:
 1398              	.L97:
 456:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1399              		.loc 1 456 4 is_stmt 1 view .LVU268
 456:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1400              		.loc 1 456 19 is_stmt 0 view .LVU269
 1401 005c 04F0FB04 		and	r4, r4, #251
 1402              	.LVL119:
 456:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1403              		.loc 1 456 19 view .LVU270
 1404 0060 EBE7     		b	.L98
 1405              	.L99:
 461:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1406              		.loc 1 461 4 is_stmt 1 view .LVU271
 461:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1407              		.loc 1 461 19 is_stmt 0 view .LVU272
 1408 0062 04F0F704 		and	r4, r4, #247
ARM GAS  /tmp/ccXEZ84N.s 			page 36


 1409              	.LVL120:
 461:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1410              		.loc 1 461 19 view .LVU273
 1411 0066 EFE7     		b	.L100
 1412              	.L101:
 465:./Hardware/ESP8266/bsp_esp8266.c **** 		else 
 466:./Hardware/ESP8266/bsp_esp8266.c **** 			ucIdLinkStatus &= ~ 0x10;	
 1413              		.loc 1 466 4 is_stmt 1 view .LVU274
 1414              		.loc 1 466 19 is_stmt 0 view .LVU275
 1415 0068 04F0EF00 		and	r0, r4, #239
 1416              	.LVL121:
 1417              		.loc 1 466 19 view .LVU276
 1418 006c 00E0     		b	.L93
 1419              	.LVL122:
 1420              	.L102:
 438:./Hardware/ESP8266/bsp_esp8266.c **** 	
 1421              		.loc 1 438 10 view .LVU277
 1422 006e 0020     		movs	r0, #0
 1423              	.LVL123:
 1424              	.L93:
 467:./Hardware/ESP8266/bsp_esp8266.c **** 
 468:./Hardware/ESP8266/bsp_esp8266.c **** 	}
 469:./Hardware/ESP8266/bsp_esp8266.c **** 	
 470:./Hardware/ESP8266/bsp_esp8266.c **** 	return ucIdLinkStatus;
 1425              		.loc 1 470 2 is_stmt 1 view .LVU278
 471:./Hardware/ESP8266/bsp_esp8266.c **** 	
 472:./Hardware/ESP8266/bsp_esp8266.c **** }
 1426              		.loc 1 472 1 is_stmt 0 view .LVU279
 1427 0070 10BD     		pop	{r4, pc}
 1428              	.L106:
 1429 0072 00BF     		.align	2
 1430              	.L105:
 1431 0074 38000000 		.word	.LC4
 1432 0078 00000000 		.word	.LC22
 1433 007c 00000000 		.word	.LC26
 1434 0080 00000000 		.word	.LANCHOR0
 1435 0084 10000000 		.word	.LC27
 1436 0088 20000000 		.word	.LC28
 1437 008c 30000000 		.word	.LC29
 1438 0090 40000000 		.word	.LC30
 1439              		.cfi_endproc
 1440              	.LFE46:
 1442              		.section	.rodata.ESP8266_Inquire_ApIp.str1.4,"aMS",%progbits,1
 1443              		.align	2
 1444              	.LC31:
 1445 0000 41542B43 		.ascii	"AT+CIFSR\000"
 1445      49465352 
 1445      00
 1446 0009 000000   		.align	2
 1447              	.LC32:
 1448 000c 41504950 		.ascii	"APIP,\"\000"
 1448      2C2200
 1449              		.section	.text.ESP8266_Inquire_ApIp,"ax",%progbits
 1450              		.align	1
 1451              		.global	ESP8266_Inquire_ApIp
 1452              		.syntax unified
 1453              		.thumb
ARM GAS  /tmp/ccXEZ84N.s 			page 37


 1454              		.thumb_func
 1455              		.fpu softvfp
 1457              	ESP8266_Inquire_ApIp:
 1458              	.LVL124:
 1459              	.LFB47:
 473:./Hardware/ESP8266/bsp_esp8266.c **** 
 474:./Hardware/ESP8266/bsp_esp8266.c **** 
 475:./Hardware/ESP8266/bsp_esp8266.c **** /*
 476:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_Inquire_ApIp
 477:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：获取 F-ESP8266 的 AP IP
 478:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：pApIp，存放 AP IP 的数组的首地址
 479:./Hardware/ESP8266/bsp_esp8266.c ****  *         ucArrayLength，存放 AP IP 的数组的长度
 480:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 0，获取失败
 481:./Hardware/ESP8266/bsp_esp8266.c ****  *         1，获取成功
 482:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 483:./Hardware/ESP8266/bsp_esp8266.c ****  */
 484:./Hardware/ESP8266/bsp_esp8266.c **** uint8_t ESP8266_Inquire_ApIp ( char * pApIp, uint8_t ucArrayLength )
 485:./Hardware/ESP8266/bsp_esp8266.c **** {
 1460              		.loc 1 485 1 is_stmt 1 view -0
 1461              		.cfi_startproc
 1462              		@ args = 0, pretend = 0, frame = 0
 1463              		@ frame_needed = 0, uses_anonymous_args = 0
 1464              		.loc 1 485 1 is_stmt 0 view .LVU281
 1465 0000 38B5     		push	{r3, r4, r5, lr}
 1466              	.LCFI32:
 1467              		.cfi_def_cfa_offset 16
 1468              		.cfi_offset 3, -16
 1469              		.cfi_offset 4, -12
 1470              		.cfi_offset 5, -8
 1471              		.cfi_offset 14, -4
 1472 0002 0446     		mov	r4, r0
 1473 0004 0D46     		mov	r5, r1
 486:./Hardware/ESP8266/bsp_esp8266.c **** 	char uc;
 1474              		.loc 1 486 2 is_stmt 1 view .LVU282
 487:./Hardware/ESP8266/bsp_esp8266.c **** 	
 488:./Hardware/ESP8266/bsp_esp8266.c **** 	char * pCh;
 1475              		.loc 1 488 2 view .LVU283
 489:./Hardware/ESP8266/bsp_esp8266.c **** 	
 490:./Hardware/ESP8266/bsp_esp8266.c **** 	
 491:./Hardware/ESP8266/bsp_esp8266.c ****   ESP8266_Cmd ( "AT+CIFSR", "OK", 0, 500 );
 1476              		.loc 1 491 3 view .LVU284
 1477 0006 4FF4FA73 		mov	r3, #500
 1478 000a 0022     		movs	r2, #0
 1479 000c 0D49     		ldr	r1, .L116
 1480              	.LVL125:
 1481              		.loc 1 491 3 is_stmt 0 view .LVU285
 1482 000e 0E48     		ldr	r0, .L116+4
 1483              	.LVL126:
 1484              		.loc 1 491 3 view .LVU286
 1485 0010 FFF7FEFF 		bl	ESP8266_Cmd
 1486              	.LVL127:
 492:./Hardware/ESP8266/bsp_esp8266.c **** 	
 493:./Hardware/ESP8266/bsp_esp8266.c **** 	pCh = strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "APIP,\"" );
 1487              		.loc 1 493 2 is_stmt 1 view .LVU287
 1488              		.loc 1 493 8 is_stmt 0 view .LVU288
 1489 0014 0D49     		ldr	r1, .L116+8
 1490 0016 0E48     		ldr	r0, .L116+12
ARM GAS  /tmp/ccXEZ84N.s 			page 38


 1491 0018 FFF7FEFF 		bl	strstr
 1492              	.LVL128:
 494:./Hardware/ESP8266/bsp_esp8266.c **** 	
 495:./Hardware/ESP8266/bsp_esp8266.c **** 	if ( pCh )
 1493              		.loc 1 495 2 is_stmt 1 view .LVU289
 1494              		.loc 1 495 5 is_stmt 0 view .LVU290
 1495 001c 88B1     		cbz	r0, .L109
 1496 001e 0146     		mov	r1, r0
 496:./Hardware/ESP8266/bsp_esp8266.c **** 		pCh += 6;
 497:./Hardware/ESP8266/bsp_esp8266.c **** 	
 498:./Hardware/ESP8266/bsp_esp8266.c **** 	else
 499:./Hardware/ESP8266/bsp_esp8266.c **** 		return 0;
 500:./Hardware/ESP8266/bsp_esp8266.c **** 	
 501:./Hardware/ESP8266/bsp_esp8266.c **** 	for ( uc = 0; uc < ucArrayLength; uc ++ )
 1497              		.loc 1 501 11 view .LVU291
 1498 0020 0023     		movs	r3, #0
 1499              	.LVL129:
 1500              	.L108:
 1501              		.loc 1 501 16 is_stmt 1 discriminator 1 view .LVU292
 1502              		.loc 1 501 2 is_stmt 0 discriminator 1 view .LVU293
 1503 0022 AB42     		cmp	r3, r5
 1504 0024 0CD2     		bcs	.L114
 502:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 503:./Hardware/ESP8266/bsp_esp8266.c **** 		pApIp [ uc ] = * ( pCh + uc);
 1505              		.loc 1 503 3 is_stmt 1 view .LVU294
 1506              		.loc 1 503 26 is_stmt 0 view .LVU295
 1507 0026 9A1D     		adds	r2, r3, #6
 1508              		.loc 1 503 9 view .LVU296
 1509 0028 E018     		adds	r0, r4, r3
 1510              		.loc 1 503 18 view .LVU297
 1511 002a 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 1512              		.loc 1 503 16 view .LVU298
 1513 002c E254     		strb	r2, [r4, r3]
 504:./Hardware/ESP8266/bsp_esp8266.c **** 		
 505:./Hardware/ESP8266/bsp_esp8266.c **** 		if ( pApIp [ uc ] == '\"' )
 1514              		.loc 1 505 3 is_stmt 1 view .LVU299
 1515              		.loc 1 505 6 is_stmt 0 view .LVU300
 1516 002e 222A     		cmp	r2, #34
 1517 0030 02D0     		beq	.L115
 501:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 1518              		.loc 1 501 36 is_stmt 1 discriminator 2 view .LVU301
 501:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 1519              		.loc 1 501 39 is_stmt 0 discriminator 2 view .LVU302
 1520 0032 0133     		adds	r3, r3, #1
 1521              	.LVL130:
 501:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 1522              		.loc 1 501 39 discriminator 2 view .LVU303
 1523 0034 DBB2     		uxtb	r3, r3
 1524              	.LVL131:
 501:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 1525              		.loc 1 501 39 discriminator 2 view .LVU304
 1526 0036 F4E7     		b	.L108
 1527              	.L115:
 506:./Hardware/ESP8266/bsp_esp8266.c **** 		{
 507:./Hardware/ESP8266/bsp_esp8266.c **** 			pApIp [ uc ] = '\0';
 1528              		.loc 1 507 4 is_stmt 1 view .LVU305
 1529              		.loc 1 507 17 is_stmt 0 view .LVU306
ARM GAS  /tmp/ccXEZ84N.s 			page 39


 1530 0038 0023     		movs	r3, #0
 1531              	.LVL132:
 1532              		.loc 1 507 17 view .LVU307
 1533 003a 0370     		strb	r3, [r0]
 508:./Hardware/ESP8266/bsp_esp8266.c **** 			break;
 1534              		.loc 1 508 4 is_stmt 1 view .LVU308
 509:./Hardware/ESP8266/bsp_esp8266.c **** 		}
 510:./Hardware/ESP8266/bsp_esp8266.c **** 		
 511:./Hardware/ESP8266/bsp_esp8266.c **** 	}
 512:./Hardware/ESP8266/bsp_esp8266.c **** 	
 513:./Hardware/ESP8266/bsp_esp8266.c **** 	return 1;
 1535              		.loc 1 513 9 is_stmt 0 view .LVU309
 1536 003c 0120     		movs	r0, #1
 508:./Hardware/ESP8266/bsp_esp8266.c **** 			break;
 1537              		.loc 1 508 4 view .LVU310
 1538 003e 00E0     		b	.L109
 1539              	.LVL133:
 1540              	.L114:
 1541              		.loc 1 513 9 view .LVU311
 1542 0040 0120     		movs	r0, #1
 1543              	.LVL134:
 1544              	.L109:
 514:./Hardware/ESP8266/bsp_esp8266.c **** 	
 515:./Hardware/ESP8266/bsp_esp8266.c **** }
 1545              		.loc 1 515 1 view .LVU312
 1546 0042 38BD     		pop	{r3, r4, r5, pc}
 1547              	.LVL135:
 1548              	.L117:
 1549              		.loc 1 515 1 view .LVU313
 1550              		.align	2
 1551              	.L116:
 1552 0044 38000000 		.word	.LC4
 1553 0048 00000000 		.word	.LC31
 1554 004c 0C000000 		.word	.LC32
 1555 0050 00000000 		.word	.LANCHOR0
 1556              		.cfi_endproc
 1557              	.LFE47:
 1559              		.section	.rodata.ESP8266_UnvarnishSend.str1.4,"aMS",%progbits,1
 1560              		.align	2
 1561              	.LC33:
 1562 0000 41542B43 		.ascii	"AT+CIPMODE=1\000"
 1562      49504D4F 
 1562      44453D31 
 1562      00
 1563 000d 000000   		.align	2
 1564              	.LC34:
 1565 0010 3E00     		.ascii	">\000"
 1566 0012 0000     		.align	2
 1567              	.LC35:
 1568 0014 41542B43 		.ascii	"AT+CIPSEND\000"
 1568      49505345 
 1568      4E4400
 1569              		.section	.text.ESP8266_UnvarnishSend,"ax",%progbits
 1570              		.align	1
 1571              		.global	ESP8266_UnvarnishSend
 1572              		.syntax unified
 1573              		.thumb
ARM GAS  /tmp/ccXEZ84N.s 			page 40


 1574              		.thumb_func
 1575              		.fpu softvfp
 1577              	ESP8266_UnvarnishSend:
 1578              	.LFB48:
 516:./Hardware/ESP8266/bsp_esp8266.c **** 
 517:./Hardware/ESP8266/bsp_esp8266.c **** 
 518:./Hardware/ESP8266/bsp_esp8266.c **** /*
 519:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_UnvarnishSend
 520:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：配置WF-ESP8266模块进入透传发送
 521:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：无
 522:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 1，配置成功
 523:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，配置失败
 524:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 525:./Hardware/ESP8266/bsp_esp8266.c ****  */
 526:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_UnvarnishSend ( void )
 527:./Hardware/ESP8266/bsp_esp8266.c **** {
 1579              		.loc 1 527 1 is_stmt 1 view -0
 1580              		.cfi_startproc
 1581              		@ args = 0, pretend = 0, frame = 0
 1582              		@ frame_needed = 0, uses_anonymous_args = 0
 1583 0000 08B5     		push	{r3, lr}
 1584              	.LCFI33:
 1585              		.cfi_def_cfa_offset 8
 1586              		.cfi_offset 3, -8
 1587              		.cfi_offset 14, -4
 528:./Hardware/ESP8266/bsp_esp8266.c **** 	if ( ! ESP8266_Cmd ( "AT+CIPMODE=1", "OK", 0, 500 ) )
 1588              		.loc 1 528 2 view .LVU315
 1589              		.loc 1 528 9 is_stmt 0 view .LVU316
 1590 0002 4FF4FA73 		mov	r3, #500
 1591 0006 0022     		movs	r2, #0
 1592 0008 0649     		ldr	r1, .L122
 1593 000a 0748     		ldr	r0, .L122+4
 1594 000c FFF7FEFF 		bl	ESP8266_Cmd
 1595              	.LVL136:
 1596              		.loc 1 528 5 view .LVU317
 1597 0010 00B9     		cbnz	r0, .L121
 1598              	.L119:
 529:./Hardware/ESP8266/bsp_esp8266.c **** 		return false;
 530:./Hardware/ESP8266/bsp_esp8266.c **** 	
 531:./Hardware/ESP8266/bsp_esp8266.c **** 	return 
 532:./Hardware/ESP8266/bsp_esp8266.c **** 	  ESP8266_Cmd ( "AT+CIPSEND", "OK", ">", 500 );
 533:./Hardware/ESP8266/bsp_esp8266.c **** 	
 534:./Hardware/ESP8266/bsp_esp8266.c **** }
 1599              		.loc 1 534 1 view .LVU318
 1600 0012 08BD     		pop	{r3, pc}
 1601              	.L121:
 531:./Hardware/ESP8266/bsp_esp8266.c **** 	  ESP8266_Cmd ( "AT+CIPSEND", "OK", ">", 500 );
 1602              		.loc 1 531 2 is_stmt 1 view .LVU319
 532:./Hardware/ESP8266/bsp_esp8266.c **** 	
 1603              		.loc 1 532 4 is_stmt 0 view .LVU320
 1604 0014 4FF4FA73 		mov	r3, #500
 1605 0018 044A     		ldr	r2, .L122+8
 1606 001a 0249     		ldr	r1, .L122
 1607 001c 0448     		ldr	r0, .L122+12
 1608 001e FFF7FEFF 		bl	ESP8266_Cmd
 1609              	.LVL137:
 1610 0022 F6E7     		b	.L119
ARM GAS  /tmp/ccXEZ84N.s 			page 41


 1611              	.L123:
 1612              		.align	2
 1613              	.L122:
 1614 0024 38000000 		.word	.LC4
 1615 0028 00000000 		.word	.LC33
 1616 002c 10000000 		.word	.LC34
 1617 0030 14000000 		.word	.LC35
 1618              		.cfi_endproc
 1619              	.LFE48:
 1621              		.section	.rodata.ESP8266_ExitUnvarnishSend.str1.4,"aMS",%progbits,1
 1622              		.align	2
 1623              	.LC36:
 1624 0000 2B2B2B00 		.ascii	"+++\000"
 1625              		.section	.text.ESP8266_ExitUnvarnishSend,"ax",%progbits
 1626              		.align	1
 1627              		.global	ESP8266_ExitUnvarnishSend
 1628              		.syntax unified
 1629              		.thumb
 1630              		.thumb_func
 1631              		.fpu softvfp
 1633              	ESP8266_ExitUnvarnishSend:
 1634              	.LFB49:
 535:./Hardware/ESP8266/bsp_esp8266.c **** 
 536:./Hardware/ESP8266/bsp_esp8266.c **** 
 537:./Hardware/ESP8266/bsp_esp8266.c **** /*
 538:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_ExitUnvarnishSend
 539:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：配置WF-ESP8266模块退出透传模式
 540:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：无
 541:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 无
 542:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 543:./Hardware/ESP8266/bsp_esp8266.c ****  */
 544:./Hardware/ESP8266/bsp_esp8266.c **** void ESP8266_ExitUnvarnishSend ( void )
 545:./Hardware/ESP8266/bsp_esp8266.c **** {
 1635              		.loc 1 545 1 is_stmt 1 view -0
 1636              		.cfi_startproc
 1637              		@ args = 0, pretend = 0, frame = 0
 1638              		@ frame_needed = 0, uses_anonymous_args = 0
 1639 0000 08B5     		push	{r3, lr}
 1640              	.LCFI34:
 1641              		.cfi_def_cfa_offset 8
 1642              		.cfi_offset 3, -8
 1643              		.cfi_offset 14, -4
 546:./Hardware/ESP8266/bsp_esp8266.c **** 	DelayXms ( 1000 );
 1644              		.loc 1 546 2 view .LVU322
 1645 0002 4FF47A70 		mov	r0, #1000
 1646 0006 FFF7FEFF 		bl	DelayXms
 1647              	.LVL138:
 547:./Hardware/ESP8266/bsp_esp8266.c **** 	
 548:./Hardware/ESP8266/bsp_esp8266.c **** 	macESP8266_Usart ( "+++" );
 1648              		.loc 1 548 2 view .LVU323
 1649 000a 0449     		ldr	r1, .L126
 1650 000c 0448     		ldr	r0, .L126+4
 1651 000e FFF7FEFF 		bl	USART_printf
 1652              	.LVL139:
 549:./Hardware/ESP8266/bsp_esp8266.c **** 	
 550:./Hardware/ESP8266/bsp_esp8266.c **** 	DelayXms ( 500 ); 
 1653              		.loc 1 550 2 view .LVU324
ARM GAS  /tmp/ccXEZ84N.s 			page 42


 1654 0012 4FF4FA70 		mov	r0, #500
 1655 0016 FFF7FEFF 		bl	DelayXms
 1656              	.LVL140:
 551:./Hardware/ESP8266/bsp_esp8266.c **** 	
 552:./Hardware/ESP8266/bsp_esp8266.c **** }
 1657              		.loc 1 552 1 is_stmt 0 view .LVU325
 1658 001a 08BD     		pop	{r3, pc}
 1659              	.L127:
 1660              		.align	2
 1661              	.L126:
 1662 001c 00000000 		.word	.LC36
 1663 0020 00440040 		.word	1073759232
 1664              		.cfi_endproc
 1665              	.LFE49:
 1667              		.section	.rodata.ESP8266_SendString.str1.4,"aMS",%progbits,1
 1668              		.align	2
 1669              	.LC37:
 1670 0000 41542B43 		.ascii	"AT+CIPSEND=%d,%d\000"
 1670      49505345 
 1670      4E443D25 
 1670      642C2564 
 1670      00
 1671 0011 000000   		.align	2
 1672              	.LC38:
 1673 0014 41542B43 		.ascii	"AT+CIPSEND=%d\000"
 1673      49505345 
 1673      4E443D25 
 1673      6400
 1674 0022 0000     		.align	2
 1675              	.LC39:
 1676 0024 3E2000   		.ascii	"> \000"
 1677 0027 00       		.align	2
 1678              	.LC40:
 1679 0028 53454E44 		.ascii	"SEND OK\000"
 1679      204F4B00 
 1680              		.section	.text.ESP8266_SendString,"ax",%progbits
 1681              		.align	1
 1682              		.global	ESP8266_SendString
 1683              		.syntax unified
 1684              		.thumb
 1685              		.thumb_func
 1686              		.fpu softvfp
 1688              	ESP8266_SendString:
 1689              	.LVL141:
 1690              	.LFB50:
 553:./Hardware/ESP8266/bsp_esp8266.c **** 
 554:./Hardware/ESP8266/bsp_esp8266.c **** 
 555:./Hardware/ESP8266/bsp_esp8266.c **** /*
 556:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_SendString
 557:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：WF-ESP8266模块发送字符串
 558:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：enumEnUnvarnishTx，声明是否已使能了透传模式
 559:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：pStr，要发送的字符串
 560:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：ulStrLength，要发送的字符串的字节数
 561:./Hardware/ESP8266/bsp_esp8266.c ****  *       ：ucId，哪个ID发送的字符串
 562:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 1，发送成功
 563:./Hardware/ESP8266/bsp_esp8266.c ****  *         0，发送失败
 564:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
ARM GAS  /tmp/ccXEZ84N.s 			page 43


 565:./Hardware/ESP8266/bsp_esp8266.c ****  */
 566:./Hardware/ESP8266/bsp_esp8266.c **** bool ESP8266_SendString ( FunctionalState enumEnUnvarnishTx, char * pStr, u32 ulStrLength, ENUM_ID_
 567:./Hardware/ESP8266/bsp_esp8266.c **** {
 1691              		.loc 1 567 1 is_stmt 1 view -0
 1692              		.cfi_startproc
 1693              		@ args = 0, pretend = 0, frame = 24
 1694              		@ frame_needed = 0, uses_anonymous_args = 0
 1695              		.loc 1 567 1 is_stmt 0 view .LVU327
 1696 0000 10B5     		push	{r4, lr}
 1697              	.LCFI35:
 1698              		.cfi_def_cfa_offset 8
 1699              		.cfi_offset 4, -8
 1700              		.cfi_offset 14, -4
 1701 0002 86B0     		sub	sp, sp, #24
 1702              	.LCFI36:
 1703              		.cfi_def_cfa_offset 32
 1704 0004 0C46     		mov	r4, r1
 568:./Hardware/ESP8266/bsp_esp8266.c **** 	char cStr [20];
 1705              		.loc 1 568 2 is_stmt 1 view .LVU328
 569:./Hardware/ESP8266/bsp_esp8266.c **** 	bool bRet = false;
 1706              		.loc 1 569 2 view .LVU329
 1707              	.LVL142:
 570:./Hardware/ESP8266/bsp_esp8266.c **** 	
 571:./Hardware/ESP8266/bsp_esp8266.c **** 		
 572:./Hardware/ESP8266/bsp_esp8266.c **** 	if ( enumEnUnvarnishTx )
 1708              		.loc 1 572 2 view .LVU330
 1709              		.loc 1 572 5 is_stmt 0 view .LVU331
 1710 0006 B8B9     		cbnz	r0, .L134
 1711 0008 1146     		mov	r1, r2
 1712              	.LVL143:
 1713              		.loc 1 572 5 view .LVU332
 1714 000a 1A46     		mov	r2, r3
 1715              	.LVL144:
 573:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 574:./Hardware/ESP8266/bsp_esp8266.c **** 		macESP8266_Usart ( "%s", pStr );
 575:./Hardware/ESP8266/bsp_esp8266.c **** 		
 576:./Hardware/ESP8266/bsp_esp8266.c **** 		bRet = true;
 577:./Hardware/ESP8266/bsp_esp8266.c **** 		
 578:./Hardware/ESP8266/bsp_esp8266.c **** 	}
 579:./Hardware/ESP8266/bsp_esp8266.c **** 
 580:./Hardware/ESP8266/bsp_esp8266.c **** 	else
 581:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 582:./Hardware/ESP8266/bsp_esp8266.c **** 		if ( ucId < 5 )
 1716              		.loc 1 582 3 is_stmt 1 view .LVU333
 1717              		.loc 1 582 6 is_stmt 0 view .LVU334
 1718 000c 042B     		cmp	r3, #4
 1719 000e 1AD8     		bhi	.L131
 583:./Hardware/ESP8266/bsp_esp8266.c **** 			sprintf ( cStr, "AT+CIPSEND=%d,%d", ucId, ulStrLength + 2 );
 1720              		.loc 1 583 4 is_stmt 1 view .LVU335
 1721 0010 8B1C     		adds	r3, r1, #2
 1722              	.LVL145:
 1723              		.loc 1 583 4 is_stmt 0 view .LVU336
 1724 0012 1049     		ldr	r1, .L135
 1725              	.LVL146:
 1726              		.loc 1 583 4 view .LVU337
 1727 0014 01A8     		add	r0, sp, #4
 1728              	.LVL147:
ARM GAS  /tmp/ccXEZ84N.s 			page 44


 1729              		.loc 1 583 4 view .LVU338
 1730 0016 FFF7FEFF 		bl	sprintf
 1731              	.LVL148:
 1732              	.L132:
 584:./Hardware/ESP8266/bsp_esp8266.c **** 
 585:./Hardware/ESP8266/bsp_esp8266.c **** 		else
 586:./Hardware/ESP8266/bsp_esp8266.c **** 			sprintf ( cStr, "AT+CIPSEND=%d", ulStrLength + 2 );
 587:./Hardware/ESP8266/bsp_esp8266.c **** 		
 588:./Hardware/ESP8266/bsp_esp8266.c **** 		ESP8266_Cmd ( cStr, "> ", 0, 100 );
 1733              		.loc 1 588 3 is_stmt 1 view .LVU339
 1734 001a 6423     		movs	r3, #100
 1735 001c 0022     		movs	r2, #0
 1736 001e 0E49     		ldr	r1, .L135+4
 1737 0020 01A8     		add	r0, sp, #4
 1738 0022 FFF7FEFF 		bl	ESP8266_Cmd
 1739              	.LVL149:
 589:./Hardware/ESP8266/bsp_esp8266.c **** 
 590:./Hardware/ESP8266/bsp_esp8266.c **** 		bRet = ESP8266_Cmd ( pStr, "SEND OK", 0, 500 );
 1740              		.loc 1 590 3 view .LVU340
 1741              		.loc 1 590 10 is_stmt 0 view .LVU341
 1742 0026 4FF4FA73 		mov	r3, #500
 1743 002a 0022     		movs	r2, #0
 1744 002c 0B49     		ldr	r1, .L135+8
 1745 002e 2046     		mov	r0, r4
 1746 0030 FFF7FEFF 		bl	ESP8266_Cmd
 1747              	.LVL150:
 1748              	.L130:
 591:./Hardware/ESP8266/bsp_esp8266.c ****   }
 592:./Hardware/ESP8266/bsp_esp8266.c **** 	
 593:./Hardware/ESP8266/bsp_esp8266.c **** 	return bRet;
 1749              		.loc 1 593 2 is_stmt 1 view .LVU342
 594:./Hardware/ESP8266/bsp_esp8266.c **** 
 595:./Hardware/ESP8266/bsp_esp8266.c **** }
 1750              		.loc 1 595 1 is_stmt 0 view .LVU343
 1751 0034 06B0     		add	sp, sp, #24
 1752              	.LCFI37:
 1753              		.cfi_remember_state
 1754              		.cfi_def_cfa_offset 8
 1755              		@ sp needed
 1756 0036 10BD     		pop	{r4, pc}
 1757              	.LVL151:
 1758              	.L134:
 1759              	.LCFI38:
 1760              		.cfi_restore_state
 1761              	.LBB2:
 574:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1762              		.loc 1 574 3 is_stmt 1 view .LVU344
 1763 0038 0A46     		mov	r2, r1
 1764              	.LVL152:
 574:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1765              		.loc 1 574 3 is_stmt 0 view .LVU345
 1766 003a 0949     		ldr	r1, .L135+12
 1767              	.LVL153:
 574:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1768              		.loc 1 574 3 view .LVU346
 1769 003c 0948     		ldr	r0, .L135+16
 1770              	.LVL154:
ARM GAS  /tmp/ccXEZ84N.s 			page 45


 574:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1771              		.loc 1 574 3 view .LVU347
 1772 003e FFF7FEFF 		bl	USART_printf
 1773              	.LVL155:
 576:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1774              		.loc 1 576 3 is_stmt 1 view .LVU348
 576:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1775              		.loc 1 576 8 is_stmt 0 view .LVU349
 1776 0042 0120     		movs	r0, #1
 1777              	.LBE2:
 1778 0044 F6E7     		b	.L130
 1779              	.LVL156:
 1780              	.L131:
 586:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1781              		.loc 1 586 4 is_stmt 1 view .LVU350
 1782 0046 8A1C     		adds	r2, r1, #2
 1783 0048 0749     		ldr	r1, .L135+20
 1784              	.LVL157:
 586:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1785              		.loc 1 586 4 is_stmt 0 view .LVU351
 1786 004a 01A8     		add	r0, sp, #4
 1787              	.LVL158:
 586:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1788              		.loc 1 586 4 view .LVU352
 1789 004c FFF7FEFF 		bl	sprintf
 1790              	.LVL159:
 586:./Hardware/ESP8266/bsp_esp8266.c **** 		
 1791              		.loc 1 586 4 view .LVU353
 1792 0050 E3E7     		b	.L132
 1793              	.L136:
 1794 0052 00BF     		.align	2
 1795              	.L135:
 1796 0054 00000000 		.word	.LC37
 1797 0058 24000000 		.word	.LC39
 1798 005c 28000000 		.word	.LC40
 1799 0060 08000000 		.word	.LC1
 1800 0064 00440040 		.word	1073759232
 1801 0068 14000000 		.word	.LC38
 1802              		.cfi_endproc
 1803              	.LFE50:
 1805              		.section	.rodata.ESP8266_ReceiveString.str1.4,"aMS",%progbits,1
 1806              		.align	2
 1807              	.LC41:
 1808 0000 2B495044 		.ascii	"+IPD\000"
 1808      00
 1809              		.section	.text.ESP8266_ReceiveString,"ax",%progbits
 1810              		.align	1
 1811              		.global	ESP8266_ReceiveString
 1812              		.syntax unified
 1813              		.thumb
 1814              		.thumb_func
 1815              		.fpu softvfp
 1817              	ESP8266_ReceiveString:
 1818              	.LVL160:
 1819              	.LFB51:
 596:./Hardware/ESP8266/bsp_esp8266.c **** 
 597:./Hardware/ESP8266/bsp_esp8266.c **** 
ARM GAS  /tmp/ccXEZ84N.s 			page 46


 598:./Hardware/ESP8266/bsp_esp8266.c **** /*
 599:./Hardware/ESP8266/bsp_esp8266.c ****  * 函数名：ESP8266_ReceiveString
 600:./Hardware/ESP8266/bsp_esp8266.c ****  * 描述  ：WF-ESP8266模块接收字符串
 601:./Hardware/ESP8266/bsp_esp8266.c ****  * 输入  ：enumEnUnvarnishTx，声明是否已使能了透传模式
 602:./Hardware/ESP8266/bsp_esp8266.c ****  * 返回  : 接收到的字符串首地址
 603:./Hardware/ESP8266/bsp_esp8266.c ****  * 调用  ：被外部调用
 604:./Hardware/ESP8266/bsp_esp8266.c ****  */
 605:./Hardware/ESP8266/bsp_esp8266.c **** char * ESP8266_ReceiveString ( FunctionalState enumEnUnvarnishTx )
 606:./Hardware/ESP8266/bsp_esp8266.c **** {
 1820              		.loc 1 606 1 is_stmt 1 view -0
 1821              		.cfi_startproc
 1822              		@ args = 0, pretend = 0, frame = 0
 1823              		@ frame_needed = 0, uses_anonymous_args = 0
 1824              		.loc 1 606 1 is_stmt 0 view .LVU355
 1825 0000 08B5     		push	{r3, lr}
 1826              	.LCFI39:
 1827              		.cfi_def_cfa_offset 8
 1828              		.cfi_offset 3, -8
 1829              		.cfi_offset 14, -4
 607:./Hardware/ESP8266/bsp_esp8266.c **** 	char * pRecStr = 0;
 1830              		.loc 1 607 2 is_stmt 1 view .LVU356
 1831              	.LVL161:
 608:./Hardware/ESP8266/bsp_esp8266.c **** 	
 609:./Hardware/ESP8266/bsp_esp8266.c **** 	
 610:./Hardware/ESP8266/bsp_esp8266.c **** 	strEsp8266_Fram_Record .InfBit .FramLength = 0;
 1832              		.loc 1 610 2 view .LVU357
 1833              		.loc 1 610 45 is_stmt 0 view .LVU358
 1834 0002 124B     		ldr	r3, .L143
 1835 0004 B3F80024 		ldrh	r2, [r3, #1024]
 1836 0008 6FF30E02 		bfc	r2, #0, #15
 1837 000c A3F80024 		strh	r2, [r3, #1024]	@ movhi
 611:./Hardware/ESP8266/bsp_esp8266.c **** 	strEsp8266_Fram_Record .InfBit .FramFinishFlag = 0;
 1838              		.loc 1 611 2 is_stmt 1 view .LVU359
 1839              		.loc 1 611 49 is_stmt 0 view .LVU360
 1840 0010 B3F80024 		ldrh	r2, [r3, #1024]
 1841 0014 6FF3CF32 		bfc	r2, #15, #1
 1842 0018 A3F80024 		strh	r2, [r3, #1024]	@ movhi
 612:./Hardware/ESP8266/bsp_esp8266.c **** 	
 613:./Hardware/ESP8266/bsp_esp8266.c **** 	while ( ! strEsp8266_Fram_Record .InfBit .FramFinishFlag );
 1843              		.loc 1 613 2 is_stmt 1 view .LVU361
 1844              	.L138:
 1845              		.loc 1 613 60 discriminator 1 view .LVU362
 1846              		.loc 1 613 8 discriminator 1 view .LVU363
 1847              		.loc 1 613 43 is_stmt 0 discriminator 1 view .LVU364
 1848 001c 0B4B     		ldr	r3, .L143
 1849 001e B3F80034 		ldrh	r3, [r3, #1024]
 1850              		.loc 1 613 8 discriminator 1 view .LVU365
 1851 0022 13F4004F 		tst	r3, #32768
 1852 0026 F9D0     		beq	.L138
 614:./Hardware/ESP8266/bsp_esp8266.c **** 	strEsp8266_Fram_Record .Data_RX_BUF [ strEsp8266_Fram_Record .InfBit .FramLength ] = '\0';
 1853              		.loc 1 614 2 is_stmt 1 view .LVU366
 1854              		.loc 1 614 71 is_stmt 0 view .LVU367
 1855 0028 084A     		ldr	r2, .L143
 1856 002a B2F80034 		ldrh	r3, [r2, #1024]
 1857 002e C3F30E03 		ubfx	r3, r3, #0, #15
 1858              		.loc 1 614 85 view .LVU368
 1859 0032 0021     		movs	r1, #0
ARM GAS  /tmp/ccXEZ84N.s 			page 47


 1860 0034 D154     		strb	r1, [r2, r3]
 615:./Hardware/ESP8266/bsp_esp8266.c **** 	
 616:./Hardware/ESP8266/bsp_esp8266.c **** 	if ( enumEnUnvarnishTx )
 1861              		.loc 1 616 2 is_stmt 1 view .LVU369
 1862              		.loc 1 616 5 is_stmt 0 view .LVU370
 1863 0036 30B9     		cbnz	r0, .L140
 617:./Hardware/ESP8266/bsp_esp8266.c **** 		pRecStr = strEsp8266_Fram_Record .Data_RX_BUF;
 618:./Hardware/ESP8266/bsp_esp8266.c **** 	
 619:./Hardware/ESP8266/bsp_esp8266.c **** 	else 
 620:./Hardware/ESP8266/bsp_esp8266.c **** 	{
 621:./Hardware/ESP8266/bsp_esp8266.c **** 		if ( strstr ( strEsp8266_Fram_Record .Data_RX_BUF, "+IPD" ) )
 1864              		.loc 1 621 3 is_stmt 1 view .LVU371
 1865              		.loc 1 621 8 is_stmt 0 view .LVU372
 1866 0038 0549     		ldr	r1, .L143+4
 1867 003a 1046     		mov	r0, r2
 1868              	.LVL162:
 1869              		.loc 1 621 8 view .LVU373
 1870 003c FFF7FEFF 		bl	strstr
 1871              	.LVL163:
 1872              		.loc 1 621 6 view .LVU374
 1873 0040 10B1     		cbz	r0, .L137
 622:./Hardware/ESP8266/bsp_esp8266.c **** 			pRecStr = strEsp8266_Fram_Record .Data_RX_BUF;
 1874              		.loc 1 622 12 view .LVU375
 1875 0042 0248     		ldr	r0, .L143
 1876              	.LVL164:
 623:./Hardware/ESP8266/bsp_esp8266.c **** 
 624:./Hardware/ESP8266/bsp_esp8266.c **** 	}
 625:./Hardware/ESP8266/bsp_esp8266.c **** 
 626:./Hardware/ESP8266/bsp_esp8266.c **** 	return pRecStr;
 1877              		.loc 1 626 2 is_stmt 1 view .LVU376
 1878              		.loc 1 626 9 is_stmt 0 view .LVU377
 1879 0044 00E0     		b	.L137
 1880              	.LVL165:
 1881              	.L140:
 617:./Hardware/ESP8266/bsp_esp8266.c **** 	
 1882              		.loc 1 617 11 view .LVU378
 1883 0046 0148     		ldr	r0, .L143
 1884              	.LVL166:
 1885              	.L137:
 627:./Hardware/ESP8266/bsp_esp8266.c **** 	
 628:./Hardware/ESP8266/bsp_esp8266.c **** }
 1886              		.loc 1 628 1 view .LVU379
 1887 0048 08BD     		pop	{r3, pc}
 1888              	.L144:
 1889 004a 00BF     		.align	2
 1890              	.L143:
 1891 004c 00000000 		.word	.LANCHOR0
 1892 0050 00000000 		.word	.LC41
 1893              		.cfi_endproc
 1894              	.LFE51:
 1896              		.global	strUSART_Fram_Record
 1897              		.global	strEsp8266_Fram_Record
 1898              		.section	.bss.strEsp8266_Fram_Record,"aw",%nobits
 1899              		.align	2
 1900              		.set	.LANCHOR0,. + 0
 1903              	strEsp8266_Fram_Record:
 1904 0000 00000000 		.space	1026
ARM GAS  /tmp/ccXEZ84N.s 			page 48


 1904      00000000 
 1904      00000000 
 1904      00000000 
 1904      00000000 
 1905              		.section	.bss.strUSART_Fram_Record,"aw",%nobits
 1906              		.align	2
 1909              	strUSART_Fram_Record:
 1910 0000 00000000 		.space	1026
 1910      00000000 
 1910      00000000 
 1910      00000000 
 1910      00000000 
 1911              		.text
 1912              	.Letext0:
 1913              		.file 2 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/machine/_default_types.h"
 1914              		.file 3 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h"
 1915              		.file 4 "./Libraries/CMSIS/stm32f10x.h"
 1916              		.file 5 "./Libraries/STM32F10x_StdPeriph_Driver/inc/stm32f10x_gpio.h"
 1917              		.file 6 "./Libraries/STM32F10x_StdPeriph_Driver/inc/stm32f10x_usart.h"
 1918              		.file 7 "./Libraries/STM32F10x_StdPeriph_Driver/inc/misc.h"
 1919              		.file 8 "./Hardware/ESP8266/bsp_esp8266.h"
 1920              		.file 9 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/string.h"
 1921              		.file 10 "/home/hao/Documents/gcc-arm-none-eabi/arm-none-eabi/include/stdio.h"
 1922              		.file 11 "./Hardware/dwt_delay/delay.h"
 1923              		.file 12 "./Libraries/STM32F10x_StdPeriph_Driver/inc/stm32f10x_rcc.h"
 1924              		.file 13 "<built-in>"
ARM GAS  /tmp/ccXEZ84N.s 			page 49


DEFINED SYMBOLS
                            *ABS*:0000000000000000 bsp_esp8266.c
     /tmp/ccXEZ84N.s:16     .text.ESP8266_GPIO_Config:0000000000000000 $t
     /tmp/ccXEZ84N.s:23     .text.ESP8266_GPIO_Config:0000000000000000 ESP8266_GPIO_Config
     /tmp/ccXEZ84N.s:85     .text.ESP8266_GPIO_Config:0000000000000040 $d
     /tmp/ccXEZ84N.s:90     .text.ESP8266_USART_NVIC_Configuration:0000000000000000 $t
     /tmp/ccXEZ84N.s:96     .text.ESP8266_USART_NVIC_Configuration:0000000000000000 ESP8266_USART_NVIC_Configuration
     /tmp/ccXEZ84N.s:143    .text.ESP8266_USART_Config:0000000000000000 $t
     /tmp/ccXEZ84N.s:149    .text.ESP8266_USART_Config:0000000000000000 ESP8266_USART_Config
     /tmp/ccXEZ84N.s:262    .text.ESP8266_USART_Config:0000000000000098 $d
     /tmp/ccXEZ84N.s:267    .text.ESP8266_Init:0000000000000000 $t
     /tmp/ccXEZ84N.s:274    .text.ESP8266_Init:0000000000000000 ESP8266_Init
     /tmp/ccXEZ84N.s:307    .text.ESP8266_Init:0000000000000020 $d
     /tmp/ccXEZ84N.s:312    .text.ESP8266_Rst:0000000000000000 $t
     /tmp/ccXEZ84N.s:319    .text.ESP8266_Rst:0000000000000000 ESP8266_Rst
     /tmp/ccXEZ84N.s:350    .text.ESP8266_Rst:0000000000000020 $d
     /tmp/ccXEZ84N.s:355    .rodata.ESP8266_Cmd.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:362    .text.ESP8266_Cmd:0000000000000000 $t
     /tmp/ccXEZ84N.s:369    .text.ESP8266_Cmd:0000000000000000 ESP8266_Cmd
     /tmp/ccXEZ84N.s:513    .text.ESP8266_Cmd:00000000000000a4 $d
     /tmp/ccXEZ84N.s:521    .rodata.ESP8266_AT_Test.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:538    .text.ESP8266_AT_Test:0000000000000000 $t
     /tmp/ccXEZ84N.s:545    .text.ESP8266_AT_Test:0000000000000000 ESP8266_AT_Test
     /tmp/ccXEZ84N.s:632    .text.ESP8266_AT_Test:0000000000000058 $d
     /tmp/ccXEZ84N.s:643    .rodata.ESP8266_Net_Mode_Choose.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:656    .text.ESP8266_Net_Mode_Choose:0000000000000000 $t
     /tmp/ccXEZ84N.s:663    .text.ESP8266_Net_Mode_Choose:0000000000000000 ESP8266_Net_Mode_Choose
     /tmp/ccXEZ84N.s:729    .text.ESP8266_Net_Mode_Choose:0000000000000040 $d
     /tmp/ccXEZ84N.s:738    .rodata.ESP8266_JoinAP.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:742    .text.ESP8266_JoinAP:0000000000000000 $t
     /tmp/ccXEZ84N.s:749    .text.ESP8266_JoinAP:0000000000000000 ESP8266_JoinAP
     /tmp/ccXEZ84N.s:793    .text.ESP8266_JoinAP:0000000000000024 $d
     /tmp/ccXEZ84N.s:799    .rodata.ESP8266_BuildAP.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:803    .text.ESP8266_BuildAP:0000000000000000 $t
     /tmp/ccXEZ84N.s:810    .text.ESP8266_BuildAP:0000000000000000 ESP8266_BuildAP
     /tmp/ccXEZ84N.s:857    .text.ESP8266_BuildAP:0000000000000028 $d
     /tmp/ccXEZ84N.s:863    .rodata.ESP8266_Enable_MultipleId.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:867    .text.ESP8266_Enable_MultipleId:0000000000000000 $t
     /tmp/ccXEZ84N.s:874    .text.ESP8266_Enable_MultipleId:0000000000000000 ESP8266_Enable_MultipleId
     /tmp/ccXEZ84N.s:917    .text.ESP8266_Enable_MultipleId:0000000000000028 $d
     /tmp/ccXEZ84N.s:923    .rodata.ESP8266_Link_Server.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:942    .text.ESP8266_Link_Server:0000000000000000 $t
     /tmp/ccXEZ84N.s:949    .text.ESP8266_Link_Server:0000000000000000 ESP8266_Link_Server
     /tmp/ccXEZ84N.s:1054   .text.ESP8266_Link_Server:000000000000006c $d
     /tmp/ccXEZ84N.s:1065   .rodata.ESP8266_StartOrShutServer.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:1072   .text.ESP8266_StartOrShutServer:0000000000000000 $t
     /tmp/ccXEZ84N.s:1079   .text.ESP8266_StartOrShutServer:0000000000000000 ESP8266_StartOrShutServer
     /tmp/ccXEZ84N.s:1179   .text.ESP8266_StartOrShutServer:0000000000000068 $d
     /tmp/ccXEZ84N.s:1186   .rodata.ESP8266_Get_LinkStatus.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:1199   .text.ESP8266_Get_LinkStatus:0000000000000000 $t
     /tmp/ccXEZ84N.s:1206   .text.ESP8266_Get_LinkStatus:0000000000000000 ESP8266_Get_LinkStatus
     /tmp/ccXEZ84N.s:1271   .text.ESP8266_Get_LinkStatus:0000000000000040 $d
     /tmp/ccXEZ84N.s:1281   .rodata.ESP8266_Get_IdLinkStatus.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:1297   .text.ESP8266_Get_IdLinkStatus:0000000000000000 $t
     /tmp/ccXEZ84N.s:1304   .text.ESP8266_Get_IdLinkStatus:0000000000000000 ESP8266_Get_IdLinkStatus
     /tmp/ccXEZ84N.s:1431   .text.ESP8266_Get_IdLinkStatus:0000000000000074 $d
     /tmp/ccXEZ84N.s:1443   .rodata.ESP8266_Inquire_ApIp.str1.4:0000000000000000 $d
ARM GAS  /tmp/ccXEZ84N.s 			page 50


     /tmp/ccXEZ84N.s:1450   .text.ESP8266_Inquire_ApIp:0000000000000000 $t
     /tmp/ccXEZ84N.s:1457   .text.ESP8266_Inquire_ApIp:0000000000000000 ESP8266_Inquire_ApIp
     /tmp/ccXEZ84N.s:1552   .text.ESP8266_Inquire_ApIp:0000000000000044 $d
     /tmp/ccXEZ84N.s:1560   .rodata.ESP8266_UnvarnishSend.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:1570   .text.ESP8266_UnvarnishSend:0000000000000000 $t
     /tmp/ccXEZ84N.s:1577   .text.ESP8266_UnvarnishSend:0000000000000000 ESP8266_UnvarnishSend
     /tmp/ccXEZ84N.s:1614   .text.ESP8266_UnvarnishSend:0000000000000024 $d
     /tmp/ccXEZ84N.s:1622   .rodata.ESP8266_ExitUnvarnishSend.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:1626   .text.ESP8266_ExitUnvarnishSend:0000000000000000 $t
     /tmp/ccXEZ84N.s:1633   .text.ESP8266_ExitUnvarnishSend:0000000000000000 ESP8266_ExitUnvarnishSend
     /tmp/ccXEZ84N.s:1662   .text.ESP8266_ExitUnvarnishSend:000000000000001c $d
     /tmp/ccXEZ84N.s:1668   .rodata.ESP8266_SendString.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:1681   .text.ESP8266_SendString:0000000000000000 $t
     /tmp/ccXEZ84N.s:1688   .text.ESP8266_SendString:0000000000000000 ESP8266_SendString
     /tmp/ccXEZ84N.s:1796   .text.ESP8266_SendString:0000000000000054 $d
     /tmp/ccXEZ84N.s:1806   .rodata.ESP8266_ReceiveString.str1.4:0000000000000000 $d
     /tmp/ccXEZ84N.s:1810   .text.ESP8266_ReceiveString:0000000000000000 $t
     /tmp/ccXEZ84N.s:1817   .text.ESP8266_ReceiveString:0000000000000000 ESP8266_ReceiveString
     /tmp/ccXEZ84N.s:1891   .text.ESP8266_ReceiveString:000000000000004c $d
     /tmp/ccXEZ84N.s:1909   .bss.strUSART_Fram_Record:0000000000000000 strUSART_Fram_Record
     /tmp/ccXEZ84N.s:1903   .bss.strEsp8266_Fram_Record:0000000000000000 strEsp8266_Fram_Record
     /tmp/ccXEZ84N.s:1899   .bss.strEsp8266_Fram_Record:0000000000000000 $d
     /tmp/ccXEZ84N.s:1906   .bss.strUSART_Fram_Record:0000000000000000 $d

UNDEFINED SYMBOLS
RCC_APB2PeriphClockCmd
GPIO_Init
NVIC_PriorityGroupConfig
NVIC_Init
RCC_APB1PeriphClockCmd
USART_Init
USART_ITConfig
USART_Cmd
GPIO_SetBits
GPIO_ResetBits
DelayXms
UsartPrintf
printf
strstr
sprintf
memset
USART_printf
